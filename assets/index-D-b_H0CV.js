(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Tm={exports:{}},sl={},Pm={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi=Symbol.for("react.element"),Mv=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),$v=Symbol.for("react.profiler"),zv=Symbol.for("react.provider"),Wv=Symbol.for("react.context"),Bv=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),Vv=Symbol.for("react.memo"),Gv=Symbol.for("react.lazy"),Qh=Symbol.iterator;function qv(t){return t===null||typeof t!="object"?null:(t=Qh&&t[Qh]||t["@@iterator"],typeof t=="function"?t:null)}var Rm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Am=Object.assign,Dm={};function ps(t,e,n){this.props=t,this.context=e,this.refs=Dm,this.updater=n||Rm}ps.prototype.isReactComponent={};ps.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ps.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Om(){}Om.prototype=ps.prototype;function Xu(t,e,n){this.props=t,this.context=e,this.refs=Dm,this.updater=n||Rm}var Zu=Xu.prototype=new Om;Zu.constructor=Xu;Am(Zu,ps.prototype);Zu.isPureReactComponent=!0;var Jh=Array.isArray,Lm=Object.prototype.hasOwnProperty,ed={current:null},Mm={key:!0,ref:!0,__self:!0,__source:!0};function Fm(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Lm.call(e,r)&&!Mm.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Vi,type:t,key:i,ref:o,props:s,_owner:ed.current}}function Kv(t,e){return{$$typeof:Vi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function td(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vi}function Yv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xh=/\/+/g;function Hl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yv(""+t.key):e.toString(36)}function $o(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vi:case Mv:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Hl(o,0):r,Jh(s)?(n="",t!=null&&(n=t.replace(Xh,"$&/")+"/"),$o(s,e,n,"",function(u){return u})):s!=null&&(td(s)&&(s=Kv(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xh,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Jh(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Hl(i,l);o+=$o(i,e,n,c,s)}else if(c=qv(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Hl(i,l++),o+=$o(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yo(t,e,n){if(t==null)return t;var r=[],s=0;return $o(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Qv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Me={current:null},zo={transition:null},Jv={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:zo,ReactCurrentOwner:ed};function Um(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:yo,forEach:function(t,e,n){yo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yo(t,function(){e++}),e},toArray:function(t){return yo(t,function(e){return e})||[]},only:function(t){if(!td(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=ps;z.Fragment=Fv;z.Profiler=$v;z.PureComponent=Xu;z.StrictMode=Uv;z.Suspense=Hv;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jv;z.act=Um;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Am({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ed.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Lm.call(e,c)&&!Mm.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Vi,type:t.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:Wv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zv,_context:t},t.Consumer=t};z.createElement=Fm;z.createFactory=function(t){var e=Fm.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Bv,render:t}};z.isValidElement=td;z.lazy=function(t){return{$$typeof:Gv,_payload:{_status:-1,_result:t},_init:Qv}};z.memo=function(t,e){return{$$typeof:Vv,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=zo.transition;zo.transition={};try{t()}finally{zo.transition=e}};z.unstable_act=Um;z.useCallback=function(t,e){return Me.current.useCallback(t,e)};z.useContext=function(t){return Me.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Me.current.useDeferredValue(t)};z.useEffect=function(t,e){return Me.current.useEffect(t,e)};z.useId=function(){return Me.current.useId()};z.useImperativeHandle=function(t,e,n){return Me.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return Me.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Me.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Me.current.useMemo(t,e)};z.useReducer=function(t,e,n){return Me.current.useReducer(t,e,n)};z.useRef=function(t){return Me.current.useRef(t)};z.useState=function(t){return Me.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return Me.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return Me.current.useTransition()};z.version="18.3.1";Pm.exports=z;var v=Pm.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv=v,Zv=Symbol.for("react.element"),e_=Symbol.for("react.fragment"),t_=Object.prototype.hasOwnProperty,n_=Xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r_={key:!0,ref:!0,__self:!0,__source:!0};function $m(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)t_.call(e,r)&&!r_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Zv,type:t,key:i,ref:o,props:s,_owner:n_.current}}sl.Fragment=e_;sl.jsx=$m;sl.jsxs=$m;Tm.exports=sl;var a=Tm.exports,zm={exports:{}},Ze={},Wm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,L){var M=j.length;j.push(L);e:for(;0<M;){var ce=M-1>>>1,ge=j[ce];if(0<s(ge,L))j[ce]=L,j[M]=ge,M=ce;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var L=j[0],M=j.pop();if(M!==L){j[0]=M;e:for(var ce=0,ge=j.length,mo=ge>>>1;ce<mo;){var Kn=2*(ce+1)-1,Bl=j[Kn],Yn=Kn+1,go=j[Yn];if(0>s(Bl,M))Yn<ge&&0>s(go,Bl)?(j[ce]=go,j[Yn]=M,ce=Yn):(j[ce]=Bl,j[Kn]=M,ce=Kn);else if(Yn<ge&&0>s(go,M))j[ce]=go,j[Yn]=M,ce=Yn;else break e}}return L}function s(j,L){var M=j.sortIndex-L.sortIndex;return M!==0?M:j.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,d=3,g=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=j)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function N(j){if(x=!1,_(j),!y)if(n(c)!==null)y=!0,zl(b);else{var L=n(u);L!==null&&Wl(N,L.startTime-j)}}function b(j,L){y=!1,x&&(x=!1,m(T),T=-1),g=!0;var M=d;try{for(_(L),f=n(c);f!==null&&(!(f.expirationTime>L)||j&&!Ue());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,d=f.priorityLevel;var ge=ce(f.expirationTime<=L);L=t.unstable_now(),typeof ge=="function"?f.callback=ge:f===n(c)&&r(c),_(L)}else r(c);f=n(c)}if(f!==null)var mo=!0;else{var Kn=n(u);Kn!==null&&Wl(N,Kn.startTime-L),mo=!1}return mo}finally{f=null,d=M,g=!1}}var I=!1,S=null,T=-1,H=5,O=-1;function Ue(){return!(t.unstable_now()-O<H)}function Is(){if(S!==null){var j=t.unstable_now();O=j;var L=!0;try{L=S(!0,j)}finally{L?js():(I=!1,S=null)}}else I=!1}var js;if(typeof p=="function")js=function(){p(Is)};else if(typeof MessageChannel<"u"){var Yh=new MessageChannel,Lv=Yh.port2;Yh.port1.onmessage=Is,js=function(){Lv.postMessage(null)}}else js=function(){w(Is,0)};function zl(j){S=j,I||(I=!0,js())}function Wl(j,L){T=w(function(){j(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,zl(b))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var M=d;d=L;try{return j()}finally{d=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,L){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=d;d=j;try{return L()}finally{d=M}},t.unstable_scheduleCallback=function(j,L,M){var ce=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ce+M:ce):M=ce,j){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=M+ge,j={id:h++,callback:L,priorityLevel:j,startTime:M,expirationTime:ge,sortIndex:-1},M>ce?(j.sortIndex=M,e(u,j),n(c)===null&&j===n(u)&&(x?(m(T),T=-1):x=!0,Wl(N,M-ce))):(j.sortIndex=ge,e(c,j),y||g||(y=!0,zl(b))),j},t.unstable_shouldYield=Ue,t.unstable_wrapCallback=function(j){var L=d;return function(){var M=d;d=L;try{return j.apply(this,arguments)}finally{d=M}}}})(Bm);Wm.exports=Bm;var s_=Wm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_=v,Xe=s_;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hm=new Set,fi={};function wr(t,e){ts(t,e),ts(t+"Capture",e)}function ts(t,e){for(fi[t]=e,t=0;t<e.length;t++)Hm.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=Object.prototype.hasOwnProperty,o_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zh={},ef={};function a_(t){return Ac.call(ef,t)?!0:Ac.call(Zh,t)?!1:o_.test(t)?ef[t]=!0:(Zh[t]=!0,!1)}function l_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c_(t,e,n,r){if(e===null||typeof e>"u"||l_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){be[t]=new Fe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];be[e]=new Fe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){be[t]=new Fe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){be[t]=new Fe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){be[t]=new Fe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){be[t]=new Fe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){be[t]=new Fe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){be[t]=new Fe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){be[t]=new Fe(t,5,!1,t.toLowerCase(),null,!1,!1)});var nd=/[\-:]([a-z])/g;function rd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nd,rd);be[e]=new Fe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nd,rd);be[e]=new Fe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nd,rd);be[e]=new Fe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){be[t]=new Fe(t,1,!1,t.toLowerCase(),null,!1,!1)});be.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){be[t]=new Fe(t,1,!1,t.toLowerCase(),null,!0,!0)});function sd(t,e,n,r){var s=be.hasOwnProperty(e)?be[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c_(e,n,s,r)&&(n=null),r||s===null?a_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var nn=i_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xo=Symbol.for("react.element"),jr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),id=Symbol.for("react.strict_mode"),Dc=Symbol.for("react.profiler"),Vm=Symbol.for("react.provider"),Gm=Symbol.for("react.context"),od=Symbol.for("react.forward_ref"),Oc=Symbol.for("react.suspense"),Lc=Symbol.for("react.suspense_list"),ad=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),qm=Symbol.for("react.offscreen"),tf=Symbol.iterator;function Ts(t){return t===null||typeof t!="object"?null:(t=tf&&t[tf]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,Vl;function Bs(t){if(Vl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vl=e&&e[1]||""}return`
`+Vl+t}var Gl=!1;function ql(t,e){if(!t||Gl)return"";Gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bs(t):""}function u_(t){switch(t.tag){case 5:return Bs(t.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return t=ql(t.type,!1),t;case 11:return t=ql(t.type.render,!1),t;case 1:return t=ql(t.type,!0),t;default:return""}}function Mc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tr:return"Fragment";case jr:return"Portal";case Dc:return"Profiler";case id:return"StrictMode";case Oc:return"Suspense";case Lc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gm:return(t.displayName||"Context")+".Consumer";case Vm:return(t._context.displayName||"Context")+".Provider";case od:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ad:return e=t.displayName||null,e!==null?e:Mc(t.type)||"Memo";case ln:e=t._payload,t=t._init;try{return Mc(t(e))}catch{}}return null}function d_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mc(e);case 8:return e===id?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Km(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h_(t){var e=Km(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vo(t){t._valueTracker||(t._valueTracker=h_(t))}function Ym(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Km(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fc(t,e){var n=e.checked;return oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qm(t,e){e=e.checked,e!=null&&sd(t,"checked",e,!1)}function Uc(t,e){Qm(t,e);var n=Dn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$c(t,e.type,n):e.hasOwnProperty("defaultValue")&&$c(t,e.type,Dn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $c(t,e,n){(e!=="number"||oa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hs=Array.isArray;function Br(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Hs(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dn(n)}}function Jm(t,e){var n=Dn(e.value),r=Dn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function of(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _o,Zm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_o=_o||document.createElement("div"),_o.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_o.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f_=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(t){f_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ys[e]=Ys[t]})});function eg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ys.hasOwnProperty(t)&&Ys[t]?(""+e).trim():e+"px"}function tg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=eg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var p_=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bc(t,e){if(e){if(p_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Hc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=null;function ld(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gc=null,Hr=null,Vr=null;function af(t){if(t=Ki(t)){if(typeof Gc!="function")throw Error(C(280));var e=t.stateNode;e&&(e=cl(e),Gc(t.stateNode,t.type,e))}}function ng(t){Hr?Vr?Vr.push(t):Vr=[t]:Hr=t}function rg(){if(Hr){var t=Hr,e=Vr;if(Vr=Hr=null,af(t),e)for(t=0;t<e.length;t++)af(e[t])}}function sg(t,e){return t(e)}function ig(){}var Kl=!1;function og(t,e,n){if(Kl)return t(e,n);Kl=!0;try{return sg(t,e,n)}finally{Kl=!1,(Hr!==null||Vr!==null)&&(ig(),rg())}}function mi(t,e){var n=t.stateNode;if(n===null)return null;var r=cl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var qc=!1;if(qt)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){qc=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{qc=!1}function m_(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Qs=!1,aa=null,la=!1,Kc=null,g_={onError:function(t){Qs=!0,aa=t}};function y_(t,e,n,r,s,i,o,l,c){Qs=!1,aa=null,m_.apply(g_,arguments)}function x_(t,e,n,r,s,i,o,l,c){if(y_.apply(this,arguments),Qs){if(Qs){var u=aa;Qs=!1,aa=null}else throw Error(C(198));la||(la=!0,Kc=u)}}function Nr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ag(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lf(t){if(Nr(t)!==t)throw Error(C(188))}function v_(t){var e=t.alternate;if(!e){if(e=Nr(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lf(s),t;if(i===r)return lf(s),e;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function lg(t){return t=v_(t),t!==null?cg(t):null}function cg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cg(t);if(e!==null)return e;t=t.sibling}return null}var ug=Xe.unstable_scheduleCallback,cf=Xe.unstable_cancelCallback,__=Xe.unstable_shouldYield,w_=Xe.unstable_requestPaint,ue=Xe.unstable_now,N_=Xe.unstable_getCurrentPriorityLevel,cd=Xe.unstable_ImmediatePriority,dg=Xe.unstable_UserBlockingPriority,ca=Xe.unstable_NormalPriority,C_=Xe.unstable_LowPriority,hg=Xe.unstable_IdlePriority,il=null,kt=null;function E_(t){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(il,t,void 0,(t.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:k_,b_=Math.log,S_=Math.LN2;function k_(t){return t>>>=0,t===0?32:31-(b_(t)/S_|0)|0}var wo=64,No=4194304;function Vs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ua(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Vs(l):(i&=o,i!==0&&(r=Vs(i)))}else o=n&~s,o!==0?r=Vs(o):i!==0&&(r=Vs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yt(e),s=1<<n,r|=t[n],e&=~s;return r}function I_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-yt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=I_(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Yc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fg(){var t=wo;return wo<<=1,!(wo&4194240)&&(wo=64),t}function Yl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yt(e),t[e]=n}function T_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-yt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ud(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var q=0;function pg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mg,dd,gg,yg,xg,Qc=!1,Co=[],vn=null,_n=null,wn=null,gi=new Map,yi=new Map,un=[],P_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uf(t,e){switch(t){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":gi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(e.pointerId)}}function Rs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ki(e),e!==null&&dd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function R_(t,e,n,r,s){switch(e){case"focusin":return vn=Rs(vn,t,e,n,r,s),!0;case"dragenter":return _n=Rs(_n,t,e,n,r,s),!0;case"mouseover":return wn=Rs(wn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return gi.set(i,Rs(gi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yi.set(i,Rs(yi.get(i)||null,t,e,n,r,s)),!0}return!1}function vg(t){var e=tr(t.target);if(e!==null){var n=Nr(e);if(n!==null){if(e=n.tag,e===13){if(e=ag(n),e!==null){t.blockedOn=e,xg(t.priority,function(){gg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vc=r,n.target.dispatchEvent(r),Vc=null}else return e=Ki(n),e!==null&&dd(e),t.blockedOn=n,!1;e.shift()}return!0}function df(t,e,n){Wo(t)&&n.delete(e)}function A_(){Qc=!1,vn!==null&&Wo(vn)&&(vn=null),_n!==null&&Wo(_n)&&(_n=null),wn!==null&&Wo(wn)&&(wn=null),gi.forEach(df),yi.forEach(df)}function As(t,e){t.blockedOn===e&&(t.blockedOn=null,Qc||(Qc=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,A_)))}function xi(t){function e(s){return As(s,t)}if(0<Co.length){As(Co[0],t);for(var n=1;n<Co.length;n++){var r=Co[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vn!==null&&As(vn,t),_n!==null&&As(_n,t),wn!==null&&As(wn,t),gi.forEach(e),yi.forEach(e),n=0;n<un.length;n++)r=un[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)vg(n),n.blockedOn===null&&un.shift()}var Gr=nn.ReactCurrentBatchConfig,da=!0;function D_(t,e,n,r){var s=q,i=Gr.transition;Gr.transition=null;try{q=1,hd(t,e,n,r)}finally{q=s,Gr.transition=i}}function O_(t,e,n,r){var s=q,i=Gr.transition;Gr.transition=null;try{q=4,hd(t,e,n,r)}finally{q=s,Gr.transition=i}}function hd(t,e,n,r){if(da){var s=Jc(t,e,n,r);if(s===null)ic(t,e,r,ha,n),uf(t,r);else if(R_(s,t,e,n,r))r.stopPropagation();else if(uf(t,r),e&4&&-1<P_.indexOf(t)){for(;s!==null;){var i=Ki(s);if(i!==null&&mg(i),i=Jc(t,e,n,r),i===null&&ic(t,e,r,ha,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ic(t,e,r,null,n)}}var ha=null;function Jc(t,e,n,r){if(ha=null,t=ld(r),t=tr(t),t!==null)if(e=Nr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ag(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ha=t,null}function _g(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N_()){case cd:return 1;case dg:return 4;case ca:case C_:return 16;case hg:return 536870912;default:return 16}default:return 16}}var yn=null,fd=null,Bo=null;function wg(){if(Bo)return Bo;var t,e=fd,n=e.length,r,s="value"in yn?yn.value:yn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Bo=s.slice(t,1<r?1-r:void 0)}function Ho(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eo(){return!0}function hf(){return!1}function et(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Eo:hf,this.isPropagationStopped=hf,this}return oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),e}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pd=et(ms),qi=oe({},ms,{view:0,detail:0}),L_=et(qi),Ql,Jl,Ds,ol=oe({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:md,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ds&&(Ds&&t.type==="mousemove"?(Ql=t.screenX-Ds.screenX,Jl=t.screenY-Ds.screenY):Jl=Ql=0,Ds=t),Ql)},movementY:function(t){return"movementY"in t?t.movementY:Jl}}),ff=et(ol),M_=oe({},ol,{dataTransfer:0}),F_=et(M_),U_=oe({},qi,{relatedTarget:0}),Xl=et(U_),$_=oe({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),z_=et($_),W_=oe({},ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B_=et(W_),H_=oe({},ms,{data:0}),pf=et(H_),V_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=q_[t])?!!e[t]:!1}function md(){return K_}var Y_=oe({},qi,{key:function(t){if(t.key){var e=V_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ho(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:md,charCode:function(t){return t.type==="keypress"?Ho(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ho(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q_=et(Y_),J_=oe({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mf=et(J_),X_=oe({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:md}),Z_=et(X_),ew=oe({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),tw=et(ew),nw=oe({},ol,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rw=et(nw),sw=[9,13,27,32],gd=qt&&"CompositionEvent"in window,Js=null;qt&&"documentMode"in document&&(Js=document.documentMode);var iw=qt&&"TextEvent"in window&&!Js,Ng=qt&&(!gd||Js&&8<Js&&11>=Js),gf=" ",yf=!1;function Cg(t,e){switch(t){case"keyup":return sw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function ow(t,e){switch(t){case"compositionend":return Eg(e);case"keypress":return e.which!==32?null:(yf=!0,gf);case"textInput":return t=e.data,t===gf&&yf?null:t;default:return null}}function aw(t,e){if(Pr)return t==="compositionend"||!gd&&Cg(t,e)?(t=wg(),Bo=fd=yn=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ng&&e.locale!=="ko"?null:e.data;default:return null}}var lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lw[t.type]:e==="textarea"}function bg(t,e,n,r){ng(r),e=fa(e,"onChange"),0<e.length&&(n=new pd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xs=null,vi=null;function cw(t){Lg(t,0)}function al(t){var e=Dr(t);if(Ym(e))return t}function uw(t,e){if(t==="change")return e}var Sg=!1;if(qt){var Zl;if(qt){var ec="oninput"in document;if(!ec){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),ec=typeof vf.oninput=="function"}Zl=ec}else Zl=!1;Sg=Zl&&(!document.documentMode||9<document.documentMode)}function _f(){Xs&&(Xs.detachEvent("onpropertychange",kg),vi=Xs=null)}function kg(t){if(t.propertyName==="value"&&al(vi)){var e=[];bg(e,vi,t,ld(t)),og(cw,e)}}function dw(t,e,n){t==="focusin"?(_f(),Xs=e,vi=n,Xs.attachEvent("onpropertychange",kg)):t==="focusout"&&_f()}function hw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return al(vi)}function fw(t,e){if(t==="click")return al(e)}function pw(t,e){if(t==="input"||t==="change")return al(e)}function mw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _t=typeof Object.is=="function"?Object.is:mw;function _i(t,e){if(_t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ac.call(e,s)||!_t(t[s],e[s]))return!1}return!0}function wf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nf(t,e){var n=wf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wf(n)}}function Ig(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ig(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jg(){for(var t=window,e=oa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=oa(t.document)}return e}function yd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gw(t){var e=jg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ig(n.ownerDocument.documentElement,n)){if(r!==null&&yd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Nf(n,i);var o=Nf(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yw=qt&&"documentMode"in document&&11>=document.documentMode,Rr=null,Xc=null,Zs=null,Zc=!1;function Cf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zc||Rr==null||Rr!==oa(r)||(r=Rr,"selectionStart"in r&&yd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zs&&_i(Zs,r)||(Zs=r,r=fa(Xc,"onSelect"),0<r.length&&(e=new pd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rr)))}function bo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ar={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionend:bo("Transition","TransitionEnd")},tc={},Tg={};qt&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function ll(t){if(tc[t])return tc[t];if(!Ar[t])return t;var e=Ar[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tg)return tc[t]=e[n];return t}var Pg=ll("animationend"),Rg=ll("animationiteration"),Ag=ll("animationstart"),Dg=ll("transitionend"),Og=new Map,Ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(t,e){Og.set(t,e),wr(e,[t])}for(var nc=0;nc<Ef.length;nc++){var rc=Ef[nc],xw=rc.toLowerCase(),vw=rc[0].toUpperCase()+rc.slice(1);$n(xw,"on"+vw)}$n(Pg,"onAnimationEnd");$n(Rg,"onAnimationIteration");$n(Ag,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(Dg,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_w=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function bf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,x_(r,e,void 0,t),t.currentTarget=null}function Lg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;bf(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;bf(s,l,u),i=c}}}if(la)throw t=Kc,la=!1,Kc=null,t}function Z(t,e){var n=e[su];n===void 0&&(n=e[su]=new Set);var r=t+"__bubble";n.has(r)||(Mg(e,t,2,!1),n.add(r))}function sc(t,e,n){var r=0;e&&(r|=4),Mg(n,t,r,e)}var So="_reactListening"+Math.random().toString(36).slice(2);function wi(t){if(!t[So]){t[So]=!0,Hm.forEach(function(n){n!=="selectionchange"&&(_w.has(n)||sc(n,!1,t),sc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[So]||(e[So]=!0,sc("selectionchange",!1,e))}}function Mg(t,e,n,r){switch(_g(e)){case 1:var s=D_;break;case 4:s=O_;break;default:s=hd}n=s.bind(null,e,n,t),s=void 0,!qc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ic(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=tr(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}og(function(){var u=i,h=ld(n),f=[];e:{var d=Og.get(t);if(d!==void 0){var g=pd,y=t;switch(t){case"keypress":if(Ho(n)===0)break e;case"keydown":case"keyup":g=Q_;break;case"focusin":y="focus",g=Xl;break;case"focusout":y="blur",g=Xl;break;case"beforeblur":case"afterblur":g=Xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=F_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Z_;break;case Pg:case Rg:case Ag:g=z_;break;case Dg:g=tw;break;case"scroll":g=L_;break;case"wheel":g=rw;break;case"copy":case"cut":case"paste":g=B_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mf}var x=(e&4)!==0,w=!x&&t==="scroll",m=x?d!==null?d+"Capture":null:d;x=[];for(var p=u,_;p!==null;){_=p;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,m!==null&&(N=mi(p,m),N!=null&&x.push(Ni(p,N,_)))),w)break;p=p.return}0<x.length&&(d=new g(d,y,null,n,h),f.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Vc&&(y=n.relatedTarget||n.fromElement)&&(tr(y)||y[Kt]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?tr(y):null,y!==null&&(w=Nr(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=ff,N="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=mf,N="onPointerLeave",m="onPointerEnter",p="pointer"),w=g==null?d:Dr(g),_=y==null?d:Dr(y),d=new x(N,p+"leave",g,n,h),d.target=w,d.relatedTarget=_,N=null,tr(h)===u&&(x=new x(m,p+"enter",y,n,h),x.target=_,x.relatedTarget=w,N=x),w=N,g&&y)t:{for(x=g,m=y,p=0,_=x;_;_=Sr(_))p++;for(_=0,N=m;N;N=Sr(N))_++;for(;0<p-_;)x=Sr(x),p--;for(;0<_-p;)m=Sr(m),_--;for(;p--;){if(x===m||m!==null&&x===m.alternate)break t;x=Sr(x),m=Sr(m)}x=null}else x=null;g!==null&&Sf(f,d,g,x,!1),y!==null&&w!==null&&Sf(f,w,y,x,!0)}}e:{if(d=u?Dr(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var b=uw;else if(xf(d))if(Sg)b=pw;else{b=hw;var I=dw}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=fw);if(b&&(b=b(t,u))){bg(f,b,n,h);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&$c(d,"number",d.value)}switch(I=u?Dr(u):window,t){case"focusin":(xf(I)||I.contentEditable==="true")&&(Rr=I,Xc=u,Zs=null);break;case"focusout":Zs=Xc=Rr=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,Cf(f,n,h);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":Cf(f,n,h)}var S;if(gd)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Pr?Cg(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Ng&&n.locale!=="ko"&&(Pr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Pr&&(S=wg()):(yn=h,fd="value"in yn?yn.value:yn.textContent,Pr=!0)),I=fa(u,T),0<I.length&&(T=new pf(T,t,null,n,h),f.push({event:T,listeners:I}),S?T.data=S:(S=Eg(n),S!==null&&(T.data=S)))),(S=iw?ow(t,n):aw(t,n))&&(u=fa(u,"onBeforeInput"),0<u.length&&(h=new pf("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=S))}Lg(f,e)})}function Ni(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fa(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mi(t,n),i!=null&&r.unshift(Ni(t,i,s)),i=mi(t,e),i!=null&&r.push(Ni(t,i,s))),t=t.return}return r}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sf(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=mi(n,i),c!=null&&o.unshift(Ni(n,c,l))):s||(c=mi(n,i),c!=null&&o.push(Ni(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ww=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function kf(t){return(typeof t=="string"?t:""+t).replace(ww,`
`).replace(Nw,"")}function ko(t,e,n){if(e=kf(e),kf(t)!==e&&n)throw Error(C(425))}function pa(){}var eu=null,tu=null;function nu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,Cw=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(t){return If.resolve(null).then(t).catch(bw)}:ru;function bw(t){setTimeout(function(){throw t})}function oc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xi(e)}function Nn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gs=Math.random().toString(36).slice(2),St="__reactFiber$"+gs,Ci="__reactProps$"+gs,Kt="__reactContainer$"+gs,su="__reactEvents$"+gs,Sw="__reactListeners$"+gs,kw="__reactHandles$"+gs;function tr(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kt]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jf(t);t!==null;){if(n=t[St])return n;t=jf(t)}return e}t=n,n=t.parentNode}return null}function Ki(t){return t=t[St]||t[Kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Dr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function cl(t){return t[Ci]||null}var iu=[],Or=-1;function zn(t){return{current:t}}function te(t){0>Or||(t.current=iu[Or],iu[Or]=null,Or--)}function X(t,e){Or++,iu[Or]=t.current,t.current=e}var On={},Te=zn(On),Be=zn(!1),cr=On;function ns(t,e){var n=t.type.contextTypes;if(!n)return On;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function He(t){return t=t.childContextTypes,t!=null}function ma(){te(Be),te(Te)}function Tf(t,e,n){if(Te.current!==On)throw Error(C(168));X(Te,e),X(Be,n)}function Fg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(C(108,d_(t)||"Unknown",s));return oe({},n,r)}function ga(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,cr=Te.current,X(Te,t),X(Be,Be.current),!0}function Pf(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=Fg(t,e,cr),r.__reactInternalMemoizedMergedChildContext=t,te(Be),te(Te),X(Te,t)):te(Be),X(Be,n)}var Lt=null,ul=!1,ac=!1;function Ug(t){Lt===null?Lt=[t]:Lt.push(t)}function Iw(t){ul=!0,Ug(t)}function Wn(){if(!ac&&Lt!==null){ac=!0;var t=0,e=q;try{var n=Lt;for(q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lt=null,ul=!1}catch(s){throw Lt!==null&&(Lt=Lt.slice(t+1)),ug(cd,Wn),s}finally{q=e,ac=!1}}return null}var Lr=[],Mr=0,ya=null,xa=0,nt=[],rt=0,ur=null,Mt=1,Ft="";function Qn(t,e){Lr[Mr++]=xa,Lr[Mr++]=ya,ya=t,xa=e}function $g(t,e,n){nt[rt++]=Mt,nt[rt++]=Ft,nt[rt++]=ur,ur=t;var r=Mt;t=Ft;var s=32-yt(r)-1;r&=~(1<<s),n+=1;var i=32-yt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Mt=1<<32-yt(e)+s|n<<s|r,Ft=i+t}else Mt=1<<i|n<<s|r,Ft=t}function xd(t){t.return!==null&&(Qn(t,1),$g(t,1,0))}function vd(t){for(;t===ya;)ya=Lr[--Mr],Lr[Mr]=null,xa=Lr[--Mr],Lr[Mr]=null;for(;t===ur;)ur=nt[--rt],nt[rt]=null,Ft=nt[--rt],nt[rt]=null,Mt=nt[--rt],nt[rt]=null}var Je=null,Qe=null,ne=!1,ht=null;function zg(t,e){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Je=t,Qe=Nn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Je=t,Qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ur!==null?{id:Mt,overflow:Ft}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Je=t,Qe=null,!0):!1;default:return!1}}function ou(t){return(t.mode&1)!==0&&(t.flags&128)===0}function au(t){if(ne){var e=Qe;if(e){var n=e;if(!Rf(t,e)){if(ou(t))throw Error(C(418));e=Nn(n.nextSibling);var r=Je;e&&Rf(t,e)?zg(r,n):(t.flags=t.flags&-4097|2,ne=!1,Je=t)}}else{if(ou(t))throw Error(C(418));t.flags=t.flags&-4097|2,ne=!1,Je=t}}}function Af(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Je=t}function Io(t){if(t!==Je)return!1;if(!ne)return Af(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nu(t.type,t.memoizedProps)),e&&(e=Qe)){if(ou(t))throw Wg(),Error(C(418));for(;e;)zg(t,e),e=Nn(e.nextSibling)}if(Af(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qe=Nn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qe=null}}else Qe=Je?Nn(t.stateNode.nextSibling):null;return!0}function Wg(){for(var t=Qe;t;)t=Nn(t.nextSibling)}function rs(){Qe=Je=null,ne=!1}function _d(t){ht===null?ht=[t]:ht.push(t)}var jw=nn.ReactCurrentBatchConfig;function Os(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function jo(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Df(t){var e=t._init;return e(t._payload)}function Bg(t){function e(m,p){if(t){var _=m.deletions;_===null?(m.deletions=[p],m.flags|=16):_.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Sn(m,p),m.index=0,m.sibling=null,m}function i(m,p,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<p?(m.flags|=2,p):_):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,_,N){return p===null||p.tag!==6?(p=pc(_,m.mode,N),p.return=m,p):(p=s(p,_),p.return=m,p)}function c(m,p,_,N){var b=_.type;return b===Tr?h(m,p,_.props.children,N,_.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ln&&Df(b)===p.type)?(N=s(p,_.props),N.ref=Os(m,p,_),N.return=m,N):(N=Jo(_.type,_.key,_.props,null,m.mode,N),N.ref=Os(m,p,_),N.return=m,N)}function u(m,p,_,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=mc(_,m.mode,N),p.return=m,p):(p=s(p,_.children||[]),p.return=m,p)}function h(m,p,_,N,b){return p===null||p.tag!==7?(p=lr(_,m.mode,N,b),p.return=m,p):(p=s(p,_),p.return=m,p)}function f(m,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=pc(""+p,m.mode,_),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xo:return _=Jo(p.type,p.key,p.props,null,m.mode,_),_.ref=Os(m,null,p),_.return=m,_;case jr:return p=mc(p,m.mode,_),p.return=m,p;case ln:var N=p._init;return f(m,N(p._payload),_)}if(Hs(p)||Ts(p))return p=lr(p,m.mode,_,null),p.return=m,p;jo(m,p)}return null}function d(m,p,_,N){var b=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:l(m,p,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xo:return _.key===b?c(m,p,_,N):null;case jr:return _.key===b?u(m,p,_,N):null;case ln:return b=_._init,d(m,p,b(_._payload),N)}if(Hs(_)||Ts(_))return b!==null?null:h(m,p,_,N,null);jo(m,_)}return null}function g(m,p,_,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return m=m.get(_)||null,l(p,m,""+N,b);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case xo:return m=m.get(N.key===null?_:N.key)||null,c(p,m,N,b);case jr:return m=m.get(N.key===null?_:N.key)||null,u(p,m,N,b);case ln:var I=N._init;return g(m,p,_,I(N._payload),b)}if(Hs(N)||Ts(N))return m=m.get(_)||null,h(p,m,N,b,null);jo(p,N)}return null}function y(m,p,_,N){for(var b=null,I=null,S=p,T=p=0,H=null;S!==null&&T<_.length;T++){S.index>T?(H=S,S=null):H=S.sibling;var O=d(m,S,_[T],N);if(O===null){S===null&&(S=H);break}t&&S&&O.alternate===null&&e(m,S),p=i(O,p,T),I===null?b=O:I.sibling=O,I=O,S=H}if(T===_.length)return n(m,S),ne&&Qn(m,T),b;if(S===null){for(;T<_.length;T++)S=f(m,_[T],N),S!==null&&(p=i(S,p,T),I===null?b=S:I.sibling=S,I=S);return ne&&Qn(m,T),b}for(S=r(m,S);T<_.length;T++)H=g(S,m,T,_[T],N),H!==null&&(t&&H.alternate!==null&&S.delete(H.key===null?T:H.key),p=i(H,p,T),I===null?b=H:I.sibling=H,I=H);return t&&S.forEach(function(Ue){return e(m,Ue)}),ne&&Qn(m,T),b}function x(m,p,_,N){var b=Ts(_);if(typeof b!="function")throw Error(C(150));if(_=b.call(_),_==null)throw Error(C(151));for(var I=b=null,S=p,T=p=0,H=null,O=_.next();S!==null&&!O.done;T++,O=_.next()){S.index>T?(H=S,S=null):H=S.sibling;var Ue=d(m,S,O.value,N);if(Ue===null){S===null&&(S=H);break}t&&S&&Ue.alternate===null&&e(m,S),p=i(Ue,p,T),I===null?b=Ue:I.sibling=Ue,I=Ue,S=H}if(O.done)return n(m,S),ne&&Qn(m,T),b;if(S===null){for(;!O.done;T++,O=_.next())O=f(m,O.value,N),O!==null&&(p=i(O,p,T),I===null?b=O:I.sibling=O,I=O);return ne&&Qn(m,T),b}for(S=r(m,S);!O.done;T++,O=_.next())O=g(S,m,T,O.value,N),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?T:O.key),p=i(O,p,T),I===null?b=O:I.sibling=O,I=O);return t&&S.forEach(function(Is){return e(m,Is)}),ne&&Qn(m,T),b}function w(m,p,_,N){if(typeof _=="object"&&_!==null&&_.type===Tr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case xo:e:{for(var b=_.key,I=p;I!==null;){if(I.key===b){if(b=_.type,b===Tr){if(I.tag===7){n(m,I.sibling),p=s(I,_.props.children),p.return=m,m=p;break e}}else if(I.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ln&&Df(b)===I.type){n(m,I.sibling),p=s(I,_.props),p.ref=Os(m,I,_),p.return=m,m=p;break e}n(m,I);break}else e(m,I);I=I.sibling}_.type===Tr?(p=lr(_.props.children,m.mode,N,_.key),p.return=m,m=p):(N=Jo(_.type,_.key,_.props,null,m.mode,N),N.ref=Os(m,p,_),N.return=m,m=N)}return o(m);case jr:e:{for(I=_.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(m,p.sibling),p=s(p,_.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=mc(_,m.mode,N),p.return=m,m=p}return o(m);case ln:return I=_._init,w(m,p,I(_._payload),N)}if(Hs(_))return y(m,p,_,N);if(Ts(_))return x(m,p,_,N);jo(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,_),p.return=m,m=p):(n(m,p),p=pc(_,m.mode,N),p.return=m,m=p),o(m)):n(m,p)}return w}var ss=Bg(!0),Hg=Bg(!1),va=zn(null),_a=null,Fr=null,wd=null;function Nd(){wd=Fr=_a=null}function Cd(t){var e=va.current;te(va),t._currentValue=e}function lu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qr(t,e){_a=t,wd=Fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ze=!0),t.firstContext=null)}function at(t){var e=t._currentValue;if(wd!==t)if(t={context:t,memoizedValue:e,next:null},Fr===null){if(_a===null)throw Error(C(308));Fr=t,_a.dependencies={lanes:0,firstContext:t}}else Fr=Fr.next=t;return e}var nr=null;function Ed(t){nr===null?nr=[t]:nr.push(t)}function Vg(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ed(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yt(t,r)}function Yt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cn=!1;function bd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Yt(t,n)}return s=r.interleaved,s===null?(e.next=e,Ed(r)):(e.next=s.next,s.next=e),r.interleaved=e,Yt(t,n)}function Vo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ud(t,n)}}function Of(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wa(t,e,n,r){var s=t.updateQueue;cn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,l=i;do{var d=l.lane,g=l.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,x=l;switch(d=e,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(g,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,d=typeof y=="function"?y.call(g,f,d):y,d==null)break e;f=oe({},f,d);break e;case 2:cn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=f):h=h.next=g,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hr|=o,t.lanes=o,t.memoizedState=f}}function Lf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var Yi={},It=zn(Yi),Ei=zn(Yi),bi=zn(Yi);function rr(t){if(t===Yi)throw Error(C(174));return t}function Sd(t,e){switch(X(bi,e),X(Ei,t),X(It,Yi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wc(e,t)}te(It),X(It,e)}function is(){te(It),te(Ei),te(bi)}function qg(t){rr(bi.current);var e=rr(It.current),n=Wc(e,t.type);e!==n&&(X(Ei,t),X(It,n))}function kd(t){Ei.current===t&&(te(It),te(Ei))}var se=zn(0);function Na(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lc=[];function Id(){for(var t=0;t<lc.length;t++)lc[t]._workInProgressVersionPrimary=null;lc.length=0}var Go=nn.ReactCurrentDispatcher,cc=nn.ReactCurrentBatchConfig,dr=0,ie=null,he=null,xe=null,Ca=!1,ei=!1,Si=0,Tw=0;function Se(){throw Error(C(321))}function jd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_t(t[n],e[n]))return!1;return!0}function Td(t,e,n,r,s,i){if(dr=i,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Go.current=t===null||t.memoizedState===null?Dw:Ow,t=n(r,s),ei){i=0;do{if(ei=!1,Si=0,25<=i)throw Error(C(301));i+=1,xe=he=null,e.updateQueue=null,Go.current=Lw,t=n(r,s)}while(ei)}if(Go.current=Ea,e=he!==null&&he.next!==null,dr=0,xe=he=ie=null,Ca=!1,e)throw Error(C(300));return t}function Pd(){var t=Si!==0;return Si=0,t}function bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ie.memoizedState=xe=t:xe=xe.next=t,xe}function lt(){if(he===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=xe===null?ie.memoizedState:xe.next;if(e!==null)xe=e,he=t;else{if(t===null)throw Error(C(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},xe===null?ie.memoizedState=xe=t:xe=xe.next=t}return xe}function ki(t,e){return typeof e=="function"?e(t):e}function uc(t){var e=lt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=he,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((dr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ie.lanes|=h,hr|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,_t(r,e.memoizedState)||(ze=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ie.lanes|=i,hr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dc(t){var e=lt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_t(i,e.memoizedState)||(ze=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Kg(){}function Yg(t,e){var n=ie,r=lt(),s=e(),i=!_t(r.memoizedState,s);if(i&&(r.memoizedState=s,ze=!0),r=r.queue,Rd(Xg.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,Ii(9,Jg.bind(null,n,r,s,e),void 0,null),we===null)throw Error(C(349));dr&30||Qg(n,e,s)}return s}function Qg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jg(t,e,n,r){e.value=n,e.getSnapshot=r,Zg(e)&&ey(t)}function Xg(t,e,n){return n(function(){Zg(e)&&ey(t)})}function Zg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_t(t,n)}catch{return!0}}function ey(t){var e=Yt(t,1);e!==null&&xt(e,t,1,-1)}function Mf(t){var e=bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},e.queue=t,t=t.dispatch=Aw.bind(null,ie,t),[e.memoizedState,t]}function Ii(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ty(){return lt().memoizedState}function qo(t,e,n,r){var s=bt();ie.flags|=t,s.memoizedState=Ii(1|e,n,void 0,r===void 0?null:r)}function dl(t,e,n,r){var s=lt();r=r===void 0?null:r;var i=void 0;if(he!==null){var o=he.memoizedState;if(i=o.destroy,r!==null&&jd(r,o.deps)){s.memoizedState=Ii(e,n,i,r);return}}ie.flags|=t,s.memoizedState=Ii(1|e,n,i,r)}function Ff(t,e){return qo(8390656,8,t,e)}function Rd(t,e){return dl(2048,8,t,e)}function ny(t,e){return dl(4,2,t,e)}function ry(t,e){return dl(4,4,t,e)}function sy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iy(t,e,n){return n=n!=null?n.concat([t]):null,dl(4,4,sy.bind(null,e,t),n)}function Ad(){}function oy(t,e){var n=lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ay(t,e){var n=lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ly(t,e,n){return dr&21?(_t(n,e)||(n=fg(),ie.lanes|=n,hr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ze=!0),t.memoizedState=n)}function Pw(t,e){var n=q;q=n!==0&&4>n?n:4,t(!0);var r=cc.transition;cc.transition={};try{t(!1),e()}finally{q=n,cc.transition=r}}function cy(){return lt().memoizedState}function Rw(t,e,n){var r=bn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uy(t))dy(e,n);else if(n=Vg(t,e,n,r),n!==null){var s=Oe();xt(n,t,r,s),hy(n,e,r)}}function Aw(t,e,n){var r=bn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uy(t))dy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,_t(l,o)){var c=e.interleaved;c===null?(s.next=s,Ed(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Vg(t,e,s,r),n!==null&&(s=Oe(),xt(n,t,r,s),hy(n,e,r))}}function uy(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function dy(t,e){ei=Ca=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ud(t,n)}}var Ea={readContext:at,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Dw={readContext:at,useCallback:function(t,e){return bt().memoizedState=[t,e===void 0?null:e],t},useContext:at,useEffect:Ff,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qo(4194308,4,sy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qo(4194308,4,t,e)},useInsertionEffect:function(t,e){return qo(4,2,t,e)},useMemo:function(t,e){var n=bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Rw.bind(null,ie,t),[r.memoizedState,t]},useRef:function(t){var e=bt();return t={current:t},e.memoizedState=t},useState:Mf,useDebugValue:Ad,useDeferredValue:function(t){return bt().memoizedState=t},useTransition:function(){var t=Mf(!1),e=t[0];return t=Pw.bind(null,t[1]),bt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ie,s=bt();if(ne){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),we===null)throw Error(C(349));dr&30||Qg(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ff(Xg.bind(null,r,i,t),[t]),r.flags|=2048,Ii(9,Jg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=bt(),e=we.identifierPrefix;if(ne){var n=Ft,r=Mt;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Si++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Tw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ow={readContext:at,useCallback:oy,useContext:at,useEffect:Rd,useImperativeHandle:iy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:uc,useRef:ty,useState:function(){return uc(ki)},useDebugValue:Ad,useDeferredValue:function(t){var e=lt();return ly(e,he.memoizedState,t)},useTransition:function(){var t=uc(ki)[0],e=lt().memoizedState;return[t,e]},useMutableSource:Kg,useSyncExternalStore:Yg,useId:cy,unstable_isNewReconciler:!1},Lw={readContext:at,useCallback:oy,useContext:at,useEffect:Rd,useImperativeHandle:iy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:dc,useRef:ty,useState:function(){return dc(ki)},useDebugValue:Ad,useDeferredValue:function(t){var e=lt();return he===null?e.memoizedState=t:ly(e,he.memoizedState,t)},useTransition:function(){var t=dc(ki)[0],e=lt().memoizedState;return[t,e]},useMutableSource:Kg,useSyncExternalStore:Yg,useId:cy,unstable_isNewReconciler:!1};function ut(t,e){if(t&&t.defaultProps){e=oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hl={isMounted:function(t){return(t=t._reactInternals)?Nr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Oe(),s=bn(t),i=Wt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Cn(t,i,s),e!==null&&(xt(e,t,s,r),Vo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Oe(),s=bn(t),i=Wt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Cn(t,i,s),e!==null&&(xt(e,t,s,r),Vo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Oe(),r=bn(t),s=Wt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Cn(t,s,r),e!==null&&(xt(e,t,r,n),Vo(e,t,r))}};function Uf(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_i(n,r)||!_i(s,i):!0}function fy(t,e,n){var r=!1,s=On,i=e.contextType;return typeof i=="object"&&i!==null?i=at(i):(s=He(e)?cr:Te.current,r=e.contextTypes,i=(r=r!=null)?ns(t,s):On),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function $f(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hl.enqueueReplaceState(e,e.state,null)}function uu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},bd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=at(i):(i=He(e)?cr:Te.current,s.context=ns(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(cu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hl.enqueueReplaceState(s,s.state,null),wa(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function os(t,e){try{var n="",r=e;do n+=u_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function hc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function du(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Mw=typeof WeakMap=="function"?WeakMap:Map;function py(t,e,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sa||(Sa=!0,wu=r),du(t,e)},n}function my(t,e,n){n=Wt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){du(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){du(t,e),typeof r!="function"&&(En===null?En=new Set([this]):En.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Mw;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Jw.bind(null,t,e,n),e.then(t,t))}function Wf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wt(-1,1),e.tag=2,Cn(n,e,1))),n.lanes|=1),t)}var Fw=nn.ReactCurrentOwner,ze=!1;function Re(t,e,n,r){e.child=t===null?Hg(e,null,n,r):ss(e,t.child,n,r)}function Hf(t,e,n,r,s){n=n.render;var i=e.ref;return qr(e,s),r=Td(t,e,n,r,i,s),n=Pd(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qt(t,e,s)):(ne&&n&&xd(e),e.flags|=1,Re(t,e,r,s),e.child)}function Vf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!zd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,gy(t,e,i,r,s)):(t=Jo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_i,n(o,r)&&t.ref===e.ref)return Qt(t,e,s)}return e.flags|=1,t=Sn(i,r),t.ref=e.ref,t.return=e,e.child=t}function gy(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_i(i,r)&&t.ref===e.ref)if(ze=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ze=!0);else return e.lanes=t.lanes,Qt(t,e,s)}return hu(t,e,n,r,s)}function yy(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X($r,Ye),Ye|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X($r,Ye),Ye|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,X($r,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,X($r,Ye),Ye|=r;return Re(t,e,s,n),e.child}function xy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hu(t,e,n,r,s){var i=He(n)?cr:Te.current;return i=ns(e,i),qr(e,s),n=Td(t,e,n,r,i,s),r=Pd(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qt(t,e,s)):(ne&&r&&xd(e),e.flags|=1,Re(t,e,n,s),e.child)}function Gf(t,e,n,r,s){if(He(n)){var i=!0;ga(e)}else i=!1;if(qr(e,s),e.stateNode===null)Ko(t,e),fy(e,n,r),uu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=at(u):(u=He(n)?cr:Te.current,u=ns(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&$f(e,o,r,u),cn=!1;var d=e.memoizedState;o.state=d,wa(e,r,o,s),c=e.memoizedState,l!==r||d!==c||Be.current||cn?(typeof h=="function"&&(cu(e,n,h,r),c=e.memoizedState),(l=cn||Uf(e,n,l,r,d,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Gg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ut(e.type,l),o.props=u,f=e.pendingProps,d=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=at(c):(c=He(n)?cr:Te.current,c=ns(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==c)&&$f(e,o,r,c),cn=!1,d=e.memoizedState,o.state=d,wa(e,r,o,s);var y=e.memoizedState;l!==f||d!==y||Be.current||cn?(typeof g=="function"&&(cu(e,n,g,r),y=e.memoizedState),(u=cn||Uf(e,n,u,r,d,y,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return fu(t,e,n,r,i,s)}function fu(t,e,n,r,s,i){xy(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Pf(e,n,!1),Qt(t,e,i);r=e.stateNode,Fw.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ss(e,t.child,null,i),e.child=ss(e,null,l,i)):Re(t,e,l,i),e.memoizedState=r.state,s&&Pf(e,n,!0),e.child}function vy(t){var e=t.stateNode;e.pendingContext?Tf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tf(t,e.context,!1),Sd(t,e.containerInfo)}function qf(t,e,n,r,s){return rs(),_d(s),e.flags|=256,Re(t,e,n,r),e.child}var pu={dehydrated:null,treeContext:null,retryLane:0};function mu(t){return{baseLanes:t,cachePool:null,transitions:null}}function _y(t,e,n){var r=e.pendingProps,s=se.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),X(se,s&1),t===null)return au(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ml(o,r,0,null),t=lr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=mu(n),e.memoizedState=pu,t):Dd(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Uw(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Sn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Sn(l,i):(i=lr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?mu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=pu,r}return i=t.child,t=i.sibling,r=Sn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dd(t,e){return e=ml({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function To(t,e,n,r){return r!==null&&_d(r),ss(e,t.child,null,n),t=Dd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Uw(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=hc(Error(C(422))),To(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ml({mode:"visible",children:r.children},s,0,null),i=lr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ss(e,t.child,null,o),e.child.memoizedState=mu(o),e.memoizedState=pu,i);if(!(e.mode&1))return To(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(C(419)),r=hc(i,r,void 0),To(t,e,o,r)}if(l=(o&t.childLanes)!==0,ze||l){if(r=we,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yt(t,s),xt(r,t,s,-1))}return $d(),r=hc(Error(C(421))),To(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Xw.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qe=Nn(s.nextSibling),Je=e,ne=!0,ht=null,t!==null&&(nt[rt++]=Mt,nt[rt++]=Ft,nt[rt++]=ur,Mt=t.id,Ft=t.overflow,ur=e),e=Dd(e,r.children),e.flags|=4096,e)}function Kf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lu(t.return,e,n)}function fc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wy(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Re(t,e,r.children,n),r=se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kf(t,n,e);else if(t.tag===19)Kf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(X(se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Na(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Na(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fc(e,!0,n,null,i);break;case"together":fc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ko(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=Sn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $w(t,e,n){switch(e.tag){case 3:vy(e),rs();break;case 5:qg(e);break;case 1:He(e.type)&&ga(e);break;case 4:Sd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;X(va,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(X(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?_y(t,e,n):(X(se,se.current&1),t=Qt(t,e,n),t!==null?t.sibling:null);X(se,se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(se,se.current),r)break;return null;case 22:case 23:return e.lanes=0,yy(t,e,n)}return Qt(t,e,n)}var Ny,gu,Cy,Ey;Ny=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gu=function(){};Cy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,rr(It.current);var i=null;switch(n){case"input":s=Fc(t,s),r=Fc(t,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=zc(t,s),r=zc(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pa)}Bc(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Z("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ey=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ls(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zw(t,e,n){var r=e.pendingProps;switch(vd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return He(e.type)&&ma(),ke(e),null;case 3:return r=e.stateNode,is(),te(Be),te(Te),Id(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Io(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ht!==null&&(Eu(ht),ht=null))),gu(t,e),ke(e),null;case 5:kd(e);var s=rr(bi.current);if(n=e.type,t!==null&&e.stateNode!=null)Cy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return ke(e),null}if(t=rr(It.current),Io(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[St]=e,r[Ci]=i,t=(e.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(s=0;s<Gs.length;s++)Z(Gs[s],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":nf(r,i),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Z("invalid",r);break;case"textarea":sf(r,i),Z("invalid",r)}Bc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ko(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ko(r.textContent,l,t),s=["children",""+l]):fi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":vo(r),rf(r,i,!0);break;case"textarea":vo(r),of(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=pa)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[St]=e,t[Ci]=r,Ny(t,e,!1,!1),e.stateNode=t;e:{switch(o=Hc(n,r),n){case"dialog":Z("cancel",t),Z("close",t),s=r;break;case"iframe":case"object":case"embed":Z("load",t),s=r;break;case"video":case"audio":for(s=0;s<Gs.length;s++)Z(Gs[s],t);s=r;break;case"source":Z("error",t),s=r;break;case"img":case"image":case"link":Z("error",t),Z("load",t),s=r;break;case"details":Z("toggle",t),s=r;break;case"input":nf(t,r),s=Fc(t,r),Z("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),Z("invalid",t);break;case"textarea":sf(t,r),s=zc(t,r),Z("invalid",t);break;default:s=r}Bc(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?tg(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zm(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pi(t,c):typeof c=="number"&&pi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Z("scroll",t):c!=null&&sd(t,i,c,o))}switch(n){case"input":vo(t),rf(t,r,!1);break;case"textarea":vo(t),of(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Br(t,!!r.multiple,i,!1):r.defaultValue!=null&&Br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=pa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)Ey(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=rr(bi.current),rr(It.current),Io(e)){if(r=e.stateNode,n=e.memoizedProps,r[St]=e,(i=r.nodeValue!==n)&&(t=Je,t!==null))switch(t.tag){case 3:ko(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ko(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=e,e.stateNode=r}return ke(e),null;case 13:if(te(se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Qe!==null&&e.mode&1&&!(e.flags&128))Wg(),rs(),e.flags|=98560,i=!1;else if(i=Io(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[St]=e}else rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else ht!==null&&(Eu(ht),ht=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?me===0&&(me=3):$d())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return is(),gu(t,e),t===null&&wi(e.stateNode.containerInfo),ke(e),null;case 10:return Cd(e.type._context),ke(e),null;case 17:return He(e.type)&&ma(),ke(e),null;case 19:if(te(se),i=e.memoizedState,i===null)return ke(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ls(i,!1);else{if(me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Na(t),o!==null){for(e.flags|=128,Ls(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(se,se.current&1|2),e.child}t=t.sibling}i.tail!==null&&ue()>as&&(e.flags|=128,r=!0,Ls(i,!1),e.lanes=4194304)}else{if(!r)if(t=Na(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ls(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return ke(e),null}else 2*ue()-i.renderingStartTime>as&&n!==1073741824&&(e.flags|=128,r=!0,Ls(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ue(),e.sibling=null,n=se.current,X(se,r?n&1|2:n&1),e):(ke(e),null);case 22:case 23:return Ud(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ye&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Ww(t,e){switch(vd(e),e.tag){case 1:return He(e.type)&&ma(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return is(),te(Be),te(Te),Id(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kd(e),null;case 13:if(te(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(se),null;case 4:return is(),null;case 10:return Cd(e.type._context),null;case 22:case 23:return Ud(),null;case 24:return null;default:return null}}var Po=!1,Ie=!1,Bw=typeof WeakSet=="function"?WeakSet:Set,k=null;function Ur(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(t,e,r)}else n.current=null}function yu(t,e,n){try{n()}catch(r){ae(t,e,r)}}var Yf=!1;function Hw(t,e){if(eu=da,t=jg(),yd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===t)break t;if(d===n&&++u===s&&(l=o),d===i&&++h===r&&(c=o),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tu={focusedElem:t,selectionRange:n},da=!1,k=e;k!==null;)if(e=k,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,k=t;else for(;k!==null;){e=k;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:ut(e.type,x),w);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(N){ae(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,k=t;break}k=e.return}return y=Yf,Yf=!1,y}function ti(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&yu(e,n,i)}s=s.next}while(s!==r)}}function fl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function by(t){var e=t.alternate;e!==null&&(t.alternate=null,by(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[St],delete e[Ci],delete e[su],delete e[Sw],delete e[kw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sy(t){return t.tag===5||t.tag===3||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pa));else if(r!==4&&(t=t.child,t!==null))for(vu(t,e,n),t=t.sibling;t!==null;)vu(t,e,n),t=t.sibling}function _u(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_u(t,e,n),t=t.sibling;t!==null;)_u(t,e,n),t=t.sibling}var Ce=null,dt=!1;function on(t,e,n){for(n=n.child;n!==null;)ky(t,e,n),n=n.sibling}function ky(t,e,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(il,n)}catch{}switch(n.tag){case 5:Ie||Ur(n,e);case 6:var r=Ce,s=dt;Ce=null,on(t,e,n),Ce=r,dt=s,Ce!==null&&(dt?(t=Ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(dt?(t=Ce,n=n.stateNode,t.nodeType===8?oc(t.parentNode,n):t.nodeType===1&&oc(t,n),xi(t)):oc(Ce,n.stateNode));break;case 4:r=Ce,s=dt,Ce=n.stateNode.containerInfo,dt=!0,on(t,e,n),Ce=r,dt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yu(n,e,o),s=s.next}while(s!==r)}on(t,e,n);break;case 1:if(!Ie&&(Ur(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ae(n,e,l)}on(t,e,n);break;case 21:on(t,e,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,on(t,e,n),Ie=r):on(t,e,n);break;default:on(t,e,n)}}function Jf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Bw),e.forEach(function(r){var s=Zw.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ct(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,dt=!1;break e;case 3:Ce=l.stateNode.containerInfo,dt=!0;break e;case 4:Ce=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(Ce===null)throw Error(C(160));ky(i,o,s),Ce=null,dt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ae(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Iy(e,t),e=e.sibling}function Iy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ct(e,t),Et(t),r&4){try{ti(3,t,t.return),fl(3,t)}catch(x){ae(t,t.return,x)}try{ti(5,t,t.return)}catch(x){ae(t,t.return,x)}}break;case 1:ct(e,t),Et(t),r&512&&n!==null&&Ur(n,n.return);break;case 5:if(ct(e,t),Et(t),r&512&&n!==null&&Ur(n,n.return),t.flags&32){var s=t.stateNode;try{pi(s,"")}catch(x){ae(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Qm(s,i),Hc(l,o);var u=Hc(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?tg(s,f):h==="dangerouslySetInnerHTML"?Zm(s,f):h==="children"?pi(s,f):sd(s,h,f,u)}switch(l){case"input":Uc(s,i);break;case"textarea":Jm(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Br(s,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?Br(s,!!i.multiple,i.defaultValue,!0):Br(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ci]=i}catch(x){ae(t,t.return,x)}}break;case 6:if(ct(e,t),Et(t),r&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ae(t,t.return,x)}}break;case 3:if(ct(e,t),Et(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xi(e.containerInfo)}catch(x){ae(t,t.return,x)}break;case 4:ct(e,t),Et(t);break;case 13:ct(e,t),Et(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Md=ue())),r&4&&Jf(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ie=(u=Ie)||h,ct(e,t),Ie=u):ct(e,t),Et(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(k=t,h=t.child;h!==null;){for(f=k=h;k!==null;){switch(d=k,g=d.child,d.tag){case 0:case 11:case 14:case 15:ti(4,d,d.return);break;case 1:Ur(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){ae(r,n,x)}}break;case 5:Ur(d,d.return);break;case 22:if(d.memoizedState!==null){Zf(f);continue}}g!==null?(g.return=d,k=g):Zf(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=eg("display",o))}catch(x){ae(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ae(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ct(e,t),Et(t),r&4&&Jf(t);break;case 21:break;default:ct(e,t),Et(t)}}function Et(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sy(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pi(s,""),r.flags&=-33);var i=Qf(t);_u(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Qf(t);vu(t,l,o);break;default:throw Error(C(161))}}catch(c){ae(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vw(t,e,n){k=t,jy(t)}function jy(t,e,n){for(var r=(t.mode&1)!==0;k!==null;){var s=k,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Po;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ie;l=Po;var u=Ie;if(Po=o,(Ie=c)&&!u)for(k=s;k!==null;)o=k,c=o.child,o.tag===22&&o.memoizedState!==null?ep(s):c!==null?(c.return=o,k=c):ep(s);for(;i!==null;)k=i,jy(i),i=i.sibling;k=s,Po=l,Ie=u}Xf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,k=i):Xf(t)}}function Xf(t){for(;k!==null;){var e=k;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ie||fl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ut(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lf(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lf(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&xi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ie||e.flags&512&&xu(e)}catch(d){ae(e,e.return,d)}}if(e===t){k=null;break}if(n=e.sibling,n!==null){n.return=e.return,k=n;break}k=e.return}}function Zf(t){for(;k!==null;){var e=k;if(e===t){k=null;break}var n=e.sibling;if(n!==null){n.return=e.return,k=n;break}k=e.return}}function ep(t){for(;k!==null;){var e=k;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fl(4,e)}catch(c){ae(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ae(e,s,c)}}var i=e.return;try{xu(e)}catch(c){ae(e,i,c)}break;case 5:var o=e.return;try{xu(e)}catch(c){ae(e,o,c)}}}catch(c){ae(e,e.return,c)}if(e===t){k=null;break}var l=e.sibling;if(l!==null){l.return=e.return,k=l;break}k=e.return}}var Gw=Math.ceil,ba=nn.ReactCurrentDispatcher,Od=nn.ReactCurrentOwner,ot=nn.ReactCurrentBatchConfig,V=0,we=null,de=null,Ee=0,Ye=0,$r=zn(0),me=0,ji=null,hr=0,pl=0,Ld=0,ni=null,$e=null,Md=0,as=1/0,Ot=null,Sa=!1,wu=null,En=null,Ro=!1,xn=null,ka=0,ri=0,Nu=null,Yo=-1,Qo=0;function Oe(){return V&6?ue():Yo!==-1?Yo:Yo=ue()}function bn(t){return t.mode&1?V&2&&Ee!==0?Ee&-Ee:jw.transition!==null?(Qo===0&&(Qo=fg()),Qo):(t=q,t!==0||(t=window.event,t=t===void 0?16:_g(t.type)),t):1}function xt(t,e,n,r){if(50<ri)throw ri=0,Nu=null,Error(C(185));Gi(t,n,r),(!(V&2)||t!==we)&&(t===we&&(!(V&2)&&(pl|=n),me===4&&dn(t,Ee)),Ve(t,r),n===1&&V===0&&!(e.mode&1)&&(as=ue()+500,ul&&Wn()))}function Ve(t,e){var n=t.callbackNode;j_(t,e);var r=ua(t,t===we?Ee:0);if(r===0)n!==null&&cf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cf(n),e===1)t.tag===0?Iw(tp.bind(null,t)):Ug(tp.bind(null,t)),Ew(function(){!(V&6)&&Wn()}),n=null;else{switch(pg(r)){case 1:n=cd;break;case 4:n=dg;break;case 16:n=ca;break;case 536870912:n=hg;break;default:n=ca}n=My(n,Ty.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ty(t,e){if(Yo=-1,Qo=0,V&6)throw Error(C(327));var n=t.callbackNode;if(Kr()&&t.callbackNode!==n)return null;var r=ua(t,t===we?Ee:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ia(t,r);else{e=r;var s=V;V|=2;var i=Ry();(we!==t||Ee!==e)&&(Ot=null,as=ue()+500,ar(t,e));do try{Yw();break}catch(l){Py(t,l)}while(!0);Nd(),ba.current=i,V=s,de!==null?e=0:(we=null,Ee=0,e=me)}if(e!==0){if(e===2&&(s=Yc(t),s!==0&&(r=s,e=Cu(t,s))),e===1)throw n=ji,ar(t,0),dn(t,r),Ve(t,ue()),n;if(e===6)dn(t,r);else{if(s=t.current.alternate,!(r&30)&&!qw(s)&&(e=Ia(t,r),e===2&&(i=Yc(t),i!==0&&(r=i,e=Cu(t,i))),e===1))throw n=ji,ar(t,0),dn(t,r),Ve(t,ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:Jn(t,$e,Ot);break;case 3:if(dn(t,r),(r&130023424)===r&&(e=Md+500-ue(),10<e)){if(ua(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Oe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ru(Jn.bind(null,t,$e,Ot),e);break}Jn(t,$e,Ot);break;case 4:if(dn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-yt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gw(r/1960))-r,10<r){t.timeoutHandle=ru(Jn.bind(null,t,$e,Ot),r);break}Jn(t,$e,Ot);break;case 5:Jn(t,$e,Ot);break;default:throw Error(C(329))}}}return Ve(t,ue()),t.callbackNode===n?Ty.bind(null,t):null}function Cu(t,e){var n=ni;return t.current.memoizedState.isDehydrated&&(ar(t,e).flags|=256),t=Ia(t,e),t!==2&&(e=$e,$e=n,e!==null&&Eu(e)),t}function Eu(t){$e===null?$e=t:$e.push.apply($e,t)}function qw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_t(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dn(t,e){for(e&=~Ld,e&=~pl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yt(e),r=1<<n;t[n]=-1,e&=~r}}function tp(t){if(V&6)throw Error(C(327));Kr();var e=ua(t,0);if(!(e&1))return Ve(t,ue()),null;var n=Ia(t,e);if(t.tag!==0&&n===2){var r=Yc(t);r!==0&&(e=r,n=Cu(t,r))}if(n===1)throw n=ji,ar(t,0),dn(t,e),Ve(t,ue()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jn(t,$e,Ot),Ve(t,ue()),null}function Fd(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(as=ue()+500,ul&&Wn())}}function fr(t){xn!==null&&xn.tag===0&&!(V&6)&&Kr();var e=V;V|=1;var n=ot.transition,r=q;try{if(ot.transition=null,q=1,t)return t()}finally{q=r,ot.transition=n,V=e,!(V&6)&&Wn()}}function Ud(){Ye=$r.current,te($r)}function ar(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Cw(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(vd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ma();break;case 3:is(),te(Be),te(Te),Id();break;case 5:kd(r);break;case 4:is();break;case 13:te(se);break;case 19:te(se);break;case 10:Cd(r.type._context);break;case 22:case 23:Ud()}n=n.return}if(we=t,de=t=Sn(t.current,null),Ee=Ye=e,me=0,ji=null,Ld=pl=hr=0,$e=ni=null,nr!==null){for(e=0;e<nr.length;e++)if(n=nr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}nr=null}return t}function Py(t,e){do{var n=de;try{if(Nd(),Go.current=Ea,Ca){for(var r=ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ca=!1}if(dr=0,xe=he=ie=null,ei=!1,Si=0,Od.current=null,n===null||n.return===null){me=1,ji=e,de=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Ee,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Wf(o);if(g!==null){g.flags&=-257,Bf(g,o,l,i,e),g.mode&1&&zf(i,u,e),e=g,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){zf(i,u,e),$d();break e}c=Error(C(426))}}else if(ne&&l.mode&1){var w=Wf(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Bf(w,o,l,i,e),_d(os(c,l));break e}}i=c=os(c,l),me!==4&&(me=2),ni===null?ni=[i]:ni.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=py(i,c,e);Of(i,m);break e;case 1:l=c;var p=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(En===null||!En.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=my(i,l,e);Of(i,N);break e}}i=i.return}while(i!==null)}Dy(n)}catch(b){e=b,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Ry(){var t=ba.current;return ba.current=Ea,t===null?Ea:t}function $d(){(me===0||me===3||me===2)&&(me=4),we===null||!(hr&268435455)&&!(pl&268435455)||dn(we,Ee)}function Ia(t,e){var n=V;V|=2;var r=Ry();(we!==t||Ee!==e)&&(Ot=null,ar(t,e));do try{Kw();break}catch(s){Py(t,s)}while(!0);if(Nd(),V=n,ba.current=r,de!==null)throw Error(C(261));return we=null,Ee=0,me}function Kw(){for(;de!==null;)Ay(de)}function Yw(){for(;de!==null&&!__();)Ay(de)}function Ay(t){var e=Ly(t.alternate,t,Ye);t.memoizedProps=t.pendingProps,e===null?Dy(t):de=e,Od.current=null}function Dy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ww(n,e),n!==null){n.flags&=32767,de=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{me=6,de=null;return}}else if(n=zw(n,e,Ye),n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);me===0&&(me=5)}function Jn(t,e,n){var r=q,s=ot.transition;try{ot.transition=null,q=1,Qw(t,e,n,r)}finally{ot.transition=s,q=r}return null}function Qw(t,e,n,r){do Kr();while(xn!==null);if(V&6)throw Error(C(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(T_(t,i),t===we&&(de=we=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ro||(Ro=!0,My(ca,function(){return Kr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var o=q;q=1;var l=V;V|=4,Od.current=null,Hw(t,n),Iy(n,t),gw(tu),da=!!eu,tu=eu=null,t.current=n,Vw(n),w_(),V=l,q=o,ot.transition=i}else t.current=n;if(Ro&&(Ro=!1,xn=t,ka=s),i=t.pendingLanes,i===0&&(En=null),E_(n.stateNode),Ve(t,ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Sa)throw Sa=!1,t=wu,wu=null,t;return ka&1&&t.tag!==0&&Kr(),i=t.pendingLanes,i&1?t===Nu?ri++:(ri=0,Nu=t):ri=0,Wn(),null}function Kr(){if(xn!==null){var t=pg(ka),e=ot.transition,n=q;try{if(ot.transition=null,q=16>t?16:t,xn===null)var r=!1;else{if(t=xn,xn=null,ka=0,V&6)throw Error(C(331));var s=V;for(V|=4,k=t.current;k!==null;){var i=k,o=i.child;if(k.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(k=u;k!==null;){var h=k;switch(h.tag){case 0:case 11:case 15:ti(8,h,i)}var f=h.child;if(f!==null)f.return=h,k=f;else for(;k!==null;){h=k;var d=h.sibling,g=h.return;if(by(h),h===u){k=null;break}if(d!==null){d.return=g,k=d;break}k=g}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}k=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,k=o;else e:for(;k!==null;){if(i=k,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ti(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,k=m;break e}k=i.return}}var p=t.current;for(k=p;k!==null;){o=k;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,k=_;else e:for(o=p;k!==null;){if(l=k,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(b){ae(l,l.return,b)}if(l===o){k=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,k=N;break e}k=l.return}}if(V=s,Wn(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(il,t)}catch{}r=!0}return r}finally{q=n,ot.transition=e}}return!1}function np(t,e,n){e=os(n,e),e=py(t,e,1),t=Cn(t,e,1),e=Oe(),t!==null&&(Gi(t,1,e),Ve(t,e))}function ae(t,e,n){if(t.tag===3)np(t,t,n);else for(;e!==null;){if(e.tag===3){np(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(En===null||!En.has(r))){t=os(n,t),t=my(e,t,1),e=Cn(e,t,1),t=Oe(),e!==null&&(Gi(e,1,t),Ve(e,t));break}}e=e.return}}function Jw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&n,we===t&&(Ee&n)===n&&(me===4||me===3&&(Ee&130023424)===Ee&&500>ue()-Md?ar(t,0):Ld|=n),Ve(t,e)}function Oy(t,e){e===0&&(t.mode&1?(e=No,No<<=1,!(No&130023424)&&(No=4194304)):e=1);var n=Oe();t=Yt(t,e),t!==null&&(Gi(t,e,n),Ve(t,n))}function Xw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Oy(t,n)}function Zw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),Oy(t,n)}var Ly;Ly=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Be.current)ze=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ze=!1,$w(t,e,n);ze=!!(t.flags&131072)}else ze=!1,ne&&e.flags&1048576&&$g(e,xa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ko(t,e),t=e.pendingProps;var s=ns(e,Te.current);qr(e,n),s=Td(null,e,r,t,s,n);var i=Pd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,He(r)?(i=!0,ga(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bd(e),s.updater=hl,e.stateNode=s,s._reactInternals=e,uu(e,r,t,n),e=fu(null,e,r,!0,i,n)):(e.tag=0,ne&&i&&xd(e),Re(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ko(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=t1(r),t=ut(r,t),s){case 0:e=hu(null,e,r,t,n);break e;case 1:e=Gf(null,e,r,t,n);break e;case 11:e=Hf(null,e,r,t,n);break e;case 14:e=Vf(null,e,r,ut(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ut(r,s),hu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ut(r,s),Gf(t,e,r,s,n);case 3:e:{if(vy(e),t===null)throw Error(C(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Gg(t,e),wa(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=os(Error(C(423)),e),e=qf(t,e,r,n,s);break e}else if(r!==s){s=os(Error(C(424)),e),e=qf(t,e,r,n,s);break e}else for(Qe=Nn(e.stateNode.containerInfo.firstChild),Je=e,ne=!0,ht=null,n=Hg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rs(),r===s){e=Qt(t,e,n);break e}Re(t,e,r,n)}e=e.child}return e;case 5:return qg(e),t===null&&au(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,nu(r,s)?o=null:i!==null&&nu(r,i)&&(e.flags|=32),xy(t,e),Re(t,e,o,n),e.child;case 6:return t===null&&au(e),null;case 13:return _y(t,e,n);case 4:return Sd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ss(e,null,r,n):Re(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ut(r,s),Hf(t,e,r,s,n);case 7:return Re(t,e,e.pendingProps,n),e.child;case 8:return Re(t,e,e.pendingProps.children,n),e.child;case 12:return Re(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,X(va,r._currentValue),r._currentValue=o,i!==null)if(_t(i.value,o)){if(i.children===s.children&&!Be.current){e=Qt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Wt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),lu(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),lu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Re(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,qr(e,n),s=at(s),r=r(s),e.flags|=1,Re(t,e,r,n),e.child;case 14:return r=e.type,s=ut(r,e.pendingProps),s=ut(r.type,s),Vf(t,e,r,s,n);case 15:return gy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ut(r,s),Ko(t,e),e.tag=1,He(r)?(t=!0,ga(e)):t=!1,qr(e,n),fy(e,r,s),uu(e,r,s,n),fu(null,e,r,!0,t,n);case 19:return wy(t,e,n);case 22:return yy(t,e,n)}throw Error(C(156,e.tag))};function My(t,e){return ug(t,e)}function e1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,r){return new e1(t,e,n,r)}function zd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function t1(t){if(typeof t=="function")return zd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===od)return 11;if(t===ad)return 14}return 2}function Sn(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jo(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")zd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Tr:return lr(n.children,s,i,e);case id:o=8,s|=8;break;case Dc:return t=it(12,n,e,s|2),t.elementType=Dc,t.lanes=i,t;case Oc:return t=it(13,n,e,s),t.elementType=Oc,t.lanes=i,t;case Lc:return t=it(19,n,e,s),t.elementType=Lc,t.lanes=i,t;case qm:return ml(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vm:o=10;break e;case Gm:o=9;break e;case od:o=11;break e;case ad:o=14;break e;case ln:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=it(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function lr(t,e,n,r){return t=it(7,t,r,e),t.lanes=n,t}function ml(t,e,n,r){return t=it(22,t,r,e),t.elementType=qm,t.lanes=n,t.stateNode={isHidden:!1},t}function pc(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function mc(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n1(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yl(0),this.expirationTimes=Yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wd(t,e,n,r,s,i,o,l,c){return t=new n1(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=it(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bd(i),t}function r1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fy(t){if(!t)return On;t=t._reactInternals;e:{if(Nr(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(He(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(He(n))return Fg(t,n,e)}return e}function Uy(t,e,n,r,s,i,o,l,c){return t=Wd(n,r,!0,t,s,i,o,l,c),t.context=Fy(null),n=t.current,r=Oe(),s=bn(n),i=Wt(r,s),i.callback=e??null,Cn(n,i,s),t.current.lanes=s,Gi(t,s,r),Ve(t,r),t}function gl(t,e,n,r){var s=e.current,i=Oe(),o=bn(s);return n=Fy(n),e.context===null?e.context=n:e.pendingContext=n,e=Wt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cn(s,e,o),t!==null&&(xt(t,s,o,i),Vo(t,s,o)),o}function ja(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bd(t,e){rp(t,e),(t=t.alternate)&&rp(t,e)}function s1(){return null}var $y=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hd(t){this._internalRoot=t}yl.prototype.render=Hd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));gl(t,e,null,null)};yl.prototype.unmount=Hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){gl(null,t,null,null)}),e[Kt]=null}};function yl(t){this._internalRoot=t}yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=yg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<un.length&&e!==0&&e<un[n].priority;n++);un.splice(n,0,t),n===0&&vg(t)}};function Vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sp(){}function i1(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ja(o);i.call(u)}}var o=Uy(e,r,t,0,null,!1,!1,"",sp);return t._reactRootContainer=o,t[Kt]=o.current,wi(t.nodeType===8?t.parentNode:t),fr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ja(c);l.call(u)}}var c=Wd(t,0,!1,null,null,!1,!1,"",sp);return t._reactRootContainer=c,t[Kt]=c.current,wi(t.nodeType===8?t.parentNode:t),fr(function(){gl(e,c,n,r)}),c}function vl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ja(o);l.call(c)}}gl(e,o,t,s)}else o=i1(n,e,t,s,r);return ja(o)}mg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vs(e.pendingLanes);n!==0&&(ud(e,n|1),Ve(e,ue()),!(V&6)&&(as=ue()+500,Wn()))}break;case 13:fr(function(){var r=Yt(t,1);if(r!==null){var s=Oe();xt(r,t,1,s)}}),Bd(t,1)}};dd=function(t){if(t.tag===13){var e=Yt(t,134217728);if(e!==null){var n=Oe();xt(e,t,134217728,n)}Bd(t,134217728)}};gg=function(t){if(t.tag===13){var e=bn(t),n=Yt(t,e);if(n!==null){var r=Oe();xt(n,t,e,r)}Bd(t,e)}};yg=function(){return q};xg=function(t,e){var n=q;try{return q=t,e()}finally{q=n}};Gc=function(t,e,n){switch(e){case"input":if(Uc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=cl(r);if(!s)throw Error(C(90));Ym(r),Uc(r,s)}}}break;case"textarea":Jm(t,n);break;case"select":e=n.value,e!=null&&Br(t,!!n.multiple,e,!1)}};sg=Fd;ig=fr;var o1={usingClientEntryPoint:!1,Events:[Ki,Dr,cl,ng,rg,Fd]},Ms={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a1={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lg(t),t===null?null:t.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||s1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{il=Ao.inject(a1),kt=Ao}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o1;Ze.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vd(e))throw Error(C(200));return r1(t,e,null,n)};Ze.createRoot=function(t,e){if(!Vd(t))throw Error(C(299));var n=!1,r="",s=$y;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wd(t,1,!1,null,null,n,!1,r,s),t[Kt]=e.current,wi(t.nodeType===8?t.parentNode:t),new Hd(e)};Ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=lg(e),t=t===null?null:t.stateNode,t};Ze.flushSync=function(t){return fr(t)};Ze.hydrate=function(t,e,n){if(!xl(e))throw Error(C(200));return vl(null,t,e,!0,n)};Ze.hydrateRoot=function(t,e,n){if(!Vd(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$y;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Uy(e,null,t,1,n??null,s,!1,i,o),t[Kt]=e.current,wi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new yl(e)};Ze.render=function(t,e,n){if(!xl(e))throw Error(C(200));return vl(null,t,e,!1,n)};Ze.unmountComponentAtNode=function(t){if(!xl(t))throw Error(C(40));return t._reactRootContainer?(fr(function(){vl(null,null,t,!1,function(){t._reactRootContainer=null,t[Kt]=null})}),!0):!1};Ze.unstable_batchedUpdates=Fd;Ze.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xl(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return vl(t,e,n,!1,r)};Ze.version="18.3.1-next-f1338f8080-20240426";function zy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zy)}catch(t){console.error(t)}}zy(),zm.exports=Ze;var l1=zm.exports,Wy,ip=l1;Wy=ip.createRoot,ip.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var op="popstate";function c1(t={}){function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return bu("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ti(s)}return d1(e,n,null,t)}function re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u1(){return Math.random().toString(36).substring(2,10)}function ap(t,e){return{usr:t.state,key:t.key,idx:e}}function bu(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ys(e):e,state:n,key:e&&e.key||r||u1()}}function Ti({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function d1(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let w=h(),m=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:m})}function d(w,m){l="PUSH";let p=bu(x.location,w,m);u=h()+1;let _=ap(p,u),N=x.createHref(p);try{o.pushState(_,"",N)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(N)}i&&c&&c({action:l,location:x.location,delta:1})}function g(w,m){l="REPLACE";let p=bu(x.location,w,m);u=h();let _=ap(p,u),N=x.createHref(p);o.replaceState(_,"",N),i&&c&&c({action:l,location:x.location,delta:0})}function y(w){return h1(w)}let x={get action(){return l},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(op,f),c=w,()=>{s.removeEventListener(op,f),c=null}},createHref(w){return e(s,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:g,go(w){return o.go(w)}};return x}function h1(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),re(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ti(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function By(t,e,n="/"){return f1(t,e,n,!1)}function f1(t,e,n,r){let s=typeof e=="string"?ys(e):e,i=Jt(s.pathname||"/",n);if(i==null)return null;let o=Hy(t);p1(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=b1(i);l=C1(o[c],u,r)}return l}function Hy(t,e=[],n=[],r=""){let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(re(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=Bt([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(re(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Hy(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:w1(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Vy(i.path))s(i,o,c)}),e}function Vy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Vy(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function p1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var m1=/^:[\w-]+$/,g1=3,y1=2,x1=1,v1=10,_1=-2,lp=t=>t==="*";function w1(t,e){let n=t.split("/"),r=n.length;return n.some(lp)&&(r+=_1),e&&(r+=y1),n.filter(s=>!lp(s)).reduce((s,i)=>s+(m1.test(i)?g1:i===""?x1:v1),r)}function N1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function C1(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Ta({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),d=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ta({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Bt([i,f.pathname]),pathnameBase:j1(Bt([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=Bt([i,f.pathnameBase]))}return o}function Ta(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=E1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:f},d)=>{if(h==="*"){let y=l[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[d];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function E1(t,e=!1,n=!0){wt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function b1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function S1(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ys(t):t;return{pathname:n?n.startsWith("/")?n:k1(n,e):e,search:T1(r),hash:P1(s)}}function k1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gc(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gd(t){let e=I1(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function qd(t,e,n,r=!1){let s;typeof t=="string"?s=ys(t):(s={...t},re(!s.pathname||!s.pathname.includes("?"),gc("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),gc("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),gc("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;s.pathname=d.join("/")}l=f>=0?e[f]:"/"}let c=S1(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var Bt=t=>t.join("/").replace(/\/\/+/g,"/"),j1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Gy=["POST","PUT","PATCH","DELETE"];new Set(Gy);var A1=["GET",...Gy];new Set(A1);var xs=v.createContext(null);xs.displayName="DataRouter";var _l=v.createContext(null);_l.displayName="DataRouterState";v.createContext(!1);var qy=v.createContext({isTransitioning:!1});qy.displayName="ViewTransition";var D1=v.createContext(new Map);D1.displayName="Fetchers";var O1=v.createContext(null);O1.displayName="Await";var Ct=v.createContext(null);Ct.displayName="Navigation";var Qi=v.createContext(null);Qi.displayName="Location";var At=v.createContext({outlet:null,matches:[],isDataRoute:!1});At.displayName="Route";var Kd=v.createContext(null);Kd.displayName="RouteError";function L1(t,{relative:e}={}){re(vs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Ct),{hash:s,pathname:i,search:o}=Xi(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Bt([n,i])),r.createHref({pathname:l,search:o,hash:s})}function vs(){return v.useContext(Qi)!=null}function Bn(){return re(vs(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Qi).location}var Ky="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yy(t){v.useContext(Ct).static||v.useLayoutEffect(t)}function Ji(){let{isDataRoute:t}=v.useContext(At);return t?Y1():M1()}function M1(){re(vs(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(xs),{basename:e,navigator:n}=v.useContext(Ct),{matches:r}=v.useContext(At),{pathname:s}=Bn(),i=JSON.stringify(Gd(r)),o=v.useRef(!1);return Yy(()=>{o.current=!0}),v.useCallback((c,u={})=>{if(wt(o.current,Ky),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=qd(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bt([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,i,s,t])}v.createContext(null);function Xi(t,{relative:e}={}){let{matches:n}=v.useContext(At),{pathname:r}=Bn(),s=JSON.stringify(Gd(n));return v.useMemo(()=>qd(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function F1(t,e){return Qy(t,e)}function Qy(t,e,n,r){var m;re(vs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext(Ct),{matches:i}=v.useContext(At),o=i[i.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let p=h&&h.path||"";Jy(c,!h||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let f=Bn(),d;if(e){let p=typeof e=="string"?ys(e):e;re(u==="/"||((m=p.pathname)==null?void 0:m.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),d=p}else d=f;let g=d.pathname||"/",y=g;if(u!=="/"){let p=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=By(t,{pathname:y});wt(h||x!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),wt(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=B1(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Bt([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Bt([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,n,r);return e&&w?v.createElement(Qi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},w):w}function U1(){let t=K1(),e=R1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,o)}var $1=v.createElement(U1,null),z1=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?v.createElement(At.Provider,{value:this.props.routeContext},v.createElement(Kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function W1({routeContext:t,match:e,children:n}){let r=v.useContext(xs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(At.Provider,{value:t},n)}function B1(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);re(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:h,errors:f}=n,d=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||d){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,u,h)=>{let f,d=!1,g=null,y=null;n&&(f=i&&u.route.id?i[u.route.id]:void 0,g=u.route.errorElement||$1,o&&(l<0&&h===0?(Jy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,y=null):l===h&&(d=!0,y=u.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),w=()=>{let m;return f?m=g:d?m=y:u.route.Component?m=v.createElement(u.route.Component,null):u.route.element?m=u.route.element:m=c,v.createElement(W1,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:m})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?v.createElement(z1,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function Yd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H1(t){let e=v.useContext(xs);return re(e,Yd(t)),e}function V1(t){let e=v.useContext(_l);return re(e,Yd(t)),e}function G1(t){let e=v.useContext(At);return re(e,Yd(t)),e}function Qd(t){let e=G1(t),n=e.matches[e.matches.length-1];return re(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function q1(){return Qd("useRouteId")}function K1(){var r;let t=v.useContext(Kd),e=V1("useRouteError"),n=Qd("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Y1(){let{router:t}=H1("useNavigate"),e=Qd("useNavigate"),n=v.useRef(!1);return Yy(()=>{n.current=!0}),v.useCallback(async(s,i={})=>{wt(n.current,Ky),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var cp={};function Jy(t,e,n){!e&&!cp[t]&&(cp[t]=!0,wt(!1,n))}v.memo(Q1);function Q1({routes:t,future:e,state:n}){return Qy(t,void 0,n,e)}function up({to:t,replace:e,state:n,relative:r}){re(vs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(Ct);wt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(At),{pathname:o}=Bn(),l=Ji(),c=qd(t,Gd(i),o,r==="path"),u=JSON.stringify(c);return v.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function tt(t){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J1({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){re(!vs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=ys(n));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:d="default"}=n,g=v.useMemo(()=>{let y=Jt(c,o);return y==null?null:{location:{pathname:y,search:u,hash:h,state:f,key:d},navigationType:r}},[o,c,u,h,f,d,r]);return wt(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:v.createElement(Ct.Provider,{value:l},v.createElement(Qi.Provider,{children:e,value:g}))}function X1({children:t,location:e}){return F1(Su(t),e)}function Su(t,e=[]){let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,Su(r.props.children,i));return}re(r.type===tt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Su(r.props.children,i)),n.push(o)}),n}var Xo="get",Zo="application/x-www-form-urlencoded";function wl(t){return t!=null&&typeof t.tagName=="string"}function Z1(t){return wl(t)&&t.tagName.toLowerCase()==="button"}function eN(t){return wl(t)&&t.tagName.toLowerCase()==="form"}function tN(t){return wl(t)&&t.tagName.toLowerCase()==="input"}function nN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rN(t,e){return t.button===0&&(!e||e==="_self")&&!nN(t)}var Do=null;function sN(){if(Do===null)try{new FormData(document.createElement("form"),0),Do=!1}catch{Do=!0}return Do}var iN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yc(t){return t!=null&&!iN.has(t)?(wt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zo}"`),null):t}function oN(t,e){let n,r,s,i,o;if(eN(t)){let l=t.getAttribute("action");r=l?Jt(l,e):null,n=t.getAttribute("method")||Xo,s=yc(t.getAttribute("enctype"))||Zo,i=new FormData(t)}else if(Z1(t)||tN(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Jt(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Xo,s=yc(t.getAttribute("formenctype"))||yc(l.getAttribute("enctype"))||Zo,i=new FormData(l,t),!sN()){let{name:u,type:h,value:f}=t;if(h==="image"){let d=u?`${u}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else u&&i.append(u,f)}}else{if(wl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xo,r=null,s=Zo,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Jt(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function lN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uN(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await lN(i,n);return o.links?o.links():[]}return[]}));return pN(r.flat(1).filter(cN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function dp(t,e,n,r,s,i){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var h;return n[u].pathname!==c.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let d=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function dN(t,e,{includeHydrateFallback:n}={}){return hN(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function hN(t){return[...new Set(t)]}function fN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function pN(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(fN(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Xy(){let t=v.useContext(xs);return Jd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mN(){let t=v.useContext(_l);return Jd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xd=v.createContext(void 0);Xd.displayName="FrameworkContext";function Zy(){let t=v.useContext(Xd);return Jd(t,"You must render this element inside a <HydratedRouter> element"),t}function gN(t,e){let n=v.useContext(Xd),[r,s]=v.useState(!1),[i,o]=v.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,d=v.useRef(null);v.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=m=>{m.forEach(p=>{o(p.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return d.current&&w.observe(d.current),()=>{w.disconnect()}}},[t]),v.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{s(!0)},y=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,d,{}]:[i,d,{onFocus:Fs(l,g),onBlur:Fs(c,y),onMouseEnter:Fs(u,g),onMouseLeave:Fs(h,y),onTouchStart:Fs(f,g)}]:[!1,d,{}]}function Fs(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yN({page:t,...e}){let{router:n}=Xy(),r=v.useMemo(()=>By(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?v.createElement(vN,{page:t,matches:r,...e}):null}function xN(t){let{manifest:e,routeModules:n}=Zy(),[r,s]=v.useState([]);return v.useEffect(()=>{let i=!1;return uN(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function vN({page:t,matches:e,...n}){let r=Bn(),{manifest:s,routeModules:i}=Zy(),{basename:o}=Xy(),{loaderData:l,matches:c}=mN(),u=v.useMemo(()=>dp(t,e,c,s,r,"data"),[t,e,c,s,r]),h=v.useMemo(()=>dp(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=v.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,x=!1;if(e.forEach(m=>{var _;let p=s.routes[m.route.id];!p||!p.hasLoader||(!u.some(N=>N.route.id===m.route.id)&&m.route.id in l&&((_=i[m.route.id])!=null&&_.shouldRevalidate)||p.hasClientLoader?x=!0:y.add(m.route.id))}),y.size===0)return[];let w=aN(t,o,"data");return x&&y.size>0&&w.searchParams.set("_routes",e.filter(m=>y.has(m.route.id)).map(m=>m.route.id).join(",")),[w.pathname+w.search]},[o,l,r,s,u,e,t,i]),d=v.useMemo(()=>dN(h,s),[h,s]),g=xN(h);return v.createElement(v.Fragment,null,f.map(y=>v.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),d.map(y=>v.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),g.map(({key:y,link:x})=>v.createElement("link",{key:y,...x})))}function _N(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var e0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e0&&(window.__reactRouterVersion="7.7.0")}catch{}function wN({basename:t,children:e,window:n}){let r=v.useRef();r.current==null&&(r.current=c1({window:n,v5Compat:!0}));let s=r.current,[i,o]=v.useState({action:s.action,location:s.location}),l=v.useCallback(c=>{v.startTransition(()=>o(c))},[o]);return v.useLayoutEffect(()=>s.listen(l),[s,l]),v.createElement(J1,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var t0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y=v.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f,...d},g){let{basename:y}=v.useContext(Ct),x=typeof u=="string"&&t0.test(u),w,m=!1;if(typeof u=="string"&&x&&(w=u,e0))try{let H=new URL(window.location.href),O=u.startsWith("//")?new URL(H.protocol+u):new URL(u),Ue=Jt(O.pathname,y);O.origin===H.origin&&Ue!=null?u=Ue+O.search+O.hash:m=!0}catch{wt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=L1(u,{relative:s}),[_,N,b]=gN(r,d),I=bN(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function S(H){e&&e(H),H.defaultPrevented||I(H)}let T=v.createElement("a",{...d,...b,href:w||p,onClick:m||i?e:S,ref:_N(g,N),target:c,"data-discover":!x&&n==="render"?"true":void 0});return _&&!x?v.createElement(v.Fragment,null,T,v.createElement(yN,{page:p})):T});Y.displayName="Link";var NN=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},h){let f=Xi(o,{relative:u.relative}),d=Bn(),g=v.useContext(_l),{navigator:y,basename:x}=v.useContext(Ct),w=g!=null&&TN(f)&&l===!0,m=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,p=d.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(p=p.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase()),_&&x&&(_=Jt(_,x)||_);const N=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let b=p===m||!s&&p.startsWith(m)&&p.charAt(N)==="/",I=_!=null&&(_===m||!s&&_.startsWith(m)&&_.charAt(m.length)==="/"),S={isActive:b,isPending:I,isTransitioning:w},T=b?e:void 0,H;typeof r=="function"?H=r(S):H=[r,b?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(S):i;return v.createElement(Y,{...u,"aria-current":T,className:H,ref:h,style:O,to:o,viewTransition:l},typeof c=="function"?c(S):c)});NN.displayName="NavLink";var CN=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Xo,action:l,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...d},g)=>{let y=IN(),x=jN(l,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",m=typeof l=="string"&&t0.test(l),p=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let N=_.nativeEvent.submitter,b=(N==null?void 0:N.getAttribute("formmethod"))||o;y(N||_.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:s,state:i,relative:u,preventScrollReset:h,viewTransition:f})};return v.createElement("form",{ref:g,method:w,action:x,onSubmit:r?c:p,...d,"data-discover":!m&&t==="render"?"true":void 0})});CN.displayName="Form";function EN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n0(t){let e=v.useContext(xs);return re(e,EN(t)),e}function bN(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=Ji(),c=Bn(),u=Xi(t,{relative:i});return v.useCallback(h=>{if(rN(h,e)){h.preventDefault();let f=n!==void 0?n:Ti(c)===Ti(u);l(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,n,r,e,t,s,i,o])}var SN=0,kN=()=>`__${String(++SN)}__`;function IN(){let{router:t}=n0("useSubmit"),{basename:e}=v.useContext(Ct),n=q1();return v.useCallback(async(r,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=oN(r,e);if(s.navigate===!1){let h=s.fetcherKey||kN();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function jN(t,{relative:e}={}){let{basename:n}=v.useContext(Ct),r=v.useContext(At);re(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Xi(t||".",{relative:e})},o=Bn();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Bt([n,i.pathname])),Ti(i)}function TN(t,e={}){let n=v.useContext(qy);re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=n0("useViewTransitionState"),s=Xi(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Jt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Jt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ta(s.pathname,o)!=null||Ta(s.pathname,i)!=null}let PN={data:""},RN=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||PN,AN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DN=/\/\*[^]*?\*\/|  +/g,hp=/\n+/g,hn=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?hn(o,i):i+"{"+hn(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=hn(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=hn.p?hn.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Dt={},r0=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+r0(t[n]);return e}return t},ON=(t,e,n,r,s)=>{let i=r0(t),o=Dt[i]||(Dt[i]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(i));if(!Dt[o]){let c=i!==t?t:(u=>{let h,f,d=[{}];for(;h=AN.exec(u.replace(DN,""));)h[4]?d.shift():h[3]?(f=h[3].replace(hp," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][h[1]]=h[2].replace(hp," ").trim();return d[0]})(t);Dt[o]=hn(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&Dt.g?Dt.g:null;return n&&(Dt.g=Dt[o]),((c,u,h,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(Dt[o],e,r,l),o},LN=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":hn(l,""):l===!1?"":l}return r+s+(o??"")},"");function Nl(t){let e=this||{},n=t.call?t(e.p):t;return ON(n.unshift?n.raw?LN(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,RN(e.target),e.g,e.o,e.k)}let s0,ku,Iu;Nl.bind({g:1});let Xt=Nl.bind({k:1});function MN(t,e,n,r){hn.p=e,s0=t,ku=n,Iu=r}function Hn(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:ku&&ku()},l),n.o=/ *go\d+/.test(c),l.className=Nl.apply(n,r)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Iu&&u[0]&&Iu(l),s0(u,l)}return s}}var FN=t=>typeof t=="function",Pa=(t,e)=>FN(t)?t(e):t,UN=(()=>{let t=0;return()=>(++t).toString()})(),i0=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),$N=20,o0=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,$N)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return o0(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},ea=[],sr={toasts:[],pausedAt:void 0},Cr=t=>{sr=o0(sr,t),ea.forEach(e=>{e(sr)})},zN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},WN=(t={})=>{let[e,n]=v.useState(sr),r=v.useRef(sr);v.useEffect(()=>(r.current!==sr&&n(sr),ea.push(n),()=>{let i=ea.indexOf(n);i>-1&&ea.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,l,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||zN[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:s}},BN=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||UN()}),Zi=t=>(e,n)=>{let r=BN(e,t,n);return Cr({type:2,toast:r}),r.id},Ae=(t,e)=>Zi("blank")(t,e);Ae.error=Zi("error");Ae.success=Zi("success");Ae.loading=Zi("loading");Ae.custom=Zi("custom");Ae.dismiss=t=>{Cr({type:3,toastId:t})};Ae.remove=t=>Cr({type:4,toastId:t});Ae.promise=(t,e,n)=>{let r=Ae.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Pa(e.success,s):void 0;return i?Ae.success(i,{id:r,...n,...n==null?void 0:n.success}):Ae.dismiss(r),s}).catch(s=>{let i=e.error?Pa(e.error,s):void 0;i?Ae.error(i,{id:r,...n,...n==null?void 0:n.error}):Ae.dismiss(r)}),t};var HN=(t,e)=>{Cr({type:1,toast:{id:t,height:e}})},VN=()=>{Cr({type:5,time:Date.now()})},si=new Map,GN=1e3,qN=(t,e=GN)=>{if(si.has(t))return;let n=setTimeout(()=>{si.delete(t),Cr({type:4,toastId:t})},e);si.set(t,n)},KN=t=>{let{toasts:e,pausedAt:n}=WN(t);v.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&Ae.dismiss(l.id);return}return setTimeout(()=>Ae.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=v.useCallback(()=>{n&&Cr({type:6,time:Date.now()})},[n]),s=v.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},h=e.filter(g=>(g.position||u)===(i.position||u)&&g.height),f=h.findIndex(g=>g.id===i.id),d=h.filter((g,y)=>y<f&&g.visible).length;return h.filter(g=>g.visible).slice(...l?[d+1]:[0,d]).reduce((g,y)=>g+(y.height||0)+c,0)},[e]);return v.useEffect(()=>{e.forEach(i=>{if(i.dismissed)qN(i.id,i.removeDelay);else{let o=si.get(i.id);o&&(clearTimeout(o),si.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:HN,startPause:VN,endPause:r,calculateOffset:s}}},YN=Xt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,QN=Xt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JN=Xt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,XN=Hn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${QN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${JN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ZN=Xt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eC=Hn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ZN} 1s linear infinite;
`,tC=Xt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nC=Xt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rC=Hn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,sC=Hn("div")`
  position: absolute;
`,iC=Hn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,oC=Xt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aC=Hn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${oC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lC=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?v.createElement(aC,null,e):e:n==="blank"?null:v.createElement(iC,null,v.createElement(eC,{...r}),n!=="loading"&&v.createElement(sC,null,n==="error"?v.createElement(XN,{...r}):v.createElement(rC,{...r})))},cC=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uC=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,dC="0%{opacity:0;} 100%{opacity:1;}",hC="0%{opacity:1;} 100%{opacity:0;}",fC=Hn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pC=Hn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mC=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=i0()?[dC,hC]:[cC(n),uC(n)];return{animation:e?`${Xt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gC=v.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?mC(t.position||e||"top-center",t.visible):{opacity:0},i=v.createElement(lC,{toast:t}),o=v.createElement(pC,{...t.ariaProps},Pa(t.message,t));return v.createElement(fC,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):v.createElement(v.Fragment,null,i,o))});MN(v.createElement);var yC=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=v.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return v.createElement("div",{ref:i,className:e,style:n},s)},xC=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:i0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},vC=Nl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oo=16,_C=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=KN(n);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Oo,left:Oo,right:Oo,bottom:Oo,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let h=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),d=xC(h,f);return v.createElement(yC,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?vC:"",style:d},u.type==="custom"?Pa(u.message,u):s?s(u):v.createElement(gC,{toast:u,position:h}))}))},P=Ae;const wC=()=>{};var fp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=function(t,e){if(!t)throw _s(e)},_s=function(t){return new Error("Firebase Database ("+a0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},NC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Zd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let d=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(d=64)),r.push(n[h],n[f],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new CC;const d=i<<2|l>>4;if(r.push(d),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c0=function(t){const e=l0(t);return Zd.encodeByteArray(e,!0)},Ra=function(t){return c0(t).replace(/\./g,"")},Aa=function(t){try{return Zd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){return u0(void 0,t)}function u0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!bC(n)||(t[n]=u0(t[n],e[n]));return t}function bC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=()=>SC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof fp>"u")return;const t=fp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Aa(t[1]);return e&&JSON.parse(e)},eh=()=>{try{return wC()||kC()||IC()||jC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},d0=t=>{var e,n;return(n=(e=eh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},TC=t=>{const e=d0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},h0=()=>{var t;return(t=eh())==null?void 0:t.config},f0=t=>{var e;return(e=eh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ra(JSON.stringify(n)),Ra(JSON.stringify(o)),""].join(".")}const ii={};function RC(){const t={prod:[],emulator:[]};for(const e of Object.keys(ii))ii[e]?t.emulator.push(e):t.prod.push(e);return t}function AC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pp=!1;function m0(t,e){if(typeof window>"u"||typeof document>"u"||!ws(window.location.host)||ii[t]===e||ii[t]||pp)return;ii[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",i=RC().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function l(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function c(d,g){d.setAttribute("width","24"),d.setAttribute("id",g),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{pp=!0,o()},d}function h(d,g){d.setAttribute("id",g),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=AC(r),g=n("text"),y=document.getElementById(g)||document.createElement("span"),x=n("learnmore"),w=document.getElementById(x)||document.createElement("a"),m=n("preprendIcon"),p=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const _=d.element;l(_),h(w,x);const N=u();c(p,m),_.append(p,y,w,N),document.body.appendChild(_)}i?(y.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function th(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function DC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LC(){const t=Le();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y0(){return a0.NODE_ADMIN===!0}function MC(){try{return typeof indexedDB=="object"}catch{return!1}}function FC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="FirebaseError";class Vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UC,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$C(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Vn(s,l,r)}}function $C(t,e){return t.replace(zC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t){return JSON.parse(t)}function fe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Pi(Aa(i[0])||""),n=Pi(Aa(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},WC=function(t){const e=x0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},BC=function(t){const e=x0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ls(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ju(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Da(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function pr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(mp(i)&&mp(o)){if(!pr(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qs(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ks(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,h;for(let f=0;f<80;f++){f<40?f<20?(u=l^i&(o^l),h=1518500249):(u=i^o^l,h=1859775393):f<60?(u=i&o|l&(i|o),h=2400959708):(u=i^o^l,h=3395469782);const d=(s<<5|s>>>27)+u+c+h+r[f]&4294967295;c=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function VC(t,e){const n=new GC(t,e);return n.subscribe.bind(n)}class GC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=xc),s.error===void 0&&(s.error=xc),s.complete===void 0&&(s.complete=xc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xc(){}function nh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},El=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t){return t&&t._delegate?t._delegate:t}class mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JC(e))try{this.getOrInitializeService({instanceIdentifier:Xn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xn){return this.instances.has(e)}getOptions(e=Xn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xn){return this.component?this.component.multipleInstances?e:Xn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QC(t){return t===Xn?void 0:t}function JC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(K||(K={}));const ZC={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},eE=K.INFO,tE={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},nE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=tE[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rh{constructor(e){this.name=e,this._logLevel=eE,this._logHandler=nE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}}const rE=(t,e)=>e.some(n=>t instanceof n);let gp,yp;function sE(){return gp||(gp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iE(){return yp||(yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,Tu=new WeakMap,_0=new WeakMap,vc=new WeakMap,sh=new WeakMap;function oE(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(kn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&v0.set(n,t)}).catch(()=>{}),sh.set(e,t),e}function aE(t){if(Tu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Tu.set(t,e)}let Pu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lE(t){Pu=t(Pu)}function cE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_c(this),e,...n);return _0.set(r,e.sort?e.sort():[e]),kn(r)}:iE().includes(t)?function(...e){return t.apply(_c(this),e),kn(v0.get(this))}:function(...e){return kn(t.apply(_c(this),e))}}function uE(t){return typeof t=="function"?cE(t):(t instanceof IDBTransaction&&aE(t),rE(t,sE())?new Proxy(t,Pu):t)}function kn(t){if(t instanceof IDBRequest)return oE(t);if(vc.has(t))return vc.get(t);const e=uE(t);return e!==t&&(vc.set(t,e),sh.set(e,t)),e}const _c=t=>sh.get(t);function dE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=kn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(kn(o.result),c.oldVersion,c.newVersion,kn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const hE=["get","getKey","getAll","getAllKeys","count"],fE=["put","add","delete","clear"],wc=new Map;function xp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wc.get(e))return wc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=fE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hE.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return wc.set(e,i),i}lE(t=>({...t,get:(e,n,r)=>xp(e,n)||t.get(e,n,r),has:(e,n)=>!!xp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ru="@firebase/app",vp="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new rh("@firebase/app"),gE="@firebase/app-compat",yE="@firebase/analytics-compat",xE="@firebase/analytics",vE="@firebase/app-check-compat",_E="@firebase/app-check",wE="@firebase/auth",NE="@firebase/auth-compat",CE="@firebase/database",EE="@firebase/data-connect",bE="@firebase/database-compat",SE="@firebase/functions",kE="@firebase/functions-compat",IE="@firebase/installations",jE="@firebase/installations-compat",TE="@firebase/messaging",PE="@firebase/messaging-compat",RE="@firebase/performance",AE="@firebase/performance-compat",DE="@firebase/remote-config",OE="@firebase/remote-config-compat",LE="@firebase/storage",ME="@firebase/storage-compat",FE="@firebase/firestore",UE="@firebase/ai",$E="@firebase/firestore-compat",zE="firebase",WE="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="[DEFAULT]",BE={[Ru]:"fire-core",[gE]:"fire-core-compat",[xE]:"fire-analytics",[yE]:"fire-analytics-compat",[_E]:"fire-app-check",[vE]:"fire-app-check-compat",[wE]:"fire-auth",[NE]:"fire-auth-compat",[CE]:"fire-rtdb",[EE]:"fire-data-connect",[bE]:"fire-rtdb-compat",[SE]:"fire-fn",[kE]:"fire-fn-compat",[IE]:"fire-iid",[jE]:"fire-iid-compat",[TE]:"fire-fcm",[PE]:"fire-fcm-compat",[RE]:"fire-perf",[AE]:"fire-perf-compat",[DE]:"fire-rc",[OE]:"fire-rc-compat",[LE]:"fire-gcs",[ME]:"fire-gcs-compat",[FE]:"fire-fst",[$E]:"fire-fst-compat",[UE]:"fire-vertex","fire-js":"fire-js",[zE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Map,HE=new Map,Du=new Map;function _p(t,e){try{t.container.addComponent(e)}catch(n){Zt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cs(t){const e=t.name;if(Du.has(e))return Zt.debug(`There were multiple attempts to register component ${e}.`),!1;Du.set(e,t);for(const n of Oa.values())_p(n,t);for(const n of HE.values())_p(n,t);return!0}function ih(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function st(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},In=new eo("app","Firebase",VE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=WE;function w0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Au,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw In.create("bad-app-name",{appName:String(s)});if(n||(n=h0()),!n)throw In.create("no-options");const i=Oa.get(s);if(i){if(pr(n,i.options)&&pr(r,i.config))return i;throw In.create("duplicate-app",{appName:s})}const o=new XC(s);for(const c of Du.values())o.addComponent(c);const l=new GE(n,r,o);return Oa.set(s,l),l}function N0(t=Au){const e=Oa.get(t);if(!e&&t===Au&&h0())return w0();if(!e)throw In.create("no-app",{appName:t});return e}function jn(t,e,n){let r=BE[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zt.warn(o.join(" "));return}cs(new mr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firebase-heartbeat-database",KE=1,Ri="firebase-heartbeat-store";let Nc=null;function C0(){return Nc||(Nc=dE(qE,KE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ri)}catch(n){console.warn(n)}}}}).catch(t=>{throw In.create("idb-open",{originalErrorMessage:t.message})})),Nc}async function YE(t){try{const n=(await C0()).transaction(Ri),r=await n.objectStore(Ri).get(E0(t));return await n.done,r}catch(e){if(e instanceof Vn)Zt.warn(e.message);else{const n=In.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zt.warn(n.message)}}}async function wp(t,e){try{const r=(await C0()).transaction(Ri,"readwrite");await r.objectStore(Ri).put(e,E0(t)),await r.done}catch(n){if(n instanceof Vn)Zt.warn(n.message);else{const r=In.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zt.warn(r.message)}}}function E0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=1024,JE=30;class XE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Np();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>JE){const o=tb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Np(),{heartbeatsToSend:r,unsentEntries:s}=ZE(this._heartbeatsCache.heartbeats),i=Ra(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Zt.warn(n),""}}}function Np(){return new Date().toISOString().substring(0,10)}function ZE(t,e=QE){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Cp(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Cp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MC()?FC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Cp(t){return Ra(JSON.stringify({version:2,heartbeats:t})).length}function tb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){cs(new mr("platform-logger",e=>new pE(e),"PRIVATE")),cs(new mr("heartbeat",e=>new XE(e),"PRIVATE")),jn(Ru,vp,t),jn(Ru,vp,"esm2020"),jn("fire-js","")}nb("");function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rb=b0,S0=new eo("auth","Firebase",b0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new rh("@firebase/auth");function sb(t,...e){La.logLevel<=K.WARN&&La.warn(`Auth (${Cs}): ${t}`,...e)}function ta(t,...e){La.logLevel<=K.ERROR&&La.error(`Auth (${Cs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,...e){throw oh(t,...e)}function jt(t,...e){return oh(t,...e)}function k0(t,e,n){const r={...rb(),[e]:n};return new eo("auth","Firebase",r).create(e,{appName:t.name})}function Ht(t){return k0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return S0.create(t,...e)}function R(t,e,...n){if(!t)throw oh(e,...n)}function Ut(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ta(e),new Error(e)}function en(t,e){t||Ut(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ib(){return Ep()==="http:"||Ep()==="https:"}function Ep(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ib()||OC()||"connection"in navigator)?navigator.onLine:!0}function ab(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.shortDelay=e,this.longDelay=n,en(n>e,"Short delay should be less than long delay!"),this.isMobile=th()||g0()}get(){return ob()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e){en(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ub=new to(3e4,6e4);function Gn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qn(t,e,n,r,s={}){return j0(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Ns({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return DC()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ws(t.emulatorConfig.host)&&(u.credentials="include"),I0.fetch()(await T0(t,t.config.apiHost,n,l),u)})}async function j0(t,e,n){t._canInitEmulator=!1;const r={...lb,...e};try{const s=new hb(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Lo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lo(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Lo(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Lo(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw k0(t,h,u);Nt(t,h)}}catch(s){if(s instanceof Vn)throw s;Nt(t,"network-request-failed",{message:String(s)})}}async function no(t,e,n,r,s={}){const i=await qn(t,e,n,r,s);return"mfaPendingCredential"in i&&Nt(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function T0(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?ah(t.config,s):`${t.config.apiScheme}://${s}`;return cb.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function db(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jt(this.auth,"network-request-failed")),ub.get())})}}function Lo(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=jt(t,e,r);return s.customData._tokenResponse=n,s}function bp(t){return t!==void 0&&t.enterprise!==void 0}class fb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return db(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pb(t,e){return qn(t,"GET","/v2/recaptchaConfig",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(t,e){return qn(t,"POST","/v1/accounts:delete",e)}async function Ma(t,e){return qn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gb(t,e=!1){const n=Pe(t),r=await n.getIdToken(e),s=lh(r);R(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:oi(Cc(s.auth_time)),issuedAtTime:oi(Cc(s.iat)),expirationTime:oi(Cc(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Cc(t){return Number(t)*1e3}function lh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ta("JWT malformed, contained fewer than 3 sections"),null;try{const s=Aa(n);return s?JSON.parse(s):(ta("Failed to decode base64 JWT payload"),null)}catch(s){return ta("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Sp(t){const e=lh(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ai(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vn&&yb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ai(t,Ma(e,{idToken:n}));R(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?P0(s.providerUserInfo):[],o=_b(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Lu(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function vb(t){const e=Pe(t);await Fa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _b(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function P0(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(t,e){const n=await j0(t,{},async()=>{const r=Ns({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await T0(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ws(t.emulatorConfig.host)&&(c.credentials="include"),I0.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nb(t,e){return qn(t,"POST","/v2/accounts:revokeToken",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){R(e.length!==0,"internal-error");const n=Sp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(R(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await wb(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Yr;return r&&(R(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(R(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(R(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yr,this.toJSON())}_performRefresh(){return Ut("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){R(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new xb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lu(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ai(this,this.stsTokenManager.getToken(this.auth,e));return R(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gb(this,e)}reload(){return vb(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fa(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(st(this.auth.app))return Promise.reject(Ht(this.auth));const e=await this.getIdToken();return await Ai(this,mb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:g,providerData:y,stsTokenManager:x}=n;R(f&&x,e,"internal-error");const w=Yr.fromJSON(this.name,x);R(typeof f=="string",e,"internal-error"),an(r,e.name),an(s,e.name),R(typeof d=="boolean",e,"internal-error"),R(typeof g=="boolean",e,"internal-error"),an(i,e.name),an(o,e.name),an(l,e.name),an(c,e.name),an(u,e.name),an(h,e.name);const m=new pt({uid:f,auth:e,email:s,emailVerified:d,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:w,createdAt:u,lastLoginAt:h});return y&&Array.isArray(y)&&(m.providerData=y.map(p=>({...p}))),c&&(m._redirectEventId=c),m}static async _fromIdTokenResponse(e,n,r=!1){const s=new Yr;s.updateFromServerResponse(n);const i=new pt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Fa(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];R(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?P0(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Yr;l.updateFromIdToken(r);const c=new pt({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Lu(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=new Map;function $t(t){en(t instanceof Function,"Expected a class definition");let e=kp.get(t);return e?(en(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kp.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}R0.type="NONE";const Ip=R0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,e,n){return`firebase:${t}:${e}:${n}`}class Qr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=na(this.userKey,s.apiKey,i),this.fullPersistenceKey=na("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ma(this.auth,{idToken:e}).catch(()=>{});return n?pt._fromGetAccountInfoResponse(this.auth,n,e):null}return pt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qr($t(Ip),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||$t(Ip);const o=na(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const d=await Ma(e,{idToken:h}).catch(()=>{});if(!d)break;f=await pt._fromGetAccountInfoResponse(e,d,h)}else f=pt._fromJSON(e,h);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Qr(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Qr(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F0(e))return"Blackberry";if(U0(e))return"Webos";if(D0(e))return"Safari";if((e.includes("chrome/")||O0(e))&&!e.includes("edge/"))return"Chrome";if(M0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function A0(t=Le()){return/firefox\//i.test(t)}function D0(t=Le()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O0(t=Le()){return/crios\//i.test(t)}function L0(t=Le()){return/iemobile/i.test(t)}function M0(t=Le()){return/android/i.test(t)}function F0(t=Le()){return/blackberry/i.test(t)}function U0(t=Le()){return/webos/i.test(t)}function ch(t=Le()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Cb(t=Le()){var e;return ch(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Eb(){return LC()&&document.documentMode===10}function $0(t=Le()){return ch(t)||M0(t)||U0(t)||F0(t)||/windows phone/i.test(t)||L0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t,e=[]){let n;switch(t){case"Browser":n=jp(Le());break;case"Worker":n=`${jp(Le())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(t,e={}){return qn(t,"GET","/v2/passwordPolicy",Gn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=6;class Ib{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tp(this),this.idTokenSubscription=new Tp(this),this.beforeStateQueue=new bb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$t(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Qr.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ma(this,{idToken:e}),r=await pt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(st(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return R(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ab()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(st(this.app))return Promise.reject(Ht(this));const n=e?Pe(e):null;return n&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&R(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return st(this.app)?Promise.reject(Ht(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return st(this.app)?Promise.reject(Ht(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($t(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Sb(this),n=new Ib(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$t(e)||this._popupRedirectResolver;R(n,this,"argument-error"),this.redirectPersistenceManager=await Qr.create(this,[$t(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(st(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&sb(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Er(t){return Pe(t)}class Tp{constructor(e){this.auth=e,this.observer=null,this.addObserver=VC(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tb(t){bl=t}function W0(t){return bl.loadJS(t)}function Pb(){return bl.recaptchaEnterpriseScript}function Rb(){return bl.gapiScript}function Ab(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Db{constructor(){this.enterprise=new Ob}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ob{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Lb="recaptcha-enterprise",B0="NO_RECAPTCHA";class Mb{constructor(e){this.type=Lb,this.auth=Er(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{pb(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new fb(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;bp(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(B0)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Db().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&bp(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Pb();c.length!==0&&(c+=l),W0(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function Pp(t,e,n,r=!1,s=!1){const i=new Mb(t);let o;if(s)o=B0;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Mu(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Pp(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Pp(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e){const n=ih(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(pr(i,e??{}))return s;Nt(s,"already-initialized")}return n.initialize({options:e})}function Ub(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($t);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $b(t,e,n){const r=Er(t);R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=H0(e),{host:o,port:l}=zb(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){R(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),R(pr(u,r.config.emulator)&&pr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ws(o)?(p0(`${i}//${o}${c}`),m0("Auth",!0)):Wb()}function H0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zb(t){const e=H0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Rp(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Rp(o)}}}function Rp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ut("not implemented")}_getIdTokenResponse(e){return Ut("not implemented")}_linkToIdToken(e,n){return Ut("not implemented")}_getReauthenticationResolver(e){return Ut("not implemented")}}async function Bb(t,e){return qn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(t,e){return no(t,"POST","/v1/accounts:signInWithPassword",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t,e){return no(t,"POST","/v1/accounts:signInWithEmailLink",Gn(t,e))}async function Gb(t,e){return no(t,"POST","/v1/accounts:signInWithEmailLink",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends uh{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Di(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Di(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mu(e,n,"signInWithPassword",Hb);case"emailLink":return Vb(e,{email:this._email,oobCode:this._password});default:Nt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mu(e,r,"signUpPassword",Bb);case"emailLink":return Gb(e,{idToken:n,email:this._email,oobCode:this._password});default:Nt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jr(t,e){return no(t,"POST","/v1/accounts:signInWithIdp",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="http://localhost";class gr extends uh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new gr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Jr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Jr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Jr(e,n)}buildRequest(){const e={requestUri:qb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ns(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yb(t){const e=qs(Ks(t)).link,n=e?qs(Ks(e)).deep_link_id:null,r=qs(Ks(t)).deep_link_id;return(r?qs(Ks(r)).link:null)||r||n||e||t}class dh{constructor(e){const n=qs(Ks(e)),r=n.apiKey??null,s=n.oobCode??null,i=Kb(n.mode??null);R(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Yb(e);try{return new dh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.providerId=Es.PROVIDER_ID}static credential(e,n){return Di._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dh.parseLink(n);return R(r,"argument-error"),Di._fromEmailAndCode(e,r.code,r.tenantId)}}Es.PROVIDER_ID="password";Es.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Es.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends V0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends ro{constructor(){super("facebook.com")}static credential(e){return gr._fromParams({providerId:fn.PROVIDER_ID,signInMethod:fn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fn.credentialFromTaggedObject(e)}static credentialFromError(e){return fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fn.credential(e.oauthAccessToken)}catch{return null}}}fn.FACEBOOK_SIGN_IN_METHOD="facebook.com";fn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends ro{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gr._fromParams({providerId:pn.PROVIDER_ID,signInMethod:pn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pn.credentialFromTaggedObject(e)}static credentialFromError(e){return pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pn.credential(n,r)}catch{return null}}}pn.GOOGLE_SIGN_IN_METHOD="google.com";pn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends ro{constructor(){super("github.com")}static credential(e){return gr._fromParams({providerId:mn.PROVIDER_ID,signInMethod:mn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mn.credentialFromTaggedObject(e)}static credentialFromError(e){return mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mn.credential(e.oauthAccessToken)}catch{return null}}}mn.GITHUB_SIGN_IN_METHOD="github.com";mn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn extends ro{constructor(){super("twitter.com")}static credential(e,n){return gr._fromParams({providerId:gn.PROVIDER_ID,signInMethod:gn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gn.credentialFromTaggedObject(e)}static credentialFromError(e){return gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gn.credential(n,r)}catch{return null}}}gn.TWITTER_SIGN_IN_METHOD="twitter.com";gn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(t,e){return no(t,"POST","/v1/accounts:signUp",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await pt._fromIdTokenResponse(e,r,s),o=Ap(r);return new yr({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ap(r);return new yr({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ap(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Vn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ua.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ua(e,n,r,s)}}function G0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ua._fromErrorAndOperation(t,i,e,r):i})}async function Jb(t,e,n=!1){const r=await Ai(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t,e,n=!1){const{auth:r}=t;if(st(r.app))return Promise.reject(Ht(r));const s="reauthenticate";try{const i=await Ai(t,G0(r,s,e,t),n);R(i.idToken,r,"internal-error");const o=lh(i.idToken);R(o,r,"internal-error");const{sub:l}=o;return R(t.uid===l,r,"user-mismatch"),yr._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Nt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(t,e,n=!1){if(st(t.app))return Promise.reject(Ht(t));const r="signIn",s=await G0(t,r,e),i=await yr._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Zb(t,e){return q0(Er(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0(t){const e=Er(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eS(t,e,n){if(st(t.app))return Promise.reject(Ht(t));const r=Er(t),o=await Mu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qb).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&K0(t),c}),l=await yr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function tS(t,e,n){return st(t.app)?Promise.reject(Ht(t)):Zb(Pe(t),Es.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&K0(t),r})}function nS(t,e,n,r){return Pe(t).onIdTokenChanged(e,n,r)}function rS(t,e,n){return Pe(t).beforeAuthStateChanged(e,n)}function sS(t,e,n,r){return Pe(t).onAuthStateChanged(e,n,r)}function iS(t){return Pe(t).signOut()}const $a="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($a,"1"),this.storage.removeItem($a),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=1e3,aS=10;class Q0 extends Y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Eb()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,aS):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q0.type="LOCAL";const lS=Q0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}J0.type="SESSION";const X0=J0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Sl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await cS(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=hh("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(d.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return window}function dS(t){Tt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){return typeof Tt().WorkerGlobalScope<"u"&&typeof Tt().importScripts=="function"}async function hS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fS(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function pS(){return Z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="firebaseLocalStorageDb",mS=1,za="firebaseLocalStorage",tx="fbase_key";class so{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kl(t,e){return t.transaction([za],e?"readwrite":"readonly").objectStore(za)}function gS(){const t=indexedDB.deleteDatabase(ex);return new so(t).toPromise()}function Fu(){const t=indexedDB.open(ex,mS);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(za,{keyPath:tx})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(za)?e(r):(r.close(),await gS(),e(await Fu()))})})}async function Dp(t,e,n){const r=kl(t,!0).put({[tx]:e,value:n});return new so(r).toPromise()}async function yS(t,e){const n=kl(t,!1).get(e),r=await new so(n).toPromise();return r===void 0?null:r.value}function Op(t,e){const n=kl(t,!0).delete(e);return new so(n).toPromise()}const xS=800,vS=3;class nx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sl._getInstance(pS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await hS(),!this.activeServiceWorker)return;this.sender=new uS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fu();return await Dp(e,$a,"1"),await Op(e,$a),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dp(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yS(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Op(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=kl(s,!1).getAll();return new so(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nx.type="LOCAL";const _S=nx;new to(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e){return e?$t(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends uh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NS(t){return q0(t.auth,new fh(t),t.bypassAuthState)}function CS(t){const{auth:e,user:n}=t;return R(n,e,"internal-error"),Xb(n,new fh(t),t.bypassAuthState)}async function ES(t){const{auth:e,user:n}=t;return R(n,e,"internal-error"),Jb(n,new fh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NS;case"linkViaPopup":case"linkViaRedirect":return ES;case"reauthViaPopup":case"reauthViaRedirect":return CS;default:Nt(this.auth,"internal-error")}}resolve(e){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new to(2e3,1e4);class zr extends rx{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,zr.currentPopupAction&&zr.currentPopupAction.cancel(),zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return R(e,this.auth,"internal-error"),e}async onExecution(){en(this.filter.length===1,"Popup operations only handle one event");const e=hh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bS.get())};e()}}zr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="pendingRedirect",ra=new Map;class kS extends rx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ra.get(this.auth._key());if(!e){try{const r=await IS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ra.set(this.auth._key(),e)}return this.bypassAuthState||ra.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IS(t,e){const n=PS(e),r=TS(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jS(t,e){ra.set(t._key(),e)}function TS(t){return $t(t._redirectPersistence)}function PS(t){return na(SS,t.config.apiKey,t.name)}async function RS(t,e,n=!1){if(st(t.app))return Promise.reject(Ht(t));const r=Er(t),s=wS(r,e),o=await new kS(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=10*60*1e3;class DS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OS(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sx(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(jt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lp(e))}saveEventToCache(e){this.cachedEventUids.add(Lp(e)),this.lastProcessedEventTime=Date.now()}}function Lp(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OS(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(t,e={}){return qn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FS=/^https?/;async function US(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LS(t);for(const n of e)try{if($S(n))return}catch{}Nt(t,"unauthorized-domain")}function $S(t){const e=Ou(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FS.test(n))return!1;if(MS.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=new to(3e4,6e4);function Mp(){const t=Tt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WS(t){return new Promise((e,n)=>{var s,i,o;function r(){Mp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mp(),n(jt(t,"network-request-failed"))},timeout:zS.get()})}if((i=(s=Tt().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Tt().gapi)!=null&&o.load)r();else{const l=Ab("iframefcb");return Tt()[l]=()=>{gapi.load?r():n(jt(t,"network-request-failed"))},W0(`${Rb()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw sa=null,e})}let sa=null;function BS(t){return sa=sa||WS(t),sa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new to(5e3,15e3),VS="__/auth/iframe",GS="emulator/auth/iframe",qS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YS(t){const e=t.config;R(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ah(e,GS):`https://${t.config.authDomain}/${VS}`,r={apiKey:e.apiKey,appName:t.name,v:Cs},s=KS.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ns(r).slice(1)}`}async function QS(t){const e=await BS(t),n=Tt().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:YS(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qS,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=jt(t,"network-request-failed"),l=Tt().setTimeout(()=>{i(o)},HS.get());function c(){Tt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XS=500,ZS=600,ek="_blank",tk="http://localhost";class Fp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nk(t,e,n,r=XS,s=ZS){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...JS,width:r.toString(),height:s.toString(),top:i,left:o},u=Le().toLowerCase();n&&(l=O0(u)?ek:n),A0(u)&&(e=e||tk,c.scrollbars="yes");const h=Object.entries(c).reduce((d,[g,y])=>`${d}${g}=${y},`,"");if(Cb(u)&&l!=="_self")return rk(e||"",l),new Fp(null);const f=window.open(e||"",l,h);R(f,t,"popup-blocked");try{f.focus()}catch{}return new Fp(f)}function rk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="__/auth/handler",ik="emulator/auth/handler",ok=encodeURIComponent("fac");async function Up(t,e,n,r,s,i){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cs,eventId:s};if(e instanceof V0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ju(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof ro){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${ok}=${encodeURIComponent(c)}`:"";return`${ak(t)}?${Ns(l).slice(1)}${u}`}function ak({config:t}){return t.emulator?ah(t,ik):`https://${t.authDomain}/${sk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="webStorageSupport";class lk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X0,this._completeRedirectFn=RS,this._overrideRedirectResult=jS}async _openPopup(e,n,r,s){var o;en((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Up(e,n,r,Ou(),s);return nk(e,i,hh())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Up(e,n,r,Ou(),s);return dS(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(en(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QS(e),r=new DS(e);return n.register("authEvent",s=>(R(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ec,{type:Ec},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Ec];i!==void 0&&n(!!i),Nt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=US(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $0()||D0()||ch()}}const ck=lk;var $p="@firebase/auth",zp="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hk(t){cs(new mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z0(t)},u=new jb(r,s,i,c);return Ub(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cs(new mr("auth-internal",e=>{const n=Er(e.getProvider("auth").getImmediate());return(r=>new uk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn($p,zp,dk(t)),jn($p,zp,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=5*60,pk=f0("authIdTokenMaxAge")||fk;let Wp=null;const mk=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pk)return;const s=n==null?void 0:n.token;Wp!==s&&(Wp=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function gk(t=N0()){const e=ih(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Fb(t,{popupRedirectResolver:ck,persistence:[_S,lS,X0]}),r=f0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=mk(i.toString());rS(n,o,()=>o(n.currentUser)),nS(n,l=>o(l))}}const s=d0("auth");return s&&$b(n,`http://${s}`),n}function yk(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Tb({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=jt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",yk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hk("Browser");var Bp={};const Hp="@firebase/database",Vp="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ix="";function xk(t){ix=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Pi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vk(e)}}catch{}return new _k},ir=ox("localStorage"),wk=ox("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new rh("@firebase/database"),Nk=function(){let t=1;return function(){return t++}}(),ax=function(t){const e=KC(t),n=new HC;n.update(e);const r=n.digest();return Zd.encodeByteArray(r)},io=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=io.apply(null,r):typeof r=="object"?e+=fe(r):e+=r,e+=" "}return e};let ai=null,Gp=!0;const Ck=function(t,e){E(!e,"Can't turn on custom loggers persistently."),Xr.logLevel=K.VERBOSE,ai=Xr.log.bind(Xr)},je=function(...t){if(Gp===!0&&(Gp=!1,ai===null&&wk.get("logging_enabled")===!0&&Ck()),ai){const e=io.apply(null,t);ai(e)}},oo=function(t){return function(...e){je(t,...e)}},Uu=function(...t){const e="FIREBASE INTERNAL ERROR: "+io(...t);Xr.error(e)},tn=function(...t){const e=`FIREBASE FATAL ERROR: ${io(...t)}`;throw Xr.error(e),new Error(e)},Ge=function(...t){const e="FIREBASE WARNING: "+io(...t);Xr.warn(e)},Ek=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ge("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lx=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},bk=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},us="[MIN_NAME]",xr="[MAX_NAME]",bs=function(t,e){if(t===e)return 0;if(t===us||e===xr)return-1;if(e===us||t===xr)return 1;{const n=qp(t),r=qp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Sk=function(t,e){return t===e?0:t<e?-1:1},Us=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fe(e))},ph=function(t){if(typeof t!="object"||t===null)return fe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=fe(e[r]),n+=":",n+=ph(t[e[r]]);return n+="}",n},cx=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ux=function(t){E(!lx(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,c;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const h=u.join("");let f="";for(c=0;c<64;c+=8){let d=parseInt(h.substr(c,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},kk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ik=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Tk=new RegExp("^-?(0*)\\d{1,10}$"),Pk=-2147483648,Rk=2147483647,qp=function(t){if(Tk.test(t)){const e=Number(t);if(e>=Pk&&e<=Rk)return e}return null},Ss=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ge("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ak=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},li=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,st(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ge(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ge(e)}}class ia{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ia.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="5",dx="v",hx="s",fx="r",px="f",mx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gx="ls",yx="p",$u="ac",xx="websocket",vx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r,s,i=!1,o="",l=!1,c=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ir.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ir.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Lk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wx(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===xx)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===vx)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Lk(t)&&(n.ns=t.namespace);const s=[];return qe(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.counters_={}}incrementCounter(e,n=1){rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return EC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={},Sc={};function gh(t){const e=t.toString();return bc[e]||(bc[e]=new Mk),bc[e]}function Fk(t,e){const n=t.toString();return Sc[n]||(Sc[n]=e()),Sc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ss(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="start",$k="close",zk="pLPCommand",Wk="pRTLPCB",Nx="id",Cx="pw",Ex="ser",Bk="cb",Hk="seg",Vk="ts",Gk="d",qk="dframe",bx=1870,Sx=30,Kk=bx-Sx,Yk=25e3,Qk=3e4;class Wr{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oo(e),this.stats_=gh(n),this.urlFn=c=>(this.appCheckToken&&(c[$u]=this.appCheckToken),wx(n,vx,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Uk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Qk)),bk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yh((...i)=>{const[o,l,c,u,h]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Kp)this.id=l,this.password=c;else if(o===$k)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Kp]="t",r[Ex]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Bk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dx]=mh,this.transportSessionId&&(r[hx]=this.transportSessionId),this.lastSessionId&&(r[gx]=this.lastSessionId),this.applicationId&&(r[yx]=this.applicationId),this.appCheckToken&&(r[$u]=this.appCheckToken),typeof location<"u"&&location.hostname&&mx.test(location.hostname)&&(r[fx]=px);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wr.forceAllow_=!0}static forceDisallow(){Wr.forceDisallow_=!0}static isAvailable(){return Wr.forceAllow_?!0:!Wr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!kk()&&!Ik()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=c0(n),s=cx(r,Kk);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[qk]="t",r[Nx]=e,r[Cx]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=fe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class yh{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Nk(),window[zk+this.uniqueCallbackIdentifier]=e,window[Wk+this.uniqueCallbackIdentifier]=n,this.myIFrame=yh.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){je("frame writing exception"),l.stack&&je(l.stack),je(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||je("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Nx]=this.myID,e[Cx]=this.myPW,e[Ex]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Sx+r.length<=bx;){const o=this.pendingSegs.shift();r=r+"&"+Hk+s+"="+o.seg+"&"+Vk+s+"="+o.ts+"&"+Gk+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Yk)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=16384,Xk=45e3;let Wa=null;typeof MozWebSocket<"u"?Wa=MozWebSocket:typeof WebSocket<"u"&&(Wa=WebSocket);class ft{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oo(this.connId),this.stats_=gh(n),this.connURL=ft.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[dx]=mh,typeof location<"u"&&location.hostname&&mx.test(location.hostname)&&(o[fx]=px),n&&(o[hx]=n),r&&(o[gx]=r),s&&(o[$u]=s),i&&(o[yx]=i),wx(e,xx,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ir.set("previous_websocket_failure",!0);try{let r;y0(),this.mySock=new Wa(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ft.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Wa!==null&&!ft.forceDisallow_}static previouslyFailed(){return ir.isInMemoryStorage||ir.get("previous_websocket_failure")===!0}markConnectionHealthy(){ir.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Pi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(E(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=cx(n,Jk);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Xk))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ft.responsesRequiredToBeHealthy=2;ft.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{static get ALL_TRANSPORTS(){return[Wr,ft]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ft&&ft.isAvailable();let r=n&&!ft.previouslyFailed();if(e.webSocketOnly&&(n||Ge("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ft];else{const s=this.transports_=[];for(const i of Oi.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Oi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=6e4,e2=5e3,t2=10*1024,n2=100*1024,kc="t",Yp="d",r2="s",Qp="r",s2="e",Jp="o",Xp="a",Zp="n",em="p",i2="h";class o2{constructor(e,n,r,s,i,o,l,c,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oo("c:"+this.id+":"),this.transportManager_=new Oi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=li(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>n2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>t2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kc in e){const n=e[kc];n===Xp?this.upgradeIfSecondaryHealthy_():n===Qp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Jp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Us("t",e),r=Us("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:em,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Zp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Us("t",e),r=Us("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Us(kc,e);if(Yp in e){const r=e[Yp];if(n===i2){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Zp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===r2?this.onConnectionShutdown_(r):n===Qp?this.onReset_(r):n===s2?Uu("Server Error: "+r):n===Jp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Uu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mh!==r&&Ge("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),li(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Zk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):li(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(e2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:em,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ir.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Ix{static getInstance(){return new Ba}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!th()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=32,nm=768;class Q{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function G(){return new Q("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ln(t){return t.pieces_.length-t.pieceNum_}function J(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Q(t.pieces_,e)}function jx(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function a2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Tx(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Px(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Q(e,0)}function pe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Q)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Q(n,0)}function $(t){return t.pieceNum_>=t.pieces_.length}function De(t,e){const n=F(t),r=F(e);if(n===null)return e;if(n===r)return De(J(t),J(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xh(t,e){if(Ln(t)!==Ln(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function mt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ln(t)>Ln(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class l2{constructor(e,n){this.errorPrefix_=n,this.parts_=Tx(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=El(this.parts_[r]);Rx(this)}}function c2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=El(e),Rx(t)}function u2(t){const e=t.parts_.pop();t.byteLength_-=El(e),t.parts_.length>0&&(t.byteLength_-=1)}function Rx(t){if(t.byteLength_>nm)throw new Error(t.errorPrefix_+"has a key path longer than "+nm+" bytes ("+t.byteLength_+").");if(t.parts_.length>tm)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tm+") or object contains a cycle "+Zn(t))}function Zn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Ix{static getInstance(){return new vh}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=1e3,d2=60*5*1e3,rm=30*1e3,h2=1.3,f2=3e4,p2="server_kill",sm=3;class Vt extends kx{constructor(e,n,r,s,i,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Vt.nextPersistentConnectionId_++,this.log_=oo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$s,this.maxReconnectDelay_=d2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!y0())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ba.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(fe(i)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Cl,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const c=l.d,u=l.s;Vt.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&rn(e,"w")){const r=ls(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Ge(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||BC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=WC(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+fe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Uu("Unrecognized action received from server: "+fe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>f2&&(this.reconnectDelay_=$s),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*h2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Vt.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},u=function(f){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,l=new o2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Ge(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(p2)},i))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Ge(f),c())}}}interrupt(e){je("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){je("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ju(this.interruptReasons_)&&(this.reconnectDelay_=$s,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>ph(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Q(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){je("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=sm&&(this.reconnectDelay_=rm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){je("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=sm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ix.replace(/\./g,"-")]=1,th()?e["framework.cordova"]=1:g0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ba.getInstance().currentlyOnline();return ju(this.interruptReasons_)&&e}}Vt.nextPersistentConnectionId_=0;Vt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new U(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new U(us,e),s=new U(us,n);return this.compare(r,s)!==0}minPost(){return U.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo;class Ax extends Il{static get __EMPTY_NODE(){return Mo}static set __EMPTY_NODE(e){Mo=e}compare(e,n){return bs(e.name,n.name)}isDefinedOn(e){throw _s("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return U.MIN}maxPost(){return new U(xr,Mo)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new U(e,Mo)}toString(){return".key"}}const Zr=new Ax;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ve{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ve.RED,this.left=s??We.EMPTY_NODE,this.right=i??We.EMPTY_NODE}copy(e,n,r,s,i){return new ve(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return We.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return We.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ve.RED=!0;ve.BLACK=!1;class m2{copy(e,n,r,s,i){return this}insert(e,n,r){return new ve(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class We{constructor(e,n=We.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new We(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ve.BLACK,null,null))}remove(e){return new We(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ve.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fo(this.root_,null,this.comparator_,!0,e)}}We.EMPTY_NODE=new m2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e){return bs(t.name,e.name)}function _h(t,e){return bs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu;function y2(t){zu=t}const Dx=function(t){return typeof t=="number"?"number:"+ux(t):"string:"+t},Ox=function(t){if(t.isLeafNode()){const e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&rn(e,".sv"),"Priority must be a string or number.")}else E(t===zu||t.isEmpty(),"priority of unexpected type.");E(t===zu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im;class ye{static set __childrenNodeConstructor(e){im=e}static get __childrenNodeConstructor(){return im}constructor(e,n=ye.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ox(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ye(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ye.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $(e)?this:F(e)===".priority"?this.priorityNode_:ye.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ye.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=F(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(E(r!==".priority"||Ln(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ye.__childrenNodeConstructor.EMPTY_NODE.updateChild(J(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Dx(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ux(this.value_):e+=this.value_,this.lazyHash_=ax(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ye.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ye.__childrenNodeConstructor?-1:(E(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=ye.VALUE_TYPE_ORDER.indexOf(n),i=ye.VALUE_TYPE_ORDER.indexOf(r);return E(s>=0,"Unknown leaf type: "+n),E(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ye.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lx,Mx;function x2(t){Lx=t}function v2(t){Mx=t}class _2 extends Il{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?bs(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return U.MIN}maxPost(){return new U(xr,new ye("[PRIORITY-POST]",Mx))}makePost(e,n){const r=Lx(e);return new U(n,new ye("[PRIORITY-POST]",r))}toString(){return".priority"}}const le=new _2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=Math.log(2);class N2{constructor(e){const n=i=>parseInt(Math.log(i)/w2,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ha=function(t,e,n,r){t.sort(e);const s=function(c,u){const h=u-c;let f,d;if(h===0)return null;if(h===1)return f=t[c],d=n?n(f):f,new ve(d,f.node,ve.BLACK,null,null);{const g=parseInt(h/2,10)+c,y=s(c,g),x=s(g+1,u);return f=t[g],d=n?n(f):f,new ve(d,f.node,ve.BLACK,y,x)}},i=function(c){let u=null,h=null,f=t.length;const d=function(y,x){const w=f-y,m=f;f-=y;const p=s(w+1,m),_=t[w],N=n?n(_):_;g(new ve(N,_.node,x,null,p))},g=function(y){u?(u.left=y,u=y):(h=y,u=y)};for(let y=0;y<c.count;++y){const x=c.nextBitIsOne(),w=Math.pow(2,c.count-(y+1));x?d(w,ve.BLACK):(d(w,ve.BLACK),d(w,ve.RED))}return h},o=new N2(t.length),l=i(o);return new We(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;const kr={};class zt{static get Default(){return E(kr&&le,"ChildrenNode.ts has not been loaded"),Ic=Ic||new zt({".priority":kr},{".priority":le}),Ic}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ls(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof We?n:null}hasIndex(e){return rn(this.indexSet_,e.toString())}addIndex(e,n){E(e!==Zr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(U.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=Ha(r,e.getCompare()):l=kr;const c=e.toString(),u={...this.indexSet_};u[c]=e;const h={...this.indexes_};return h[c]=l,new zt(h,u)}addToIndexes(e,n){const r=Da(this.indexes_,(s,i)=>{const o=ls(this.indexSet_,i);if(E(o,"Missing index implementation for "+i),s===kr)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(U.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),Ha(l,o.getCompare())}else return kr;else{const l=n.get(e.name);let c=s;return l&&(c=c.remove(new U(e.name,l))),c.insert(e,e.node)}});return new zt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Da(this.indexes_,s=>{if(s===kr)return s;{const i=n.get(e.name);return i?s.remove(new U(e.name,i)):s}});return new zt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs;class A{static get EMPTY_NODE(){return zs||(zs=new A(new We(_h),null,zt.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ox(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zs}updatePriority(e){return this.children_.isEmpty()?this:new A(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?zs:n}}getChild(e){const n=F(e);return n===null?this:this.getImmediateChild(n).getChild(J(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(E(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new U(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?zs:this.priorityNode_;return new A(s,o,i)}}updateChild(e,n){const r=F(e);if(r===null)return n;{E(F(e)!==".priority"||Ln(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(J(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(le,(o,l)=>{n[o]=l.val(e),r++,i&&A.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Dx(this.getPriority().val())+":"),this.forEachChild(le,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":ax(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new U(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new U(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new U(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,U.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,U.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ao?-1:0}withIndex(e){if(e===Zr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new A(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Zr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(le),s=n.getIterator(le);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Zr?null:this.indexMap_.get(e.toString())}}A.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class C2 extends A{constructor(){super(new We(_h),A.EMPTY_NODE,zt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return A.EMPTY_NODE}isEmpty(){return!1}}const ao=new C2;Object.defineProperties(U,{MIN:{value:new U(us,A.EMPTY_NODE)},MAX:{value:new U(xr,ao)}});Ax.__EMPTY_NODE=A.EMPTY_NODE;ye.__childrenNodeConstructor=A;y2(ao);v2(ao);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=!0;function _e(t,e=null){if(t===null)return A.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ye(n,_e(e))}if(!(t instanceof Array)&&E2){const n=[];let r=!1;if(qe(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=_e(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new U(o,c)))}}),n.length===0)return A.EMPTY_NODE;const i=Ha(n,g2,o=>o.name,_h);if(r){const o=Ha(n,le.getCompare());return new A(i,_e(e),new zt({".priority":o},{".priority":le}))}else return new A(i,_e(e),zt.Default)}else{let n=A.EMPTY_NODE;return qe(t,(r,s)=>{if(rn(t,r)&&r.substring(0,1)!=="."){const i=_e(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(_e(e))}}x2(_e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2 extends Il{constructor(e){super(),this.indexPath_=e,E(!$(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?bs(e.name,n.name):i}makePost(e,n){const r=_e(e),s=A.EMPTY_NODE.updateChild(this.indexPath_,r);return new U(n,s)}maxPost(){const e=A.EMPTY_NODE.updateChild(this.indexPath_,ao);return new U(xr,e)}toString(){return Tx(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2 extends Il{compare(e,n){const r=e.node.compareTo(n.node);return r===0?bs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return U.MIN}maxPost(){return U.MAX}makePost(e,n){const r=_e(e);return new U(n,r)}toString(){return".value"}}const k2=new S2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){return{type:"value",snapshotNode:t}}function ds(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Li(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Mi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function I2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Li(n,l)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ds(n,r)):o.trackChildChange(Mi(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(le,(s,i)=>{n.hasChild(s)||r.trackChildChange(Li(s,i))}),n.isLeafNode()||n.forEachChild(le,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Mi(s,i,o))}else r.trackChildChange(ds(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?A.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.indexedFilter_=new wh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fi.getStartPost_(e),this.endPost_=Fi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new U(n,r))||(r=A.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=A.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(A.EMPTY_NODE);const i=this;return n.forEachChild(le,(o,l)=>{i.matches(new U(o,l))||(s=s.updateImmediateChild(o,A.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new U(n,r))||(r=A.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=A.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=A.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(A.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,A.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const f=this.index_.getCompare();o=(d,g)=>f(g,d)}else o=this.index_.getCompare();const l=e;E(l.numChildren()===this.limit_,"");const c=new U(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(l.hasChild(n)){const f=l.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const g=d==null?1:o(d,c);if(h&&!r.isEmpty()&&g>=0)return i!=null&&i.trackChildChange(Mi(n,r,f)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Li(n,f));const x=l.updateImmediateChild(n,A.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(i!=null&&i.trackChildChange(ds(d.name,d.node)),x.updateImmediateChild(d.name,d.node)):x}}else return r.isEmpty()?e:h&&o(u,c)>=0?(i!=null&&(i.trackChildChange(Li(u.name,u.node)),i.trackChildChange(ds(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,A.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:us}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===le}copy(){const e=new Nh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function T2(t){return t.loadsAllData()?new wh(t.getIndex()):t.hasLimit()?new j2(t):new Fi(t)}function om(t){const e={};if(t.isDefault())return e;let n;if(t.index_===le?n="$priority":t.index_===k2?n="$value":t.index_===Zr?n="$key":(E(t.index_ instanceof b2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=fe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+fe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=fe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+fe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function am(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==le&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends kx{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=oo("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Va.getListenId_(e,r),l={};this.listens_[o]=l;const c=om(e._queryParams);this.restRequest_(i+".json",c,(u,h)=>{let f=h;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(i,f,!1,r),ls(this.listens_,o)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",s(d,null)}})}unlisten(e,n){const r=Va.getListenId_(e,n);delete this.listens_[r]}get(e){const n=om(e._queryParams),r=e._path.toString(),s=new Cl;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ns(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Pi(l.responseText)}catch{Ge("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Ge("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.rootNode_=A.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(){return{value:null,children:new Map}}function Ux(t,e,n){if($(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=F(e);t.children.has(r)||t.children.set(r,Ga());const s=t.children.get(r);e=J(e),Ux(s,e,n)}}function Wu(t,e,n){t.value!==null?n(e,t.value):R2(t,(r,s)=>{const i=new Q(e.toString()+"/"+r);Wu(s,i,n)})}function R2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&qe(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=10*1e3,D2=30*1e3,O2=5*60*1e3;class L2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new A2(e);const r=lm+(D2-lm)*Math.random();li(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;qe(e,(s,i)=>{i>0&&rn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),li(this.reportStats_.bind(this),Math.floor(Math.random()*2*O2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gt||(gt={}));function $x(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ch(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Eh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=gt.ACK_USER_WRITE,this.source=$x()}operationForChild(e){if($(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Q(e));return new qa(G(),n,this.revert)}}else return E(F(this.path)===e,"operationForChild called for unrelated child."),new qa(J(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.source=e,this.path=n,this.type=gt.LISTEN_COMPLETE}operationForChild(e){return $(this.path)?new Ui(this.source,G()):new Ui(this.source,J(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=gt.OVERWRITE}operationForChild(e){return $(this.path)?new vr(this.source,G(),this.snap.getImmediateChild(e)):new vr(this.source,J(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=gt.MERGE}operationForChild(e){if($(this.path)){const n=this.children.subtree(new Q(e));return n.isEmpty()?null:n.value?new vr(this.source,G(),n.value):new $i(this.source,G(),n)}else return E(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $i(this.source,J(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($(e))return this.isFullyInitialized()&&!this.filtered_;const n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function F2(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(I2(o.childName,o.snapshotNode))}),Ws(t,s,"child_removed",e,r,n),Ws(t,s,"child_added",e,r,n),Ws(t,s,"child_moved",i,r,n),Ws(t,s,"child_changed",e,r,n),Ws(t,s,"value",e,r,n),s}function Ws(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,c)=>$2(t,l,c)),o.forEach(l=>{const c=U2(t,l,i);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function U2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function $2(t,e,n){if(e.childName==null||n.childName==null)throw _s("Should only compare child_ events.");const r=new U(e.childName,e.snapshotNode),s=new U(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t,e){return{eventCache:t,serverCache:e}}function ci(t,e,n,r){return jl(new Mn(e,n,r),t.serverCache)}function zx(t,e,n,r){return jl(t.eventCache,new Mn(e,n,r))}function Ka(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function _r(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;const z2=()=>(jc||(jc=new We(Sk)),jc);class ee{static fromObject(e){let n=new ee(null);return qe(e,(r,s)=>{n=n.set(new Q(r),s)}),n}constructor(e,n=z2()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:G(),value:this.value};if($(e))return null;{const r=F(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(J(e),n);return i!=null?{path:pe(new Q(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($(e))return this;{const n=F(e),r=this.children.get(n);return r!==null?r.subtree(J(e)):new ee(null)}}set(e,n){if($(e))return new ee(n,this.children);{const r=F(e),i=(this.children.get(r)||new ee(null)).set(J(e),n),o=this.children.insert(r,i);return new ee(this.value,o)}}remove(e){if($(e))return this.children.isEmpty()?new ee(null):new ee(null,this.children);{const n=F(e),r=this.children.get(n);if(r){const s=r.remove(J(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ee(null):new ee(this.value,i)}else return this}}get(e){if($(e))return this.value;{const n=F(e),r=this.children.get(n);return r?r.get(J(e)):null}}setTree(e,n){if($(e))return n;{const r=F(e),i=(this.children.get(r)||new ee(null)).setTree(J(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ee(this.value,o)}}fold(e){return this.fold_(G(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(pe(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,G(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if($(e))return null;{const i=F(e),o=this.children.get(i);return o?o.findOnPath_(J(e),pe(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,G(),n)}foreachOnPath_(e,n,r){if($(e))return this;{this.value&&r(n,this.value);const s=F(e),i=this.children.get(s);return i?i.foreachOnPath_(J(e),pe(n,s),r):new ee(null)}}foreach(e){this.foreach_(G(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(pe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.writeTree_=e}static empty(){return new vt(new ee(null))}}function ui(t,e,n){if($(e))return new vt(new ee(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=De(s,e);return i=i.updateChild(o,n),new vt(t.writeTree_.set(s,i))}else{const s=new ee(n),i=t.writeTree_.setTree(e,s);return new vt(i)}}}function cm(t,e,n){let r=t;return qe(n,(s,i)=>{r=ui(r,pe(e,s),i)}),r}function um(t,e){if($(e))return vt.empty();{const n=t.writeTree_.setTree(e,new ee(null));return new vt(n)}}function Bu(t,e){return br(t,e)!=null}function br(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(De(n.path,e)):null}function dm(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(le,(r,s)=>{e.push(new U(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new U(r,s.value))}),e}function Tn(t,e){if($(e))return t;{const n=br(t,e);return n!=null?new vt(new ee(n)):new vt(t.writeTree_.subtree(e))}}function Hu(t){return t.writeTree_.isEmpty()}function hs(t,e){return Wx(G(),t.writeTree_,e)}function Wx(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(E(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Wx(pe(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t,e){return Gx(e,t)}function W2(t,e,n,r,s){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ui(t.visibleWrites,e,n)),t.lastWriteId=r}function B2(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function H2(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&V2(l,r.path)?s=!1:mt(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return G2(t),!0;if(r.snap)t.visibleWrites=um(t.visibleWrites,r.path);else{const l=r.children;qe(l,c=>{t.visibleWrites=um(t.visibleWrites,pe(r.path,c))})}return!0}else return!1}function V2(t,e){if(t.snap)return mt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&mt(pe(t.path,n),e))return!0;return!1}function G2(t){t.visibleWrites=Bx(t.allWrites,q2,G()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function q2(t){return t.visible}function Bx(t,e,n){let r=vt.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)mt(n,o)?(l=De(n,o),r=ui(r,l,i.snap)):mt(o,n)&&(l=De(o,n),r=ui(r,G(),i.snap.getChild(l)));else if(i.children){if(mt(n,o))l=De(n,o),r=cm(r,l,i.children);else if(mt(o,n))if(l=De(o,n),$(l))r=cm(r,G(),i.children);else{const c=ls(i.children,F(l));if(c){const u=c.getChild(J(l));r=ui(r,G(),u)}}}else throw _s("WriteRecord should have .snap or .children")}}return r}function Hx(t,e,n,r,s){if(!r&&!s){const i=br(t.visibleWrites,e);if(i!=null)return i;{const o=Tn(t.visibleWrites,e);if(Hu(o))return n;if(n==null&&!Bu(o,G()))return null;{const l=n||A.EMPTY_NODE;return hs(o,l)}}}else{const i=Tn(t.visibleWrites,e);if(!s&&Hu(i))return n;if(!s&&n==null&&!Bu(i,G()))return null;{const o=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(mt(u.path,e)||mt(e,u.path))},l=Bx(t.allWrites,o,e),c=n||A.EMPTY_NODE;return hs(l,c)}}}function K2(t,e,n){let r=A.EMPTY_NODE;const s=br(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(le,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Tn(t.visibleWrites,e);return n.forEachChild(le,(o,l)=>{const c=hs(Tn(i,new Q(o)),l);r=r.updateImmediateChild(o,c)}),dm(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Tn(t.visibleWrites,e);return dm(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Y2(t,e,n,r,s){E(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=pe(e,n);if(Bu(t.visibleWrites,i))return null;{const o=Tn(t.visibleWrites,i);return Hu(o)?s.getChild(n):hs(o,s.getChild(n))}}function Q2(t,e,n,r){const s=pe(e,n),i=br(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Tn(t.visibleWrites,s);return hs(o,r.getNode().getImmediateChild(n))}else return null}function J2(t,e){return br(t.visibleWrites,e)}function X2(t,e,n,r,s,i,o){let l;const c=Tn(t.visibleWrites,e),u=br(c,G());if(u!=null)l=u;else if(n!=null)l=hs(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],f=o.getCompare(),d=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=d.getNext();for(;g&&h.length<s;)f(g,r)!==0&&h.push(g),g=d.getNext();return h}else return[]}function Z2(){return{visibleWrites:vt.empty(),allWrites:[],lastWriteId:-1}}function Ya(t,e,n,r){return Hx(t.writeTree,t.treePath,e,n,r)}function bh(t,e){return K2(t.writeTree,t.treePath,e)}function hm(t,e,n,r){return Y2(t.writeTree,t.treePath,e,n,r)}function Qa(t,e){return J2(t.writeTree,pe(t.treePath,e))}function eI(t,e,n,r,s,i){return X2(t.writeTree,t.treePath,e,n,r,s,i)}function Sh(t,e,n){return Q2(t.writeTree,t.treePath,e,n)}function Vx(t,e){return Gx(pe(t.treePath,e),t.writeTree)}function Gx(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Mi(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Li(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,ds(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Mi(r,e.snapshotNode,s.oldSnap));else throw _s("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const qx=new nI;class kh{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Mn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sh(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_r(this.viewCache_),i=eI(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){return{filter:t}}function sI(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function iI(t,e,n,r,s){const i=new tI;let o,l;if(n.type===gt.OVERWRITE){const u=n;u.source.fromUser?o=Vu(t,e,u.path,u.snap,r,s,i):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!$(u.path),o=Ja(t,e,u.path,u.snap,r,s,l,i))}else if(n.type===gt.MERGE){const u=n;u.source.fromUser?o=aI(t,e,u.path,u.children,r,s,i):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Gu(t,e,u.path,u.children,r,s,l,i))}else if(n.type===gt.ACK_USER_WRITE){const u=n;u.revert?o=uI(t,e,u.path,r,s,i):o=lI(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===gt.LISTEN_COMPLETE)o=cI(t,e,n.path,r,i);else throw _s("Unknown operation type: "+n.type);const c=i.getChanges();return oI(e,o,c),{viewCache:o,changes:c}}function oI(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Ka(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Fx(Ka(e)))}}function Kx(t,e,n,r,s,i){const o=e.eventCache;if(Qa(r,n)!=null)return e;{let l,c;if($(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=_r(e),h=u instanceof A?u:A.EMPTY_NODE,f=bh(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),f,i)}else{const u=Ya(r,_r(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=F(n);if(u===".priority"){E(Ln(n)===1,"Can't have a priority with additional path components");const h=o.getNode();c=e.serverCache.getNode();const f=hm(r,n,h,c);f!=null?l=t.filter.updatePriority(h,f):l=o.getNode()}else{const h=J(n);let f;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const d=hm(r,n,o.getNode(),c);d!=null?f=o.getNode().getImmediateChild(u).updateChild(h,d):f=o.getNode().getImmediateChild(u)}else f=Sh(r,u,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),u,f,h,s,i):l=o.getNode()}}return ci(e,l,o.isFullyInitialized()||$(n),t.filter.filtersNodes())}}function Ja(t,e,n,r,s,i,o,l){const c=e.serverCache;let u;const h=o?t.filter:t.filter.getIndexedFilter();if($(n))u=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(n,r);u=h.updateFullNode(c.getNode(),g,null)}else{const g=F(n);if(!c.isCompleteForPath(n)&&Ln(n)>1)return e;const y=J(n),w=c.getNode().getImmediateChild(g).updateChild(y,r);g===".priority"?u=h.updatePriority(c.getNode(),w):u=h.updateChild(c.getNode(),g,w,y,qx,null)}const f=zx(e,u,c.isFullyInitialized()||$(n),h.filtersNodes()),d=new kh(s,f,i);return Kx(t,f,n,s,d,l)}function Vu(t,e,n,r,s,i,o){const l=e.eventCache;let c,u;const h=new kh(s,e,i);if($(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=ci(e,u,!0,t.filter.filtersNodes());else{const f=F(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=ci(e,u,l.isFullyInitialized(),l.isFiltered());else{const d=J(n),g=l.getNode().getImmediateChild(f);let y;if($(d))y=r;else{const x=h.getCompleteChild(f);x!=null?jx(d)===".priority"&&x.getChild(Px(d)).isEmpty()?y=x:y=x.updateChild(d,r):y=A.EMPTY_NODE}if(g.equals(y))c=e;else{const x=t.filter.updateChild(l.getNode(),f,y,d,h,o);c=ci(e,x,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function fm(t,e){return t.eventCache.isCompleteForChild(e)}function aI(t,e,n,r,s,i,o){let l=e;return r.foreach((c,u)=>{const h=pe(n,c);fm(e,F(h))&&(l=Vu(t,l,h,u,s,i,o))}),r.foreach((c,u)=>{const h=pe(n,c);fm(e,F(h))||(l=Vu(t,l,h,u,s,i,o))}),l}function pm(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Gu(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;$(n)?u=r:u=new ee(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((f,d)=>{if(h.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),y=pm(t,g,d);c=Ja(t,c,new Q(f),y,s,i,o,l)}}),u.children.inorderTraversal((f,d)=>{const g=!e.serverCache.isCompleteForChild(f)&&d.value===null;if(!h.hasChild(f)&&!g){const y=e.serverCache.getNode().getImmediateChild(f),x=pm(t,y,d);c=Ja(t,c,new Q(f),x,s,i,o,l)}}),c}function lI(t,e,n,r,s,i,o){if(Qa(s,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if($(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ja(t,e,n,c.getNode().getChild(n),s,i,l,o);if($(n)){let u=new ee(null);return c.getNode().forEachChild(Zr,(h,f)=>{u=u.set(new Q(h),f)}),Gu(t,e,n,u,s,i,l,o)}else return e}else{let u=new ee(null);return r.foreach((h,f)=>{const d=pe(n,h);c.isCompleteForPath(d)&&(u=u.set(h,c.getNode().getChild(d)))}),Gu(t,e,n,u,s,i,l,o)}}function cI(t,e,n,r,s){const i=e.serverCache,o=zx(e,i.getNode(),i.isFullyInitialized()||$(n),i.isFiltered());return Kx(t,o,n,r,qx,s)}function uI(t,e,n,r,s,i){let o;if(Qa(r,n)!=null)return e;{const l=new kh(r,e,s),c=e.eventCache.getNode();let u;if($(n)||F(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Ya(r,_r(e));else{const f=e.serverCache.getNode();E(f instanceof A,"serverChildren would be complete if leaf node"),h=bh(r,f)}h=h,u=t.filter.updateFullNode(c,h,i)}else{const h=F(n);let f=Sh(r,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=c.getImmediateChild(h)),f!=null?u=t.filter.updateChild(c,h,f,J(n),l,i):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(c,h,A.EMPTY_NODE,J(n),l,i):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ya(r,_r(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,i)))}return o=e.serverCache.isFullyInitialized()||Qa(r,G())!=null,ci(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new wh(r.getIndex()),i=T2(r);this.processor_=rI(i);const o=n.serverCache,l=n.eventCache,c=s.updateFullNode(A.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(A.EMPTY_NODE,l.getNode(),null),h=new Mn(c,o.isFullyInitialized(),s.filtersNodes()),f=new Mn(u,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=jl(f,h),this.eventGenerator_=new M2(this.query_)}get query(){return this.query_}}function hI(t){return t.viewCache_.serverCache.getNode()}function fI(t){return Ka(t.viewCache_)}function pI(t,e){const n=_r(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function mm(t){return t.eventRegistrations_.length===0}function mI(t,e){t.eventRegistrations_.push(e)}function gm(t,e,n){const r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function ym(t,e,n,r){e.type===gt.MERGE&&e.source.queryId!==null&&(E(_r(t.viewCache_),"We should always have a full cache before handling merges"),E(Ka(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=iI(t.processor_,s,e,n,r);return sI(t.processor_,i.viewCache),E(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Yx(t,i.changes,i.viewCache.eventCache.getNode(),null)}function gI(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(le,(i,o)=>{r.push(ds(i,o))}),n.isFullyInitialized()&&r.push(Fx(n.getNode())),Yx(t,r,n.getNode(),e)}function Yx(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return F2(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa;class Qx{constructor(){this.views=new Map}}function yI(t){E(!Xa,"__referenceConstructor has already been defined"),Xa=t}function xI(){return E(Xa,"Reference.ts has not been loaded"),Xa}function vI(t){return t.views.size===0}function Ih(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return E(i!=null,"SyncTree gave us an op for an invalid query."),ym(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(ym(o,e,n,r));return i}}function Jx(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=Ya(n,s?r:null),c=!1;l?c=!0:r instanceof A?(l=bh(n,r),c=!1):(l=A.EMPTY_NODE,c=!1);const u=jl(new Mn(l,c,!1),new Mn(r,s,!1));return new dI(e,u)}return o}function _I(t,e,n,r,s,i){const o=Jx(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),mI(o,n),gI(o,n)}function wI(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=Fn(t);if(s==="default")for(const[c,u]of t.views.entries())o=o.concat(gm(u,n,r)),mm(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||i.push(u.query));else{const c=t.views.get(s);c&&(o=o.concat(gm(c,n,r)),mm(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||i.push(c.query)))}return l&&!Fn(t)&&i.push(new(xI())(e._repo,e._path)),{removed:i,events:o}}function Xx(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Pn(t,e){let n=null;for(const r of t.views.values())n=n||pI(r,e);return n}function Zx(t,e){if(e._queryParams.loadsAllData())return Pl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function ev(t,e){return Zx(t,e)!=null}function Fn(t){return Pl(t)!=null}function Pl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za;function NI(t){E(!Za,"__referenceConstructor has already been defined"),Za=t}function CI(){return E(Za,"Reference.ts has not been loaded"),Za}let EI=1;class xm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ee(null),this.pendingWriteTree_=Z2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tv(t,e,n,r,s){return W2(t.pendingWriteTree_,e,n,r,s),s?co(t,new vr($x(),e,n)):[]}function or(t,e,n=!1){const r=B2(t.pendingWriteTree_,e);if(H2(t.pendingWriteTree_,e)){let i=new ee(null);return r.snap!=null?i=i.set(G(),!0):qe(r.children,o=>{i=i.set(new Q(o),!0)}),co(t,new qa(r.path,i,n))}else return[]}function lo(t,e,n){return co(t,new vr(Ch(),e,n))}function bI(t,e,n){const r=ee.fromObject(n);return co(t,new $i(Ch(),e,r))}function SI(t,e){return co(t,new Ui(Ch(),e))}function kI(t,e,n){const r=Th(t,n);if(r){const s=Ph(r),i=s.path,o=s.queryId,l=De(i,e),c=new Ui(Eh(o),l);return Rh(t,i,c)}else return[]}function el(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||ev(o,e))){const c=wI(o,e,n,r);vI(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=c.removed;if(l=c.events,!s){const h=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(i,(d,g)=>Fn(g));if(h&&!f){const d=t.syncPointTree_.subtree(i);if(!d.isEmpty()){const g=TI(d);for(let y=0;y<g.length;++y){const x=g[y],w=x.query,m=iv(t,x);t.listenProvider_.startListening(di(w),zi(t,w),m.hashFn,m.onComplete)}}}!f&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(di(e),null):u.forEach(d=>{const g=t.queryToTagMap.get(Rl(d));t.listenProvider_.stopListening(di(d),g)}))}PI(t,u)}return l}function nv(t,e,n,r){const s=Th(t,r);if(s!=null){const i=Ph(s),o=i.path,l=i.queryId,c=De(o,e),u=new vr(Eh(l),c,n);return Rh(t,o,u)}else return[]}function II(t,e,n,r){const s=Th(t,r);if(s){const i=Ph(s),o=i.path,l=i.queryId,c=De(o,e),u=ee.fromObject(n),h=new $i(Eh(l),c,u);return Rh(t,o,h)}else return[]}function qu(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(d,g)=>{const y=De(d,s);i=i||Pn(g,y),o=o||Fn(g)});let l=t.syncPointTree_.get(s);l?(o=o||Fn(l),i=i||Pn(l,G())):(l=new Qx,t.syncPointTree_=t.syncPointTree_.set(s,l));let c;i!=null?c=!0:(c=!1,i=A.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((g,y)=>{const x=Pn(y,G());x&&(i=i.updateImmediateChild(g,x))}));const u=ev(l,e);if(!u&&!e._queryParams.loadsAllData()){const d=Rl(e);E(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const g=RI();t.queryToTagMap.set(d,g),t.tagToQueryMap.set(g,d)}const h=Tl(t.pendingWriteTree_,s);let f=_I(l,e,n,h,i,c);if(!u&&!o&&!r){const d=Zx(l,e);f=f.concat(AI(t,e,d))}return f}function jh(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=De(o,e),u=Pn(l,c);if(u)return u});return Hx(s,e,i,n,!0)}function jI(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{const f=De(u,n);r=r||Pn(h,f)});let s=t.syncPointTree_.get(n);s?r=r||Pn(s,G()):(s=new Qx,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new Mn(r,!0,!1):null,l=Tl(t.pendingWriteTree_,e._path),c=Jx(s,e,l,i?o.getNode():A.EMPTY_NODE,i);return fI(c)}function co(t,e){return rv(e,t.syncPointTree_,null,Tl(t.pendingWriteTree_,G()))}function rv(t,e,n,r){if($(t.path))return sv(t,e,n,r);{const s=e.get(G());n==null&&s!=null&&(n=Pn(s,G()));let i=[];const o=F(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const u=n?n.getImmediateChild(o):null,h=Vx(r,o);i=i.concat(rv(l,c,u,h))}return s&&(i=i.concat(Ih(s,t,r,n))),i}}function sv(t,e,n,r){const s=e.get(G());n==null&&s!=null&&(n=Pn(s,G()));let i=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,u=Vx(r,o),h=t.operationForChild(o);h&&(i=i.concat(sv(h,l,c,u)))}),s&&(i=i.concat(Ih(s,t,r,n))),i}function iv(t,e){const n=e.query,r=zi(t,n);return{hashFn:()=>(hI(e)||A.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?kI(t,n._path,r):SI(t,n._path);{const i=jk(s,n);return el(t,n,null,i)}}}}function zi(t,e){const n=Rl(e);return t.queryToTagMap.get(n)}function Rl(t){return t._path.toString()+"$"+t._queryIdentifier}function Th(t,e){return t.tagToQueryMap.get(e)}function Ph(t){const e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Q(t.substr(0,e))}}function Rh(t,e,n){const r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");const s=Tl(t.pendingWriteTree_,e);return Ih(r,n,s,null)}function TI(t){return t.fold((e,n,r)=>{if(n&&Fn(n))return[Pl(n)];{let s=[];return n&&(s=Xx(n)),qe(r,(i,o)=>{s=s.concat(o)}),s}})}function di(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(CI())(t._repo,t._path):t}function PI(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Rl(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function RI(){return EI++}function AI(t,e,n){const r=e._path,s=zi(t,e),i=iv(t,n),o=t.listenProvider_.startListening(di(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)E(!Fn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,h,f)=>{if(!$(u)&&h&&Fn(h))return[Pl(h).query];{let d=[];return h&&(d=d.concat(Xx(h).map(g=>g.query))),qe(f,(g,y)=>{d=d.concat(y)}),d}});for(let u=0;u<c.length;++u){const h=c[u];t.listenProvider_.stopListening(di(h),zi(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ah(n)}node(){return this.node_}}class Dh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pe(this.path_,e);return new Dh(this.syncTree_,n)}node(){return jh(this.syncTree_,this.path_)}}const DI=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},vm=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return OI(t[".sv"],e,n);if(typeof t[".sv"]=="object")return LI(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},OI=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},LI=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);const s=e.node();if(E(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},MI=function(t,e,n,r){return Oh(e,new Dh(n,t),r)},ov=function(t,e,n){return Oh(t,new Ah(e),n)};function Oh(t,e,n){const r=t.getPriority().val(),s=vm(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=vm(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new ye(l,_e(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new ye(s))),o.forEachChild(le,(l,c)=>{const u=Oh(c,e.getImmediateChild(l),n);u!==c&&(i=i.updateImmediateChild(l,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Mh(t,e){let n=e instanceof Q?e:new Q(e),r=t,s=F(n);for(;s!==null;){const i=ls(r.node.children,s)||{children:{},childCount:0};r=new Lh(s,r,i),n=J(n),s=F(n)}return r}function ks(t){return t.node.value}function av(t,e){t.node.value=e,Ku(t)}function lv(t){return t.node.childCount>0}function FI(t){return ks(t)===void 0&&!lv(t)}function Al(t,e){qe(t.node.children,(n,r)=>{e(new Lh(n,t,r))})}function cv(t,e,n,r){n&&!r&&e(t),Al(t,s=>{cv(s,e,!0,r)}),n&&r&&e(t)}function UI(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function uo(t){return new Q(t.parent===null?t.name:uo(t.parent)+"/"+t.name)}function Ku(t){t.parent!==null&&$I(t.parent,t.name,t)}function $I(t,e,n){const r=FI(n),s=rn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Ku(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Ku(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=/[\[\].#$\/\u0000-\u001F\u007F]/,WI=/[\[\].#$\u0000-\u001F\u007F]/,Tc=10*1024*1024,uv=function(t){return typeof t=="string"&&t.length!==0&&!zI.test(t)},dv=function(t){return typeof t=="string"&&t.length!==0&&!WI.test(t)},BI=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dv(t)},hv=function(t,e,n,r){r&&e===void 0||Fh(nh(t,"value"),e,n)},Fh=function(t,e,n){const r=n instanceof Q?new l2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Zn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Zn(r)+" with contents = "+e.toString());if(lx(e))throw new Error(t+"contains "+e.toString()+" "+Zn(r));if(typeof e=="string"&&e.length>Tc/3&&El(e)>Tc)throw new Error(t+"contains a string greater than "+Tc+" utf8 bytes "+Zn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(qe(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!uv(o)))throw new Error(t+" contains an invalid key ("+o+") "+Zn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);c2(r,o),Fh(t,l,r),u2(r)}),s&&i)throw new Error(t+' contains ".value" child '+Zn(r)+" in addition to actual children.")}},fv=function(t,e,n,r){if(!dv(n))throw new Error(nh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},HI=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fv(t,e,n)},Uh=function(t,e){if(F(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},VI=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!uv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!BI(n))throw new Error(nh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $h(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!xh(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function pv(t,e,n){$h(t,n),mv(t,r=>xh(r,e))}function Pt(t,e,n){$h(t,n),mv(t,r=>mt(r,e)||mt(e,r))}function mv(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(qI(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function qI(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ai&&je("event: "+n.toString()),Ss(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="repo_interrupt",YI=25;class QI{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new GI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ga(),this.transactionQueueTree_=new Lh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JI(t,e,n){if(t.stats_=gh(t.repoInfo_),t.forceRestClient_||Ak())t.server_=new Va(t.repoInfo_,(r,s,i,o)=>{_m(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>wm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Vt(t.repoInfo_,e,(r,s,i,o)=>{_m(t,r,s,i,o)},r=>{wm(t,r)},r=>{XI(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Fk(t.repoInfo_,()=>new L2(t.stats_,t.server_)),t.infoData_=new P2,t.infoSyncTree_=new xm({startListening:(r,s,i,o)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=lo(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Wh(t,"connected",!1),t.serverSyncTree_=new xm({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,c)=>{const u=o(l,c);Pt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function gv(t){const n=t.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function zh(t){return DI({timestamp:gv(t)})}function _m(t,e,n,r,s){t.dataUpdateCount++;const i=new Q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const c=Da(n,u=>_e(u));o=II(t.serverSyncTree_,i,c,s)}else{const c=_e(n);o=nv(t.serverSyncTree_,i,c,s)}else if(r){const c=Da(n,u=>_e(u));o=bI(t.serverSyncTree_,i,c)}else{const c=_e(n);o=lo(t.serverSyncTree_,i,c)}let l=i;o.length>0&&(l=Ol(t,i)),Pt(t.eventQueue_,l,o)}function wm(t,e){Wh(t,"connected",e),e===!1&&tj(t)}function XI(t,e){qe(e,(n,r)=>{Wh(t,n,r)})}function Wh(t,e,n){const r=new Q("/.info/"+e),s=_e(n);t.infoData_.updateSnapshot(r,s);const i=lo(t.infoSyncTree_,r,s);Pt(t.eventQueue_,r,i)}function yv(t){return t.nextWriteId_++}function ZI(t,e,n){const r=jI(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=_e(s).withIndex(e._queryParams.getIndex());qu(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=lo(t.serverSyncTree_,e._path,i);else{const l=zi(t.serverSyncTree_,e);o=nv(t.serverSyncTree_,e._path,i,l)}return Pt(t.eventQueue_,e._path,o),el(t.serverSyncTree_,e,n,null,!0),i},s=>(Dl(t,"get for query "+fe(e)+" failed: "+s),Promise.reject(new Error(s))))}function ej(t,e,n,r,s){Dl(t,"set",{path:e.toString(),value:n,priority:r});const i=zh(t),o=_e(n,r),l=jh(t.serverSyncTree_,e),c=ov(o,l,i),u=yv(t),h=tv(t.serverSyncTree_,e,c,u,!0);$h(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(d,g)=>{const y=d==="ok";y||Ge("set at "+e+" failed: "+d);const x=or(t.serverSyncTree_,u,!y);Pt(t.eventQueue_,e,x),ij(t,s,d,g)});const f=Nv(t,e);Ol(t,f),Pt(t.eventQueue_,f,[])}function tj(t){Dl(t,"onDisconnectEvents");const e=zh(t),n=Ga();Wu(t.onDisconnect_,G(),(s,i)=>{const o=MI(s,i,t.serverSyncTree_,e);Ux(n,s,o)});let r=[];Wu(n,G(),(s,i)=>{r=r.concat(lo(t.serverSyncTree_,s,i));const o=Nv(t,s);Ol(t,o)}),t.onDisconnect_=Ga(),Pt(t.eventQueue_,G(),r)}function nj(t,e,n){let r;F(e._path)===".info"?r=qu(t.infoSyncTree_,e,n):r=qu(t.serverSyncTree_,e,n),pv(t.eventQueue_,e._path,r)}function rj(t,e,n){let r;F(e._path)===".info"?r=el(t.infoSyncTree_,e,n):r=el(t.serverSyncTree_,e,n),pv(t.eventQueue_,e._path,r)}function sj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(KI)}function Dl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),je(n,...e)}function ij(t,e,n,r){e&&Ss(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function xv(t,e,n){return jh(t.serverSyncTree_,e,n)||A.EMPTY_NODE}function Bh(t,e=t.transactionQueueTree_){if(e||Ll(t,e),ks(e)){const n=_v(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&oj(t,uo(e),n)}else lv(e)&&Al(e,n=>{Bh(t,n)})}function oj(t,e,n){const r=n.map(u=>u.currentWriteId),s=xv(t,e,r);let i=s;const o=s.hash();for(let u=0;u<n.length;u++){const h=n[u];E(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const f=De(e,h.path);i=i.updateChild(f,h.currentOutputSnapshotRaw)}const l=i.val(!0),c=e;t.server_.put(c.toString(),l,u=>{Dl(t,"transaction put response",{path:c.toString(),status:u});let h=[];if(u==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,h=h.concat(or(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Ll(t,Mh(t.transactionQueueTree_,e)),Bh(t,t.transactionQueueTree_),Pt(t.eventQueue_,e,h);for(let d=0;d<f.length;d++)Ss(f[d])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ge("transaction at "+c.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Ol(t,e)}},o)}function Ol(t,e){const n=vv(t,e),r=uo(n),s=_v(t,n);return aj(t,s,r),r}function aj(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=De(n,c.path);let h=!1,f;if(E(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,f=c.abortReason,s=s.concat(or(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=YI)h=!0,f="maxretry",s=s.concat(or(t.serverSyncTree_,c.currentWriteId,!0));else{const d=xv(t,c.path,o);c.currentInputSnapshot=d;const g=e[l].update(d.val());if(g!==void 0){Fh("transaction failed: Data returned ",g,c.path);let y=_e(g);typeof g=="object"&&g!=null&&rn(g,".priority")||(y=y.updatePriority(d.getPriority()));const w=c.currentWriteId,m=zh(t),p=ov(y,d,m);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=p,c.currentWriteId=yv(t),o.splice(o.indexOf(w),1),s=s.concat(tv(t.serverSyncTree_,c.path,p,c.currentWriteId,c.applyLocally)),s=s.concat(or(t.serverSyncTree_,w,!0))}else h=!0,f="nodata",s=s.concat(or(t.serverSyncTree_,c.currentWriteId,!0))}Pt(t.eventQueue_,n,s),s=[],h&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}Ll(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Ss(r[l]);Bh(t,t.transactionQueueTree_)}function vv(t,e){let n,r=t.transactionQueueTree_;for(n=F(e);n!==null&&ks(r)===void 0;)r=Mh(r,n),e=J(e),n=F(e);return r}function _v(t,e){const n=[];return wv(t,e,n),n.sort((r,s)=>r.order-s.order),n}function wv(t,e,n){const r=ks(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Al(e,s=>{wv(t,s,n)})}function Ll(t,e){const n=ks(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,av(e,n.length>0?n:void 0)}Al(e,r=>{Ll(t,r)})}function Nv(t,e){const n=uo(vv(t,e)),r=Mh(t.transactionQueueTree_,e);return UI(r,s=>{Pc(t,s)}),Pc(t,r),cv(r,s=>{Pc(t,s)}),n}function Pc(t,e){const n=ks(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(E(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(E(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(or(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?av(e,void 0):n.length=i+1,Pt(t.eventQueue_,uo(e),s);for(let o=0;o<r.length;o++)Ss(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function cj(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ge(`Invalid query segment '${n}' in query '${t}'`)}return e}const Nm=function(t,e){const n=uj(t),r=n.namespace;n.domain==="firebase.com"&&tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ek();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new _x(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Q(n.pathString)}},uj=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(s=lj(t.substring(h,f)));const d=cj(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),i=r}"ns"in d&&(i=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dj=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Cm.charAt(n%64),n=Math.floor(n/64);E(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Cm.charAt(e[s]);return E(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+fe(this.snapshot.exportVal())}}class fj{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return $(this._path)?null:jx(this._path)}get ref(){return new sn(this._repo,this._path)}get _queryIdentifier(){const e=am(this._queryParams),n=ph(e);return n==="{}"?"default":n}get _queryObject(){return am(this._queryParams)}isEqual(e){if(e=Pe(e),!(e instanceof Hh))return!1;const n=this._repo===e._repo,r=xh(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+a2(this._path)}}class sn extends Hh{constructor(e,n){super(e,n,new Nh,!1)}get parent(){const e=Px(this._path);return e===null?null:new sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Wi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Q(e),r=Bi(this.ref,e);return new Wi(this._node.getChild(n),r,le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Wi(s,Bi(this.ref,r),le)))}hasChild(e){const n=new Q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function W(t,e){return t=Pe(t),t._checkNotDeleted("ref"),e!==void 0?Bi(t._root,e):t._root}function Bi(t,e){return t=Pe(t),F(t._path)===null?HI("child","path",e):fv("child","path",e),new sn(t._repo,pe(t._path,e))}function ho(t,e){t=Pe(t),Uh("push",t._path),hv("push",e,t._path,!0);const n=gv(t._repo),r=dj(n),s=Bi(t,r),i=Bi(t,r);let o;return e!=null?o=Ne(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function hi(t){return Uh("remove",t._path),Ne(t,null)}function Ne(t,e){t=Pe(t),Uh("set",t._path),hv("set",e,t._path,!1);const n=new Cl;return ej(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ev(t){t=Pe(t);const e=new Cv(()=>{}),n=new Ml(e);return ZI(t._repo,t,n).then(r=>new Wi(r,new sn(t._repo,t._path),t._queryParams.getIndex()))}class Ml{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new hj("value",this,new Wi(e.snapshotNode,new sn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new fj(this,e,n):null}matches(e){return e instanceof Ml?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function pj(t,e,n,r,s){const i=new Cv(n,void 0),o=new Ml(i);return nj(t._repo,t,o),()=>rj(t._repo,t,o)}function Rt(t,e,n,r){return pj(t,"value",e)}yI(sn);NI(sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="FIREBASE_DATABASE_EMULATOR_HOST",Yu={};let gj=!1;function yj(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=ws(i);t.repoInfo_=new _x(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function xj(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Nm(i,s),l=o.repoInfo,c;typeof process<"u"&&Bp&&(c=Bp[mj]),c?(i=`http://${c}?ns=${l.namespace}`,o=Nm(i,s),l=o.repoInfo):o.repoInfo.secure;const u=new Ok(t.name,t.options,e);VI("Invalid Firebase Database URL",o),$(o.path)||tn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=_j(l,t,u,new Dk(t,n));return new wj(h,t)}function vj(t,e){const n=Yu[e];(!n||n[t.key]!==t)&&tn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),sj(t),delete n[t.key]}function _j(t,e,n,r){let s=Yu[e.name];s||(s={},Yu[e.name]=s);let i=s[t.toURLString()];return i&&tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new QI(t,gj,n,r),s[t.toURLString()]=i,i}class wj{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(JI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sn(this._repo,G())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&tn("Cannot call "+e+" on a deleted database.")}}function bv(t=N0(),e){const n=ih(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=TC("database");r&&Nj(n,...r)}return n}function Nj(t,e,n,r={}){t=Pe(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&pr(r,i.repoInfo_.emulatorOptions))return;tn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ia(ia.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:PC(r.mockUserToken,t.app.options.projectId);o=new ia(l)}ws(e)&&(p0(e),m0("Database",!0)),yj(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t){xk(Cs),cs(new mr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return xj(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),jn(Hp,Vp,t),jn(Hp,Vp,"esm2020")}Vt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Vt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Cj();var Ej="firebase",bj="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(Ej,bj,"app");const Sj={apiKey:"AIzaSyCKi2Irrp1sRKuHFOZDZv27BHsM3Gc3SmE",authDomain:"decor-drapes-instyle.firebaseapp.com",databaseURL:"https://decor-drapes-instyle-default-rtdb.firebaseio.com",projectId:"decor-drapes-instyle",storageBucket:"decor-drapes-instyle.firebasestorage.app",messagingSenderId:"936396093551",appId:"1:936396093551:web:e72e2c2a0aee81fd9e759a"},Vh=w0(Sj);bv(Vh);const Uo=gk(Vh),B=bv(Vh),Em={cloudName:"ds6um53cx",uploadPreset:"images"},Sv=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",Em.uploadPreset);try{return(await(await fetch(`https://api.cloudinary.com/v1_1/${Em.cloudName}/image/upload`,{method:"POST",body:e})).json()).secure_url}catch(n){throw console.error("Error uploading to Cloudinary:",n),n}},kv=v.createContext(void 0),Ke=()=>{const t=v.useContext(kv);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},kj=({children:t})=>{const[e,n]=v.useState(null),[r,s]=v.useState(!0),i=async(h,f)=>{try{await tS(Uo,h,f),P.success("Logged in successfully!")}catch(d){throw P.error(d.message),d}},o=async(h,f,d="customer")=>{try{const g=await eS(Uo,h,f),y={uid:g.user.uid,email:g.user.email,profileImage:"",role:d,createdAt:new Date().toISOString()};await Ne(W(B,`users/${g.user.uid}`),y),P.success("Account created successfully!")}catch(g){throw P.error(g.message),g}},l=async()=>{try{await iS(Uo),P.success("Logged out successfully!")}catch(h){throw P.error(h.message),h}},c=async(h,f)=>{if(!e)throw new Error("No user logged in");try{let d=e.profileImage;f&&(d=await Sv(f));const g={...e,displayName:h,profileImage:d},y=W(B,`users/${e.uid}`);await Ne(y,g),n(g),P.success("Profile updated successfully!")}catch(d){throw P.error("Failed to update profile"),d}};v.useEffect(()=>{const h=sS(Uo,async f=>{if(f)try{const d=W(B,`users/${f.uid}`),g=await Ev(d);if(g.exists()){const y=g.val(),x={...y,displayName:f.displayName||y.displayName};n(x)}else{const y={uid:f.uid,email:f.email,displayName:f.displayName||"",role:"customer",createdAt:new Date().toISOString(),profileImage:""};await Ne(d,y),n(y)}}catch(d){console.error("Error fetching user data:",d),n(null)}else n(null);s(!1)});return()=>h()},[]);const u={currentUser:e,loading:r,login:i,signup:o,logout:l,updateProfile:c};return a.jsx(kv.Provider,{value:u,children:t})},Iv=v.createContext(void 0),Fl=()=>{const t=v.useContext(Iv);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},Ij=({children:t})=>{const[e,n]=v.useState([]),{currentUser:r}=Ke();v.useEffect(()=>{if(!r){n([]);return}const f=W(B,`carts/${r.uid}`),d=Rt(f,async g=>{if(g.exists()){const y=g.val(),x=[];for(const w in y){const m=y[w],p=W(B,`products/${m.productId}`),_=await Ev(p);_.exists()&&x.push({id:w,...m,product:_.val()})}n(x)}else n([])});return()=>d()},[r]);const s=async(f,d=1)=>{if(!r){P.error("Please login to add items to cart");return}try{const g=W(B,`carts/${r.uid}`),y=e.find(x=>x.productId===f.id);if(y)await o(y.id,y.quantity+d);else{const x=ho(g);await Ne(x,{productId:f.id,quantity:d,userId:r.uid,addedAt:new Date().toISOString()})}P.success("Added to cart!")}catch(g){P.error("Failed to add to cart"),console.error("Error adding to cart:",g)}},i=async f=>{if(r)try{const d=W(B,`carts/${r.uid}/${f}`);await hi(d),P.success("Removed from cart")}catch(d){P.error("Failed to remove from cart"),console.error("Error removing from cart:",d)}},o=async(f,d)=>{if(r)try{const g=W(B,`carts/${r.uid}/${f}`);d<=0?await hi(g):await Ne(g,{...e.find(y=>y.id===f),quantity:d})}catch(g){P.error("Failed to update quantity"),console.error("Error updating quantity:",g)}},h={cartItems:e,addToCart:s,removeFromCart:i,updateQuantity:o,clearCart:async()=>{if(r)try{const f=W(B,`carts/${r.uid}`);await hi(f),P.success("Cart cleared")}catch(f){P.error("Failed to clear cart"),console.error("Error clearing cart:",f)}},getTotalPrice:()=>e.reduce((f,d)=>f+d.product.price*d.quantity,0),getItemCount:()=>e.reduce((f,d)=>f+d.quantity,0)};return a.jsx(Iv.Provider,{value:h,children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(t,e)=>{const n=v.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},h)=>v.createElement("svg",{ref:h,...jj,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Tj(t)}`,l].join(" "),...u},[...e.map(([f,d])=>v.createElement(f,d)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=D("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=D("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=D("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=D("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=D("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=D("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=D("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=D("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=D("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=D("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=D("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=D("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=D("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=D("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=D("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=D("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=D("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=D("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=D("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=D("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=D("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=D("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=D("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=D("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=D("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=D("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=D("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=D("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=D("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=D("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=D("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=D("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=D("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yj=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),{currentUser:s,logout:i}=Ke(),{getItemCount:o}=Fl(),l=Ji(),c=async()=>{await i(),l("/"),r(!1)},u=[{to:"/",label:"Home"},{to:"/catalogue",label:"Catalogue"},{to:"/about",label:"About"},{to:"/contact",label:"Contact"}];return a.jsx("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx(Y,{to:"/",className:"flex items-center space-x-2",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-lg md:text-base font-bold text-gray-900",children:"Decor Drapes"}),a.jsx("span",{className:"text-sm md:text-xs text-gray-400",children:"Instyle"})]})}),a.jsx("div",{className:"hidden md:flex items-center space-x-8",children:u.map(h=>a.jsx(Y,{to:h.to,className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:h.label},h.to))}),a.jsxs("div",{className:"flex items-center space-x-4",children:[s&&a.jsxs(Y,{to:"/cart",className:"relative p-2 text-gray-700 hover:text-blue-600 transition-colors",children:[a.jsx(Hi,{className:"w-6 h-6"}),o()>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:o()})]}),s?a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-3 p-2 text-gray-700 hover:text-blue-600 transition-colors",children:[s.profileImage?a.jsx("img",{src:s.profileImage,alt:"Profile",className:"w-8 h-8 rounded-full object-cover border-2 border-gray-200"}):a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx(Gt,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{className:"hidden md:block text-left",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.displayName||s.email.split("@")[0]}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:s.role})]})]}),n&&a.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[s.profileImage?a.jsx("img",{src:s.profileImage,alt:"Profile",className:"w-12 h-12 rounded-full object-cover"}):a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx(Gt,{className:"w-6 h-6 text-gray-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:s.displayName||"User"}),a.jsx("div",{className:"text-sm text-gray-500 truncate",children:s.email})]})]})}),a.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:a.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(po,{className:"w-3 h-3 mr-2"}),a.jsx("span",{className:"capitalize",children:s.role})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tv,{className:"w-3 h-3 mr-2"}),a.jsxs("span",{children:["Joined"," ",new Date(s.createdAt).toLocaleDateString()]})]})]})}),a.jsxs(Y,{to:"/profile",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>r(!1),children:[a.jsx(Gt,{className:"w-4 h-4 mr-2"}),"My Profile"]}),(s.role==="admin"||s.role==="employee")&&a.jsxs(Y,{to:"/admin",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>r(!1),children:[a.jsx(Av,{className:"w-4 h-4 mr-2"}),s.role==="admin"?"Admin Panel":"Dashboard"]}),a.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:a.jsxs("button",{onClick:c,className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx($j,{className:"w-4 h-4 mr-2"}),"Logout"]})})]})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Y,{to:"/login",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Login"}),a.jsx(Y,{to:"/signup",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sign Up"})]}),a.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 text-gray-700 hover:text-blue-600 transition-colors",children:t?a.jsx(Rn,{className:"w-6 h-6"}):a.jsx(Wj,{className:"w-6 h-6"})})]})]}),t&&a.jsx("div",{className:"md:hidden",children:a.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50",children:u.map(h=>a.jsx(Y,{to:h.to,className:"text-gray-700 hover:text-blue-600 block px-3 py-2 rounded-md text-base font-medium transition-colors",onClick:()=>e(!1),children:h.label},h.to))})})]})})},Qj=()=>{const t=new Date().getFullYear();return a.jsxs("footer",{className:"bg-gray-900 text-white",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"D"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{id:"COMPANY_NAME",className:"text-xl font-bold",children:"Decor Drapes"}),a.jsx("span",{className:"text-sm  text-gray-500",children:"Instyle"})]})]}),a.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Your trusted business partner providing premium products and exceptional service. We deliver quality solutions that drive your success forward."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors",children:a.jsx(Dj,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors",children:a.jsx(qj,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors",children:a.jsx(Mj,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 hover:bg-blue-600 rounded-lg flex items-center justify-center transition-colors",children:a.jsx(Fj,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsxs(Y,{to:"/",className:"text-gray-400 hover:text-white transition-colors flex items-center group",children:[a.jsx(er,{className:"w-4 h-4 mr-2 opacity-0 group-hover:opacity-100 transition-opacity"}),"Home"]})}),a.jsx("li",{children:a.jsxs(Y,{to:"/catalogue",className:"text-gray-400 hover:text-white transition-colors flex items-center group",children:[a.jsx(er,{className:"w-4 h-4 mr-2 opacity-0 group-hover:opacity-100 transition-opacity"}),"Catalogue"]})}),a.jsx("li",{children:a.jsxs(Y,{to:"/about",className:"text-gray-400 hover:text-white transition-colors flex items-center group",children:[a.jsx(er,{className:"w-4 h-4 mr-2 opacity-0 group-hover:opacity-100 transition-opacity"}),"About Us"]})}),a.jsx("li",{children:a.jsxs(Y,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors flex items-center group",children:[a.jsx(er,{className:"w-4 h-4 mr-2 opacity-0 group-hover:opacity-100 transition-opacity"}),"Contact"]})}),a.jsx("li",{children:a.jsxs(Y,{to:"/estimate",className:"text-gray-400 hover:text-white transition-colors flex items-center group",children:[a.jsx(er,{className:"w-4 h-4 mr-2 opacity-0 group-hover:opacity-100 transition-opacity"}),"Get Estimate"]})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Our Services"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"text-gray-400 flex items-center",children:[a.jsx(rl,{className:"w-4 h-4 mr-3 text-blue-400"}),"Product Sales"]}),a.jsxs("li",{className:"text-gray-400 flex items-center",children:[a.jsx(Un,{className:"w-4 h-4 mr-3 text-green-400"}),"Consultation"]}),a.jsxs("li",{className:"text-gray-400 flex items-center",children:[a.jsx(po,{className:"w-4 h-4 mr-3 text-purple-400"}),"Quality Assurance"]}),a.jsxs("li",{className:"text-gray-400 flex items-center",children:[a.jsx(Gh,{className:"w-4 h-4 mr-3 text-orange-400"}),"24/7 Support"]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-semibold mb-3 text-gray-300",children:"Legal"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Y,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Terms of Service"})})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Get in Touch"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Pv,{className:"w-5 h-5 text-blue-400 mt-1 flex-shrink-0"}),a.jsxs("div",{className:"text-gray-400",children:[a.jsx("p",{children:"123 Business Street"}),a.jsx("p",{children:"City, State 12345"}),a.jsx("p",{children:"United States"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(nl,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),a.jsxs("div",{className:"text-gray-400",children:[a.jsx("p",{children:"+1 (555) 123-4567"}),a.jsx("p",{children:"+1 (555) 987-6543"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(fo,{className:"w-5 h-5 text-purple-400 flex-shrink-0"}),a.jsxs("div",{className:"text-gray-400",children:[a.jsx("p",{children:"contact@shop.com"}),a.jsx("p",{children:"support@shop.com"})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-semibold mb-3 text-gray-300",children:"Business Hours"}),a.jsxs("div",{className:"text-gray-400 text-sm space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Mon - Fri:"}),a.jsx("span",{children:"9:00 AM - 6:00 PM"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Saturday:"}),a.jsx("span",{children:"10:00 AM - 4:00 PM"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Sunday:"}),a.jsx("span",{children:"Closed"})]})]})]})]})]})}),a.jsx("div",{className:"border-t border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Stay Updated"}),a.jsx("p",{className:"text-gray-400",children:"Subscribe to our newsletter for the latest updates and offers."})]}),a.jsxs("div",{className:"flex w-full md:w-auto",children:[a.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 md:w-64 px-4 py-2 bg-gray-800 border border-gray-700 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-r-lg font-medium transition-colors",children:"Subscribe"})]})]})})}),a.jsx("div",{className:"border-t border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[a.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",t," Shop. All rights reserved."]}),a.jsxs("div",{className:"flex items-center space-x-6 mt-4 md:mt-0",children:[a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Sitemap"}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Accessibility"}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookies"})]})]})})})]})},Rc=({children:t,requiredRole:e})=>{const{currentUser:n,loading:r}=Ke();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):n?e&&n.role!==e&&n.role!=="admin"?a.jsx(up,{to:"/"}):a.jsx(a.Fragment,{children:t}):a.jsx(up,{to:"/login"})},Jj=({isOpen:t,onClose:e})=>{const{currentUser:n}=Ke(),[r,s]=v.useState(!1),[i,o]=v.useState({title:"",content:"",rating:5}),l=async c=>{if(c.preventDefault(),!n){P.error("Please login to submit a review");return}s(!0);try{const u=W(B,"testimonials");await ho(u,{userId:n.uid,userName:n.displayName||n.email.split("@")[0],userEmail:n.email,userImage:n.profileImage||"",title:i.title,content:i.content,rating:i.rating,isApproved:!1,createdAt:new Date().toISOString()}),P.success("Thank you for your review! It will be published after approval."),o({title:"",content:"",rating:5}),e()}catch(u){P.error("Failed to submit review"),console.error("Error submitting testimonial:",u)}finally{s(!1)}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Share Your Experience"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Rn,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),a.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(c=>a.jsx("button",{type:"button",onClick:()=>o({...i,rating:c}),className:"p-1 hover:scale-110 transition-transform",children:a.jsx(es,{className:`w-6 h-6 ${c<=i.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},c))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Title"}),a.jsx("input",{type:"text",required:!0,value:i.title,onChange:c=>o({...i,title:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Give your review a title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),a.jsx("textarea",{required:!0,rows:4,value:i.content,onChange:c=>o({...i,content:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us about your experience..."})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-4 rounded-lg font-medium transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center",children:r?"Submitting...":a.jsxs(a.Fragment,{children:["Submit Review",a.jsx(Kh,{className:"w-4 h-4 ml-2"})]})})]})]})]})}):null},Xj=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!1);Ke(),v.useEffect(()=>{const i=W(B,"testimonials"),o=Rt(i,l=>{if(l.exists()){const c=l.val(),u=Object.keys(c).map(h=>({id:h,...c[h]})).filter(h=>h.isApproved).sort(()=>Math.random()-.5).slice(0,3);e(u)}});return()=>o()},[]);const s=[{icon:jv,title:"Premium Quality",description:"Carefully curated selection of high-quality products that meet the highest standards"},{icon:Gh,title:"Fast Delivery",description:"Quick and reliable delivery service to get your products when you need them"},{icon:Lj,title:"Expert Support",description:"Professional customer support team ready to assist you with any questions"},{icon:po,title:"Secure Shopping",description:"Safe and secure payment processing with full customer protection guarantee"}];return a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("section",{className:"relative bg-white overflow-hidden",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32 flex flex-col lg:flex-row items-center",children:[a.jsxs("div",{className:"lg:w-1/2 text-center lg:text-left space-y-6",children:[a.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-gray-900 leading-tight",children:["Build Your Dream",a.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-500",children:"Interior Store"})]}),a.jsx("p",{className:"text-lg text-gray-600 max-w-md mx-auto lg:mx-0",children:"Launch an elegant, highperformance ecommerce site in minutes. Free estimate, secure payments, and 24/7 support included."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mt-6",children:[a.jsxs("a",{href:"/estimate",className:"w-40 sm:w-auto inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 transition",children:["Get Free Estimate",a.jsx(er,{className:"ml-2 w-5 h-5"})]}),a.jsxs("a",{href:"/catalogue",className:"w-40 sm:w-auto inline-flex items-center justify-center px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100 transition",children:["Browse Catalogue",a.jsx(rl,{className:"ml-2 w-5 h-5"})]})]}),a.jsx("div",{className:"mt-10 flex flex-wrap justify-center lg:justify-start gap-6",children:[{label:"500+ Clients",icon:"../assets/icons/client.svg"},{label:"1k+ Projects",icon:"../assets/icons/project.svg"},{label:"24/7 Support",icon:"../assets/icons/support.svg"},{label:"5 Rating",icon:"../assets/icons/rating.svg"}].map(i=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:i.icon,alt:"",className:"h-6 w-6"}),a.jsx("span",{className:"text-gray-600 font-medium",children:i.label})]},i.label))})]}),a.jsx("div",{className:"mt-12 lg:mt-0 lg:w-1/2 flex justify-center lg:justify-end",children:a.jsx("img",{src:"../assets/1.jpg",alt:"Hero Illustration",className:"w-full max-w-md rounded-xl shadow-lg"})})]}),a.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0",children:a.jsx("svg",{className:"w-full h-20",viewBox:"0 0 1440 320",preserveAspectRatio:"none",children:a.jsx("path",{fill:"#FFFFFF",d:"M0,192L48,170.7C96,149,192,107,288,106.7C384,107,480,149,576,160C672,171,768,149,864,133.3C960,117,1056,107,1152,122.7C1248,139,1344,181,1392,202.7L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]}),a.jsx("section",{className:"py-24 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Why Choose Us?"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We combine expertise, quality, and dedication to deliver exceptional results for your business"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((i,o)=>a.jsxs("div",{className:"group text-center p-8 rounded-2xl bg-gray-50 hover:bg-white hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:a.jsx(i.icon,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:i.title}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]},o))})]})}),a.jsxs("section",{className:"py-24 bg-gradient-to-br from-gray-50 to-blue-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"What Our Clients Say"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Don't just take our word for it - hear from our satisfied customers"}),a.jsx("div",{className:"mt-8",children:a.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors inline-flex items-center",children:[a.jsx(es,{className:"w-5 h-5 mr-2"}),"Share Your Experience"]})})]}),t.length>0?a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map(i=>a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[a.jsx("div",{className:"flex items-center mb-4",children:[...Array(i.rating)].map((o,l)=>a.jsx(es,{className:"w-5 h-5 text-yellow-400 fill-current"},l))}),a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),a.jsxs("p",{className:"text-gray-600 mb-6 leading-relaxed italic",children:['"',i.content,'"']}),a.jsxs("div",{className:"flex items-center",children:[i.userImage?a.jsx("img",{src:i.userImage,alt:i.userName,className:"w-12 h-12 rounded-full object-cover mr-4"}):a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mr-4",children:a.jsx(Un,{className:"w-6 h-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-900",children:i.userName}),a.jsx("div",{className:"text-gray-500 text-sm",children:"Verified Customer"})]})]})]},i.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to share your experience!"}),a.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors inline-flex items-center",children:[a.jsx(es,{className:"w-5 h-5 mr-2"}),"Write a Review"]})]})]}),a.jsx(Jj,{isOpen:n,onClose:()=>r(!1)})]}),a.jsx("section",{className:"py-24 bg-gradient-to-r from-blue-600 to-purple-700 text-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Need Expert Guidance?"}),a.jsx("p",{className:"text-xl mb-8 opacity-90 leading-relaxed",children:"Our professional consultants are ready to help you find the perfect solution for your business needs. Get personalized recommendations and expert advice."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(Y,{to:"/contact",className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-semibold text-lg hover:bg-gray-100 transition-colors inline-flex items-center justify-center shadow-xl hover:shadow-2xl transform hover:-translate-y-1",children:[a.jsx(nl,{className:"mr-2 w-5 h-5"}),"Consult a Professional"]}),a.jsxs(Y,{to:"/estimate",className:"border-2 border-white text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-white/10 transition-colors inline-flex items-center justify-center",children:["Get Free Quote",a.jsx(er,{className:"ml-2 w-5 h-5"})]})]})]})})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(Y,{to:"/estimate",className:"group bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl hover:shadow-lg transition-all duration-300 text-center transform hover:-translate-y-1",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:a.jsx(Aj,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Get Estimate"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Request a custom quote for your specific needs"})]}),a.jsxs(Y,{to:"/catalogue",className:"group bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl hover:shadow-lg transition-all duration-300 text-center transform hover:-translate-y-1",children:[a.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:a.jsx(rl,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Catalogue"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Browse our complete product range"})]}),a.jsxs(Y,{to:"/about",className:"group bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl hover:shadow-lg transition-all duration-300 text-center transform hover:-translate-y-1",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:a.jsx(Un,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"About Us"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Learn more about our company and values"})]}),a.jsxs(Y,{to:"/contact",className:"group bg-gradient-to-br from-orange-50 to-orange-100 p-8 rounded-2xl hover:shadow-lg transition-all duration-300 text-center transform hover:-translate-y-1",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:a.jsx(nl,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:"Contact"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Get in touch with our expert team"})]})]})})})]})},Zj=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(!1),{login:o}=Ke(),l=Ji(),c=async u=>{if(u.preventDefault(),!(!t||!n))try{i(!0),await o(t,n),l("/")}catch(h){console.error("Login error:",h)}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a.jsxs("form",{className:"space-y-6",onSubmit:c,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:u=>e(u.target.value),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:u=>r(u.target.value),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Signing in...":"Sign in"})})]}),a.jsx("div",{className:"mt-6",children:a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx(Y,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})})]})})]})},eT=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,l]=v.useState(!1),{signup:c}=Ke(),u=Ji(),h=async f=>{if(f.preventDefault(),n!==s){alert("Passwords do not match");return}if(n.length<6){alert("Password must be at least 6 characters");return}try{l(!0),await c(t,n),u("/")}catch(d){console.error("Signup error:",d)}finally{l(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a.jsxs("form",{className:"space-y-6",onSubmit:h,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:f=>e(f.target.value),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:f=>r(f.target.value),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:s,onChange:f=>i(f.target.value),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Creating account...":"Sign up"})})]}),a.jsx("div",{className:"mt-6",children:a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-sm text-gray-600",children:["Already have an account?"," ",a.jsx(Y,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})})]})})]})},Ir={keyId:"rzp_test_5KAIiglEAjfDfA",keySecret:"ReTHyqWILzUD/spDCKvdHqGRW",currency:"INR",companyName:"Decor Drapes",description:"Payment for your order",image:"/logo.png",theme:{color:"#2563eb"}},An=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(t),tT=async(t,e)=>({id:`order_${Date.now()}`,amount:t*100,currency:Ir.currency,receipt:e}),nT=({product:t,onViewDetails:e})=>{const{addToCart:n}=Fl(),r=s=>{s.stopPropagation(),n(t)};return a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"aspect-w-1 aspect-h-1",children:a.jsx("img",{src:t.imageUrl||"https://images.pexels.com/photos/90946/pexels-photo-90946.jpeg",alt:t.name,className:"w-full h-48 object-cover"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.name}),a.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:"text-2xl font-bold text-blue-600",children:An(t.price)}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",t.stock]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:e,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-3 rounded-lg font-medium transition-colors flex items-center justify-center",children:[a.jsx(Ul,{className:"w-4 h-4 mr-1"}),"Details"]}),a.jsxs("button",{onClick:r,disabled:t.stock===0,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white py-2 px-3 rounded-lg font-medium transition-colors flex items-center justify-center",children:[a.jsx(Hi,{className:"w-4 h-4 mr-1"}),"Add to Cart"]})]})]})]})},rT=({product:t,isOpen:e,onClose:n})=>{const{addToCart:r}=Fl();if(!e)return null;const s=()=>{r(t),n()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b p-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:t.name}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Rn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:t.imageUrl||"https://images.pexels.com/photos/90946/pexels-photo-90946.jpeg",alt:t.name,className:"w-full h-64 object-cover rounded-lg"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:t.description})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-3xl font-bold text-blue-600",children:An(t.price)}),a.jsxs("span",{className:"text-sm text-gray-500 ml-4",children:["Stock: ",t.stock]})]}),a.jsx("span",{className:"bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-sm",children:t.category})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsxs("button",{onClick:s,disabled:t.stock===0,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center",children:[a.jsx(Hi,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),a.jsx(Y,{to:"/estimate",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-medium transition-colors text-center",onClick:n,children:"Get Estimate"})]})]})]})]})})},sT=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(null),[s,i]=v.useState("all"),[o,l]=v.useState(""),[c,u]=v.useState({min:0,max:1e4}),[h,f]=v.useState("newest"),[d,g]=v.useState(!1),[y,x]=v.useState(!0);v.useEffect(()=>{const p=W(B,"products"),_=Rt(p,N=>{if(N.exists()){const b=N.val(),I=Object.keys(b).map(S=>({id:S,...b[S]}));e(I)}else e([]);x(!1)});return()=>_()},[]);const w=["all",...Array.from(new Set(t.map(p=>p.category)))],m=t.filter(p=>!(s!=="all"&&p.category!==s||o&&!p.name.toLowerCase().includes(o.toLowerCase())&&!p.description.toLowerCase().includes(o.toLowerCase())||p.price<c.min||p.price>c.max)).sort((p,_)=>{switch(h){case"name":return p.name.localeCompare(_.name);case"price":return p.price-_.price;case"newest":return new Date(_.createdAt).getTime()-new Date(p.createdAt).getTime();default:return 0}});return y?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Product Catalogue"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(Vj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search products...",value:o,onChange:p=>l(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(p=>a.jsx("button",{onClick:()=>i(p),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s===p?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),a.jsxs("select",{value:h,onChange:p=>f(p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"newest",children:"Newest First"}),a.jsx("option",{value:"name",children:"Name A-Z"}),a.jsx("option",{value:"price",children:"Price Low to High"})]}),a.jsxs("button",{onClick:()=>g(!d),className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Oj,{className:"w-4 h-4 mr-2"}),"Filters"]})]}),d&&a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Price Range: ",An(c.min)," - ",An(c.max)]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("input",{type:"number",placeholder:"Min",value:c.min,onChange:p=>u({...c,min:Number(p.target.value)}),className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("span",{children:"to"}),a.jsx("input",{type:"number",placeholder:"Max",value:c.max,onChange:p=>u({...c,max:Number(p.target.value)}),className:"w-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{l(""),i("all"),u({min:0,max:1e4}),f("newest")},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Clear All Filters"})})]})})]})]}),m.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("p",{className:"text-xl text-gray-600",children:o||s!=="all"?"No products match your filters.":"No products found."}),(o||s!=="all")&&a.jsx("button",{onClick:()=>{l(""),i("all"),u({min:0,max:1e4})},className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Clear filters"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",m.length," of ",t.length," products"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(p=>a.jsx(nT,{product:p,onViewDetails:()=>r(p)},p.id))})]}),n&&a.jsx(rT,{product:n,isOpen:!!n,onClose:()=>r(null)})]})})},iT=()=>{const{cartItems:t,updateQuantity:e,removeFromCart:n,getTotalPrice:r,clearCart:s}=Fl(),i=async()=>{try{const o=r(),l=`order_${Date.now()}`,c=await tT(o,l),u={key:Ir.keyId,amount:c.amount,currency:c.currency,name:Ir.companyName,description:Ir.description,order_id:c.id,image:Ir.image,theme:Ir.theme,handler:function(f){P.success("Payment successful!"),console.log("Payment response:",f),s()},prefill:{name:"Customer Name",email:"customer@example.com",contact:"9999999999"},modal:{ondismiss:function(){P.error("Payment cancelled")}}};new window.Razorpay(u).open()}catch(o){P.error("Failed to initiate payment"),console.error("Payment error:",o)}};return t.length===0?a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center py-16",children:[a.jsx(rl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to add items to your cart"}),a.jsx(Y,{to:"/catalogue",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Continue Shopping"})]})})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"}),a.jsx("button",{onClick:s,className:"text-red-600 hover:text-red-700 font-medium",children:"Clear Cart"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[a.jsx("div",{className:"p-6",children:t.map(o=>a.jsxs("div",{className:"flex items-center py-4 border-b border-gray-200 last:border-b-0",children:[a.jsx("img",{src:o.product.imageUrl||"https://images.pexels.com/photos/90946/pexels-photo-90946.jpeg",alt:o.product.name,className:"w-16 h-16 object-cover rounded-lg mr-4"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.product.name}),a.jsxs("p",{className:"text-gray-600",children:["$",o.product.price," each"]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>e(o.id,o.quantity-1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Hj,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-lg font-medium w-8 text-center",children:o.quantity}),a.jsx("button",{onClick:()=>e(o.id,o.quantity+1),disabled:o.quantity>=o.product.stock,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:a.jsx(qh,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"text-lg font-semibold text-gray-900 ml-6 w-20 text-right",children:An(o.product.price*o.quantity)}),a.jsx("button",{onClick:()=>n(o.id),className:"ml-4 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(fs,{className:"w-4 h-4"})})]},o.id))}),a.jsxs("div",{className:"border-t border-gray-200 p-6",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("span",{className:"text-xl font-semibold",children:["Total: ",An(r())]})}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx(Y,{to:"/catalogue",className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium transition-colors text-center",children:"Continue Shopping"}),a.jsxs("button",{onClick:i,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:["Pay ",An(r())]})]})]})]})]})})},oT=()=>{const{currentUser:t,updateProfile:e}=Ke(),[n,r]=v.useState(!1),[s,i]=v.useState(!1),[o,l]=v.useState({displayName:(t==null?void 0:t.displayName)||"",profileImage:null}),[c,u]=v.useState(null);if(!t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("p",{children:"Please log in to view your profile."})});const h=g=>{var x;const y=(x=g.target.files)==null?void 0:x[0];if(y){l({...o,profileImage:y});const w=new FileReader;w.onloadend=()=>{u(w.result)},w.readAsDataURL(y)}},f=async g=>{g.preventDefault(),i(!0);try{await e(o.displayName,o.profileImage||void 0),r(!1),u(null),l({...o,profileImage:null})}catch(y){console.error("Error updating profile:",y)}finally{i(!1)}},d=()=>{r(!1),l({displayName:(t==null?void 0:t.displayName)||"",profileImage:null}),u(null)};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-8",children:a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"relative",children:[t.profileImage||c?a.jsx("img",{src:c||t.profileImage,alt:"Profile",className:"w-20 h-20 rounded-full object-cover border-4 border-white"}):a.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center border-4 border-white",children:a.jsx(Gt,{className:"w-10 h-10 text-blue-600"})}),n&&a.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full cursor-pointer transition-colors",children:[a.jsx(bm,{className:"w-4 h-4"}),a.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"})]})]}),a.jsxs("div",{className:"text-white ml-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:t.displayName||"User"}),a.jsx("p",{className:"text-blue-100",children:t.email})]})]})}),a.jsx("div",{className:"p-6",children:n?a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:c||t.profileImage?a.jsx("img",{src:c||t.profileImage,alt:"Profile preview",className:"w-16 h-16 rounded-full object-cover"}):a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx(Gt,{className:"w-8 h-8 text-gray-400"})})}),a.jsxs("label",{className:"bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer flex items-center",children:[a.jsx(bm,{className:"w-4 h-4 mr-2"}),"Choose Photo",a.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"})]})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload a profile picture (JPG, PNG, GIF up to 10MB)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),a.jsx("input",{type:"text",value:o.displayName,onChange:g=>l({...o,displayName:g.target.value}),placeholder:"Enter your display name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:t.email,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Email address cannot be changed"})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsxs("button",{type:"button",onClick:d,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center",children:[a.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Cancel"]}),a.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center",children:s?"Updating...":a.jsxs(a.Fragment,{children:[a.jsx(Rv,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(fo,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),a.jsx("p",{className:"text-gray-900",children:t.email})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Gt,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Display Name"}),a.jsx("p",{className:"text-gray-900",children:t.displayName||"Not set"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(po,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Role"}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.role==="admin"?"bg-purple-100 text-purple-800":t.role==="employee"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:t.role.charAt(0).toUpperCase()+t.role.slice(1)})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Tv,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),a.jsx("p",{className:"text-gray-900",children:new Date(t.createdAt).toLocaleDateString()})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-gray-200",children:a.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors flex items-center",children:[a.jsx($l,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]})})]})})})},aT=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!1),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState({name:"",description:"",price:"",category:"",stock:"",imageFile:null});v.useEffect(()=>{const y=W(B,"products"),x=Rt(y,w=>{if(w.exists()){const m=w.val(),p=Object.keys(m).map(_=>({id:_,...m[_]}));e(p)}else e([])});return()=>x()},[]);const h=async y=>{y.preventDefault(),l(!0);try{let x="";c.imageFile&&(x=await Sv(c.imageFile));const w={name:c.name,description:c.description,price:parseFloat(c.price),category:c.category,stock:parseInt(c.stock),imageUrl:x||(s==null?void 0:s.imageUrl)||"",updatedAt:new Date().toISOString(),...s?{}:{createdAt:new Date().toISOString()}};if(s){const m=W(B,`products/${s.id}`);await Ne(m,w),P.success("Product updated successfully!")}else{const m=W(B,"products");await ho(m,w),P.success("Product added successfully!")}g()}catch(x){P.error("Failed to save product"),console.error("Error saving product:",x)}finally{l(!1)}},f=y=>{i(y),u({name:y.name,description:y.description,price:y.price.toString(),category:y.category,stock:y.stock.toString(),imageFile:null}),r(!0)},d=async y=>{if(confirm("Are you sure you want to delete this product?"))try{const x=W(B,`products/${y}`);await hi(x),P.success("Product deleted successfully!")}catch(x){P.error("Failed to delete product"),console.error("Error deleting product:",x)}},g=()=>{u({name:"",description:"",price:"",category:"",stock:"",imageFile:null}),i(null),r(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Product Management"}),a.jsxs("button",{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center",children:[a.jsx(qh,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:s?"Edit Product":"Add New Product"}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),a.jsx("input",{type:"text",required:!0,value:c.name,onChange:y=>u({...c,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{required:!0,value:c.description,onChange:y=>u({...c,description:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),a.jsx("input",{type:"number",step:"0.01",required:!0,value:c.price,onChange:y=>u({...c,price:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock"}),a.jsx("input",{type:"number",required:!0,value:c.stock,onChange:y=>u({...c,stock:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("input",{type:"text",required:!0,value:c.category,onChange:y=>u({...c,category:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:y=>{var x;return u({...c,imageFile:((x=y.target.files)==null?void 0:x[0])||null})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:g,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-4 rounded-lg font-medium transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors disabled:opacity-50",children:o?"Saving...":s?"Update":"Add"})]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(y=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:y.imageUrl||"https://images.pexels.com/photos/90946/pexels-photo-90946.jpeg",alt:y.name,className:"w-10 h-10 object-cover rounded-lg mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:y.description})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.category}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:An(y.price)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.stock}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>f(y),className:"text-blue-600 hover:text-blue-900 p-1",children:a.jsx($l,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>d(y.id),className:"text-red-600 hover:text-red-900 p-1",children:a.jsx(fs,{className:"w-4 h-4"})})]})})]},y.id))})]})})})]})},Ov=()=>{const[t,e]=v.useState([]),[n,r]=v.useState([]),[s,i]=v.useState(!1),{currentUser:o}=Ke();v.useEffect(()=>{const u=W(B,"products"),h=W(B,"inventory"),f=Rt(u,g=>{if(g.exists()){const y=g.val(),x=Object.keys(y).map(w=>({id:w,...y[w]}));e(x)}}),d=Rt(h,g=>{if(g.exists()){const y=g.val(),x=Object.keys(y).map(w=>({id:w,...y[w]}));r(x)}});return()=>{f(),d()}},[]);const l=async(u,h)=>{i(!0);try{const f=W(B,`products/${u}`),d=t.find(g=>g.id===u);if(d){await Ne(f,{...d,stock:h,updatedAt:new Date().toISOString()});const g=W(B,`inventory/${u}`);await Ne(g,{productId:u,currentStock:h,minimumStock:10,lastUpdated:new Date().toISOString(),updatedBy:(o==null?void 0:o.email)||"unknown"}),P.success("Stock updated successfully!")}}catch(f){P.error("Failed to update stock"),console.error("Error updating stock:",f)}finally{i(!1)}},c=()=>t.filter(u=>u.stock<10);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"})}),c().length>0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pj,{className:"w-5 h-5 text-yellow-600 mr-2"}),a.jsx("h3",{className:"text-lg font-medium text-yellow-800",children:"Low Stock Alert"})]}),a.jsxs("p",{className:"text-yellow-700 mt-1",children:[c().length," items are running low on stock"]}),a.jsx("div",{className:"mt-2",children:c().map(u=>a.jsxs("span",{className:"inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm mr-2 mb-1",children:[u.name," (",u.stock," left)"]},u.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Stock Levels"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(u=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:u.imageUrl||"https://images.pexels.com/photos/90946/pexels-photo-90946.jpeg",alt:u.name,className:"w-10 h-10 object-cover rounded-lg mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.name}),a.jsx("div",{className:"text-sm text-gray-500",children:u.category})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-900",children:u.stock}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>l(u.id,u.stock-1),disabled:s||u.stock<=0,className:"p-1 text-red-600 hover:bg-red-50 rounded disabled:opacity-50",children:a.jsx(Gj,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>l(u.id,u.stock+1),disabled:s,className:"p-1 text-green-600 hover:bg-green-50 rounded disabled:opacity-50",children:a.jsx(Dv,{className:"w-4 h-4"})})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.stock===0?"bg-red-100 text-red-800":u.stock<10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:u.stock===0?"Out of Stock":u.stock<10?"Low Stock":"In Stock"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("input",{type:"number",min:"0",defaultValue:u.stock,onBlur:h=>{const f=parseInt(h.target.value);f!==u.stock&&f>=0&&l(u.id,f)},className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]},u.id))})]})})]})]})},lT=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(null);v.useEffect(()=>{const i=W(B,"users"),o=Rt(i,l=>{if(l.exists()){const c=l.val(),u=Object.keys(c).map(h=>({uid:h,...c[h]}));e(u)}});return()=>o()},[]);const s=async(i,o)=>{try{const l=t.find(c=>c.uid===i);if(l){const c=W(B,`users/${i}`);await Ne(c,{...l,role:o}),P.success("User role updated successfully!")}}catch(l){P.error("Failed to update user role"),console.error("Error updating user role:",l)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(i=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center mr-3",children:a.jsx(Kj,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.displayName||i.email}),a.jsx("div",{className:"text-sm text-gray-500",children:i.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("select",{value:i.role,onChange:o=>s(i.uid,o.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"customer",children:"Customer"}),a.jsx("option",{value:"employee",children:"Employee"}),a.jsx("option",{value:"admin",children:"Admin"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(i.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{onClick:()=>r(i),className:"text-blue-600 hover:text-blue-900 p-1",children:a.jsx($l,{className:"w-4 h-4"})})})})]},i.uid))})]})})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit User"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:n.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{value:n.role,onChange:i=>r({...n,role:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"customer",children:"Customer"}),a.jsx("option",{value:"employee",children:"Employee"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{onClick:()=>r(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-4 rounded-lg font-medium transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{s(n.uid,n.role),r(null)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Save"})]})]})]})})]})},cT=()=>{const[t,e]=v.useState([]),[n,r]=v.useState("all"),[s,i]=v.useState(null),{currentUser:o}=Ke();v.useEffect(()=>{const d=W(B,"testimonials"),g=Rt(d,y=>{if(y.exists()){const x=y.val(),w=Object.keys(x).map(m=>({id:m,...x[m]}));e(w.sort((m,p)=>new Date(p.createdAt).getTime()-new Date(m.createdAt).getTime()))}else e([])});return()=>g()},[]);const l=async d=>{try{const g=t.find(y=>y.id===d);if(g){const y=W(B,`testimonials/${d}`);await Ne(y,{...g,isApproved:!0,approvedAt:new Date().toISOString(),approvedBy:(o==null?void 0:o.email)||"admin"}),P.success("Testimonial approved successfully!")}}catch(g){P.error("Failed to approve testimonial"),console.error("Error approving testimonial:",g)}},c=async d=>{try{const g=t.find(y=>y.id===d);if(g){const y=W(B,`testimonials/${d}`);await Ne(y,{...g,isApproved:!1}),P.success("Testimonial rejected")}}catch(g){P.error("Failed to reject testimonial"),console.error("Error rejecting testimonial:",g)}},u=async d=>{if(confirm("Are you sure you want to delete this testimonial?"))try{const g=W(B,`testimonials/${d}`);await hi(g),P.success("Testimonial deleted successfully!")}catch(g){P.error("Failed to delete testimonial"),console.error("Error deleting testimonial:",g)}},h=t.filter(d=>n==="pending"?!d.isApproved:n==="approved"?d.isApproved:!0),f=d=>a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${d?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:d?"Approved":"Pending"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Testimonial Management"}),a.jsx("div",{className:"flex space-x-2",children:["all","pending","approved"].map(d=>a.jsxs("button",{onClick:()=>r(d),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n===d?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.charAt(0).toUpperCase()+d.slice(1),d==="pending"&&a.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:t.filter(g=>!g.isApproved).length})]},d))})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(d=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[d.userImage?a.jsx("img",{src:d.userImage,alt:d.userName,className:"w-10 h-10 rounded-full object-cover mr-3"}):a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center mr-3",children:a.jsx(Gt,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.userName}),a.jsx("div",{className:"text-sm text-gray-500",children:d.userEmail})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:d.title}),a.jsx("div",{className:"text-sm text-gray-500 truncate",children:d.content})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[[...Array(d.rating)].map((g,y)=>a.jsx(es,{className:"w-4 h-4 text-yellow-400 fill-current"},y)),a.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[d.rating,"/5"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f(d.isApproved)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(d.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>i(d),className:"text-blue-600 hover:text-blue-900 p-1",title:"View Details",children:a.jsx(Ul,{className:"w-4 h-4"})}),!d.isApproved&&a.jsx("button",{onClick:()=>l(d.id),className:"text-green-600 hover:text-green-900 p-1",title:"Approve",children:a.jsx(Sm,{className:"w-4 h-4"})}),d.isApproved&&a.jsx("button",{onClick:()=>c(d.id),className:"text-yellow-600 hover:text-yellow-900 p-1",title:"Reject",children:a.jsx(Rn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>u(d.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:a.jsx(fs,{className:"w-4 h-4"})})]})})]},d.id))})]})})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Testimonial Details"}),a.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Rn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[s.userImage?a.jsx("img",{src:s.userImage,alt:s.userName,className:"w-16 h-16 rounded-full object-cover"}):a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx(Gt,{className:"w-8 h-8 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold",children:s.userName}),a.jsx("p",{className:"text-gray-600",children:s.userEmail}),a.jsxs("div",{className:"flex items-center mt-1",children:[[...Array(s.rating)].map((d,g)=>a.jsx(es,{className:"w-4 h-4 text-yellow-400 fill-current"},g)),a.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[s.rating,"/5"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Review Title"}),a.jsx("p",{className:"text-gray-700",children:s.title})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:"Review Content"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.content})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Submitted:"})," ",new Date(s.createdAt).toLocaleString()]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",f(s.isApproved)]}),s.approvedAt&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Approved:"})," ",new Date(s.approvedAt).toLocaleString()]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Approved By:"})," ",s.approvedBy]})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[s.isApproved?a.jsxs("button",{onClick:()=>{c(s.id),i(null)},className:"flex-1 bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center",children:[a.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Reject Testimonial"]}):a.jsxs("button",{onClick:()=>{l(s.id),i(null)},className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center",children:[a.jsx(Sm,{className:"w-4 h-4 mr-2"}),"Approve Testimonial"]}),a.jsxs("button",{onClick:()=>{u(s.id),i(null)},className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center",children:[a.jsx(fs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})]})},uT=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(null),[s,i]=v.useState("all"),[o,l]=v.useState(""),[c,u]=v.useState(!1);Ke(),v.useEffect(()=>{const x=W(B,"contactMessages"),w=Rt(x,m=>{if(m.exists()){const p=m.val(),_=Object.keys(p).map(N=>({id:N,...p[N]}));e(_.sort((N,b)=>new Date(b.createdAt).getTime()-new Date(N.createdAt).getTime()))}else e([])});return()=>w()},[]);const h=async x=>{try{const w=t.find(m=>m.id===x);if(w&&!w.isRead){const m=W(B,`contactMessages/${x}`);await Ne(m,{...w,isRead:!0})}}catch(w){console.error("Error marking message as read:",w)}},f=async x=>{if(!o.trim()){P.error("Please enter a response");return}u(!0);try{const w=t.find(m=>m.id===x);if(w){const m=W(B,`contactMessages/${x}`);await Ne(m,{...w,response:o,respondedAt:new Date().toISOString(),isRead:!0}),P.success("Response saved successfully!"),l(""),r(null)}}catch(w){P.error("Failed to save response"),console.error("Error saving response:",w)}finally{u(!1)}},d=async x=>{if(confirm("Are you sure you want to delete this message?"))try{const w=W(B,`contactMessages/${x}`);await Ne(w,null),P.success("Message deleted successfully!")}catch(w){P.error("Failed to delete message"),console.error("Error deleting message:",w)}},g=t.filter(x=>s==="unread"?!x.isRead:s==="read"?x.isRead:!0),y=t.filter(x=>!x.isRead).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Messages"}),a.jsx("div",{className:"flex space-x-2",children:["all","unread","read"].map(x=>a.jsxs("button",{onClick:()=>i(x),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s===x?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[x.charAt(0).toUpperCase()+x.slice(1),x==="unread"&&y>0&&a.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:y})]},x))})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(x=>a.jsxs("tr",{className:x.isRead?"":"bg-blue-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[x.isRead?a.jsx(zj,{className:"w-5 h-5 text-gray-400"}):a.jsx(fo,{className:"w-5 h-5 text-blue-600"}),x.response&&a.jsx(Im,{className:"w-4 h-4 text-green-600 ml-2"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name}),a.jsx("div",{className:"text-sm text-gray-500",children:x.email})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 truncate max-w-xs",children:x.subject})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gh,{className:"w-4 h-4 mr-1"}),new Date(x.createdAt).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{r(x),h(x.id)},className:"text-blue-600 hover:text-blue-900 p-1",title:"View Message",children:a.jsx(Ul,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>d(x.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Message",children:a.jsx(fs,{className:"w-4 h-4"})})]})})]},x.id))})]})})}),n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"sticky top-0 bg-white border-b p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n.subject}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["From: ",n.name," (",n.email,")"]}),a.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.createdAt).toLocaleString()})]}),a.jsx("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-600",children:""})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Message"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:n.message})})]}),n.response&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Previous Response"}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:n.response}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Responded on ",new Date(n.respondedAt).toLocaleString()]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:n.response?"Update Response":"Send Response"}),a.jsx("textarea",{value:o,onChange:x=>l(x.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type your response here..."})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>r(null),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-4 rounded-lg font-medium transition-colors",children:"Close"}),a.jsx("button",{onClick:()=>f(n.id),disabled:c||!o.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center",children:c?"Saving...":a.jsxs(a.Fragment,{children:[a.jsx(Im,{className:"w-4 h-4 mr-2"}),n.response?"Update Response":"Send Response"]})})]})]})]})})]})},dT=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState({section:"header",key:"",value:""}),{currentUser:h}=Ke();v.useEffect(()=>{const x=W(B,"siteContent"),w=Rt(x,m=>{if(m.exists()){const p=m.val(),_=Object.keys(p).map(N=>({id:N,...p[N]}));e(_.sort((N,b)=>N.section.localeCompare(b.section)))}else e([])});return()=>w()},[]);const f=async x=>{l(!0);try{const w=W(B,`siteContent/${x.id}`);await Ne(w,{...x,updatedAt:new Date().toISOString(),updatedBy:(h==null?void 0:h.email)||"admin"}),P.success("Content updated successfully!"),r(null)}catch(w){P.error("Failed to update content"),console.error("Error updating content:",w)}finally{l(!1)}},d=async()=>{if(!c.key||!c.value){P.error("Please fill in all fields");return}l(!0);try{const x=W(B,"siteContent");await ho(x,{section:c.section,key:c.key,value:c.value,updatedAt:new Date().toISOString(),updatedBy:(h==null?void 0:h.email)||"admin"}),P.success("Content added successfully!"),u({section:"header",key:"",value:""}),i(!1)}catch(x){P.error("Failed to add content"),console.error("Error adding content:",x)}finally{l(!1)}},g=async x=>{if(confirm("Are you sure you want to delete this content?"))try{const w=W(B,`siteContent/${x}`);await Ne(w,null),P.success("Content deleted successfully!")}catch(w){P.error("Failed to delete content"),console.error("Error deleting content:",w)}},y=t.reduce((x,w)=>(x[w.section]||(x[w.section]=[]),x[w.section].push(w),x),{});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Content Management"}),a.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center",children:[a.jsx(qh,{className:"w-4 h-4 mr-2"}),"Add Content"]})]}),s&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Content"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),a.jsxs("select",{value:c.section,onChange:x=>u({...c,section:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"header",children:"Header"}),a.jsx("option",{value:"footer",children:"Footer"}),a.jsx("option",{value:"hero",children:"Hero"}),a.jsx("option",{value:"about",children:"About"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key"}),a.jsx("input",{type:"text",value:c.key,onChange:x=>u({...c,key:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., company_name, tagline"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Value"}),a.jsx("input",{type:"text",value:c.value,onChange:x=>u({...c,value:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Content value"})]})]}),a.jsxs("div",{className:"flex space-x-4 mt-4",children:[a.jsx("button",{onClick:()=>i(!1),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-medium transition-colors",children:"Cancel"}),a.jsx("button",{onClick:d,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50",children:o?"Adding...":"Add Content"})]})]}),Object.entries(y).map(([x,w])=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ju,{className:"w-5 h-5 text-gray-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:x}),a.jsxs("span",{className:"ml-2 bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs",children:[w.length," items"]})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:w.map(m=>a.jsx("div",{className:"p-6",children:(n==null?void 0:n.id)===m.id?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key"}),a.jsx("input",{type:"text",value:n.key,onChange:p=>r({...n,key:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Value"}),a.jsx("textarea",{value:n.value,onChange:p=>r({...n,value:p.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>f(n),disabled:o,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center",children:[a.jsx(Rv,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save"]}),a.jsxs("button",{onClick:()=>r(null),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-medium transition-colors flex items-center",children:[a.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:m.key}),a.jsx("span",{className:"ml-2 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:m.section})]}),a.jsx("p",{className:"text-gray-700 mb-2",children:m.value}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(m.updatedAt).toLocaleString()," by ",m.updatedBy]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>r(m),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit",children:a.jsx($l,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>g(m.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete",children:a.jsx(fs,{className:"w-4 h-4"})})]})]})},m.id))})]},x)),t.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ju,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No content found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start by adding some content to manage your site."}),a.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Add First Content"})]})]})},hT=()=>{const[t,e]=v.useState("overview"),{currentUser:n}=Ke(),r=[{id:"overview",label:"Overview",icon:Qu},{id:"inventory",label:"Inventory",icon:tl},{id:"profile",label:"Profile",icon:Gt}],s=()=>{switch(t){case"overview":return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Tasks Completed Today"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"0"})]}),a.jsx(Qu,{className:"w-8 h-8 text-blue-600"})]})}),a.jsx("div",{className:"bg-green-50 p-6 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Inventory Updates"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:"0"})]}),a.jsx(tl,{className:"w-8 h-8 text-green-600"})]})})]});case"inventory":return a.jsx(Ov,{});case"profile":return a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"My Profile"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:(n==null?void 0:n.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsx("input",{type:"text",value:(n==null?void 0:n.role)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]})]})]});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Employee Dashboard"}),a.jsx("p",{className:"text-sm text-gray-600",children:n==null?void 0:n.email})]}),a.jsx("nav",{className:"p-4",children:r.map(i=>a.jsxs("button",{onClick:()=>e(i.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg mb-2 transition-colors ${t===i.id?"bg-blue-100 text-blue-600":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(i.icon,{className:"w-5 h-5"}),a.jsx("span",{children:i.label})]},i.id))})]}),a.jsxs("div",{className:"flex-1 p-8",children:[a.jsx("div",{className:"mb-6",children:a.jsx("h1",{className:"text-3xl font-bold text-gray-900 capitalize",children:t})}),s()]})]})})},fT=()=>{const{currentUser:t}=Ke(),[e,n]=v.useState("overview"),r=(t==null?void 0:t.role)==="admin";if((t==null?void 0:t.role)==="employee")return a.jsx(hT,{});const i=[{id:"overview",label:"Overview",icon:Qu},{id:"products",label:"Products",icon:tl},{id:"inventory",label:"Inventory",icon:Hi},{id:"users",label:"Users",icon:Un},{id:"testimonials",label:"Testimonials",icon:Bj},{id:"contacts",label:"Contact Messages",icon:fo},{id:"content",label:"Content Management",icon:Ju},{id:"settings",label:"Settings",icon:Av}],o=()=>{switch(e){case"overview":return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-blue-50 p-6 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total Products"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"0"})]}),a.jsx(tl,{className:"w-8 h-8 text-blue-600"})]})}),a.jsx("div",{className:"bg-green-50 p-6 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:"0"})]}),a.jsx(Un,{className:"w-8 h-8 text-green-600"})]})}),a.jsx("div",{className:"bg-purple-50 p-6 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-purple-600 text-sm font-medium",children:"Low Stock Items"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:"0"})]}),a.jsx(Dv,{className:"w-8 h-8 text-purple-600"})]})}),a.jsx("div",{className:"bg-orange-50 p-6 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-orange-600 text-sm font-medium",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-bold text-orange-900",children:"0"})]}),a.jsx(Hi,{className:"w-8 h-8 text-orange-600"})]})})]});case"products":return a.jsx(aT,{});case"inventory":return a.jsx(Ov,{});case"users":return a.jsx(lT,{});case"testimonials":return a.jsx(cT,{});case"contacts":return a.jsx(uT,{});case"content":return a.jsx(dT,{});case"settings":return a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Settings panel coming soon..."})]});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-64 bg-white shadow-lg",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Admin Panel":"Dashboard"}),a.jsx("p",{className:"text-sm text-gray-600",children:t==null?void 0:t.email})]}),a.jsx("nav",{className:"p-4",children:i.map(l=>a.jsxs("button",{onClick:()=>n(l.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg mb-2 transition-colors ${e===l.id?"bg-blue-100 text-blue-600":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(l.icon,{className:"w-5 h-5"}),a.jsx("span",{children:l.label})]},l.id))})]}),a.jsxs("div",{className:"flex-1 p-8",children:[a.jsx("div",{className:"mb-6",children:a.jsx("h1",{className:"text-3xl font-bold text-gray-900 capitalize",children:e})}),o()]})]})})},pT=()=>a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"About Our Shop"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We are a passionate team dedicated to providing high-quality products and exceptional customer service."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center mb-16",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Founded with a vision to make quality products accessible to everyone, our shop has been serving customers with dedication and excellence for years."}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We believe in building lasting relationships with our customers by providing not just products, but complete solutions that meet their needs."}),a.jsx("p",{className:"text-gray-600",children:"Our commitment to quality, innovation, and customer satisfaction drives everything we do."})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg p-8 text-white",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Why Choose Us?"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx(jv,{className:"w-5 h-5 mr-2"}),"Quality Guarantee"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(km,{className:"w-5 h-5 mr-2"}),"Customer First Approach"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(jm,{className:"w-5 h-5 mr-2"}),"Competitive Pricing"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(Un,{className:"w-5 h-5 mr-2"}),"Expert Support Team"]})]})]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Our Values"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(jm,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Excellence"}),a.jsx("p",{className:"text-gray-600",children:"We strive for excellence in every product we offer and every service we provide."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(km,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Integrity"}),a.jsx("p",{className:"text-gray-600",children:"Honesty and transparency are at the core of all our business relationships."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Un,{className:"w-8 h-8 text-purple-600"})}),a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Community"}),a.jsx("p",{className:"text-gray-600",children:"We believe in building strong relationships and giving back to our community."})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Meet Our Team"}),a.jsx("p",{className:"text-center text-gray-600 max-w-2xl mx-auto",children:"Our dedicated team of professionals is here to help you find exactly what you need. With years of experience and a passion for customer service, we're committed to your satisfaction."})]})]})}),mT=()=>{const[t,e]=v.useState({name:"",email:"",subject:"",message:""}),[n,r]=v.useState(!1),s=async o=>{o.preventDefault(),r(!0);try{const l=W(B,"contactMessages");await ho(l,{name:t.name,email:t.email,subject:t.subject,message:t.message,isRead:!1,createdAt:new Date().toISOString()}),P.success("Message sent successfully! We'll get back to you soon."),e({name:"",email:"",subject:"",message:""})}catch(l){P.error("Failed to send message. Please try again."),console.error("Error sending contact message:",l)}finally{r(!1)}},i=o=>{e({...t,[o.target.name]:o.target.value})};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-xl text-gray-600",children:"We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(fo,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Email"}),a.jsx("p",{className:"text-gray-600",children:"contact@shop.com"}),a.jsx("p",{className:"text-gray-600",children:"support@shop.com"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(nl,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Phone"}),a.jsx("p",{className:"text-gray-600",children:"+1 (555) 123-4567"}),a.jsx("p",{className:"text-gray-600",children:"+1 (555) 987-6543"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(Pv,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Address"}),a.jsx("p",{className:"text-gray-600",children:"123 Business Street"}),a.jsx("p",{className:"text-gray-600",children:"City, State 12345"})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Business Hours"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Monday - Friday"}),a.jsx("span",{children:"9:00 AM - 6:00 PM"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Saturday"}),a.jsx("span",{children:"10:00 AM - 4:00 PM"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Sunday"}),a.jsx("span",{children:"Closed"})]})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),a.jsxs("form",{onSubmit:s,className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:t.name,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your full name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your.email@example.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:t.subject,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"What is this about?"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),a.jsx("textarea",{id:"message",name:"message",required:!0,rows:6,value:t.message,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us more about your inquiry..."})]}),a.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center",children:n?"Sending...":a.jsxs(a.Fragment,{children:["Send Message",a.jsx(Kh,{className:"w-4 h-4 ml-2"})]})})]})]})})]})]})})},gT=()=>{const[t,e]=v.useState({name:"",email:"",phone:"",projectType:"",description:"",budget:"",timeline:""}),[n,r]=v.useState(!1),s=async o=>{o.preventDefault(),r(!0),setTimeout(()=>{P.success("Estimate request sent successfully! We'll contact you within 24 hours."),e({name:"",email:"",phone:"",projectType:"",description:"",budget:"",timeline:""}),r(!1)},1e3)},i=o=>{e({...t,[o.target.name]:o.target.value})};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Rj,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Get Your Estimate"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Tell us about your project and we'll provide you with a detailed estimate within 24 hours."})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[a.jsxs("form",{onSubmit:s,className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:t.name,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your full name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your.email@example.com"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"(555) 123-4567"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"projectType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Type *"}),a.jsxs("select",{id:"projectType",name:"projectType",required:!0,value:t.projectType,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select project type"}),a.jsx("option",{value:"product-inquiry",children:"Product Inquiry"}),a.jsx("option",{value:"bulk-order",children:"Bulk Order"}),a.jsx("option",{value:"custom-solution",children:"Custom Solution"}),a.jsx("option",{value:"consultation",children:"Consultation"}),a.jsx("option",{value:"other",children:"Other"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Description *"}),a.jsx("textarea",{id:"description",name:"description",required:!0,rows:5,value:t.description,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Please describe your project requirements, goals, and any specific details..."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Range"}),a.jsxs("select",{id:"budget",name:"budget",value:t.budget,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select budget range"}),a.jsx("option",{value:"under-1000",children:"Under $1,000"}),a.jsx("option",{value:"1000-5000",children:"$1,000 - $5,000"}),a.jsx("option",{value:"5000-10000",children:"$5,000 - $10,000"}),a.jsx("option",{value:"10000-25000",children:"$10,000 - $25,000"}),a.jsx("option",{value:"over-25000",children:"Over $25,000"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"timeline",className:"block text-sm font-medium text-gray-700 mb-2",children:"Timeline"}),a.jsxs("select",{id:"timeline",name:"timeline",value:t.timeline,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select timeline"}),a.jsx("option",{value:"asap",children:"ASAP"}),a.jsx("option",{value:"1-week",children:"Within 1 week"}),a.jsx("option",{value:"1-month",children:"Within 1 month"}),a.jsx("option",{value:"3-months",children:"Within 3 months"}),a.jsx("option",{value:"flexible",children:"Flexible"})]})]})]}),a.jsx("div",{className:"pt-6",children:a.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center",children:n?"Sending Request...":a.jsxs(a.Fragment,{children:["Send Estimate Request",a.jsx(Kh,{className:"w-4 h-4 ml-2"})]})})})]}),a.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"What happens next?"}),a.jsxs("ul",{className:"text-blue-800 text-sm space-y-1",children:[a.jsx("li",{children:" We'll review your request within 24 hours"}),a.jsx("li",{children:" Our team will contact you to discuss details"}),a.jsx("li",{children:" You'll receive a detailed estimate"}),a.jsx("li",{children:" We'll schedule a consultation if needed"})]})]})]})]})})},yT=()=>a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(po,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Your privacy is important to us. This policy explains how we collect, use, and protect your information."})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:a.jsxs("div",{className:"prose max-w-none",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("p",{className:"text-gray-600 mb-4",children:[a.jsx("strong",{children:"Effective Date:"})," January 1, 2025"]}),a.jsxs("p",{className:"text-gray-600",children:[a.jsx("strong",{children:"Last Updated:"})," January 1, 2025"]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Ul,{className:"w-6 h-6 text-blue-600 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Information We Collect"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We collect information you provide directly to us, such as when you create an account, make a purchase, or contact us for support."}),a.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[a.jsx("li",{children:"Personal information (name, email address, phone number)"}),a.jsx("li",{children:"Account credentials and preferences"}),a.jsx("li",{children:"Purchase history and transaction data"}),a.jsx("li",{children:"Communication preferences"}),a.jsx("li",{children:"Technical information about your device and browser"})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Un,{className:"w-6 h-6 text-green-600 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How We Use Your Information"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We use the information we collect to provide, maintain, and improve our services."}),a.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[a.jsx("li",{children:"Process and fulfill your orders"}),a.jsx("li",{children:"Provide customer support"}),a.jsx("li",{children:"Send important updates about your account or orders"}),a.jsx("li",{children:"Improve our products and services"}),a.jsx("li",{children:"Detect and prevent fraud"}),a.jsx("li",{children:"Comply with legal obligations"})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Uj,{className:"w-6 h-6 text-purple-600 mr-3"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Information Sharing"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We do not sell, trade, or otherwise transfer your personal information to third parties without your consent, except in the following circumstances:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[a.jsx("li",{children:"Service providers who assist us in operating our business"}),a.jsx("li",{children:"Legal requirements or to protect our rights"}),a.jsx("li",{children:"Business transfers (mergers, acquisitions)"}),a.jsx("li",{children:"With your explicit consent"})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Data Security"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. This includes:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[a.jsx("li",{children:"Encryption of sensitive data"}),a.jsx("li",{children:"Regular security assessments"}),a.jsx("li",{children:"Access controls and authentication"}),a.jsx("li",{children:"Secure data storage and transmission"})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your Rights"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You have certain rights regarding your personal information:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[a.jsx("li",{children:"Access and review your personal information"}),a.jsx("li",{children:"Correct or update your information"}),a.jsx("li",{children:"Delete your account and personal information"}),a.jsx("li",{children:"Opt-out of marketing communications"}),a.jsx("li",{children:"Data portability"})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cookies and Tracking"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We use cookies and similar technologies to enhance your experience on our website. These technologies help us:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-2 ml-4",children:[a.jsx("li",{children:"Remember your preferences and settings"}),a.jsx("li",{children:"Understand how you use our website"}),a.jsx("li",{children:"Improve our services"}),a.jsx("li",{children:"Provide personalized content"})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("p",{className:"text-gray-600",children:[a.jsx("strong",{children:"Email:"})," privacy@shop.com",a.jsx("br",{}),a.jsx("strong",{children:"Phone:"})," +1 (555) 123-4567",a.jsx("br",{}),a.jsx("strong",{children:"Address:"})," 123 Business Street, City, State 12345"]})})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Changes to This Policy"}),a.jsx("p",{className:"text-gray-600",children:'We may update this Privacy Policy from time to time. We will notify you of any significant changes by posting the new policy on this page and updating the "Last Updated" date. Your continued use of our services after any changes constitutes acceptance of the updated policy.'})]})]})})]})});function xT(){return a.jsx(kj,{children:a.jsx(Ij,{children:a.jsx(wN,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(Yj,{}),a.jsx("main",{children:a.jsxs(X1,{children:[a.jsx(tt,{path:"/",element:a.jsx(Xj,{})}),a.jsx(tt,{path:"/login",element:a.jsx(Zj,{})}),a.jsx(tt,{path:"/signup",element:a.jsx(eT,{})}),a.jsx(tt,{path:"/catalogue",element:a.jsx(sT,{})}),a.jsx(tt,{path:"/about",element:a.jsx(pT,{})}),a.jsx(tt,{path:"/contact",element:a.jsx(mT,{})}),a.jsx(tt,{path:"/estimate",element:a.jsx(gT,{})}),a.jsx(tt,{path:"/privacy",element:a.jsx(yT,{})}),a.jsx(tt,{path:"/cart",element:a.jsx(Rc,{children:a.jsx(iT,{})})}),a.jsx(tt,{path:"/profile",element:a.jsx(Rc,{children:a.jsx(oT,{})})}),a.jsx(tt,{path:"/admin",element:a.jsx(Rc,{requiredRole:"employee",children:a.jsx(fT,{})})})]})}),a.jsx(Qj,{}),a.jsx(_C,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}})]})})})})}Wy(document.getElementById("root")).render(a.jsx(v.StrictMode,{children:a.jsx(xT,{})}));
